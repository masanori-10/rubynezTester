#Source[
   #List[
      $statement: #ApplyExpr[
         #Self['self']
         $recv: #NameExpr['require']
         $param: #List[
            $expression: #StringExpr['erb']
         ]
      ]
      $statement: #ApplyExpr[
         $recv: #BuiltInVariable['$:']
         $recv: #NameExpr['unshift']
         $param: #List[
            $expression: #ApplyExpr[
               $recv: #NameExpr['File']
               $recv: #NameExpr['dirname']
               $param: #List[
                  $expression: #File['__FILE__']
               ]
            ]
         ]
      ]
      $statement: #ApplyExpr[
         #Self['self']
         $recv: #NameExpr['require']
         $param: #List[
            $expression: #StringExpr['vpath']
         ]
      ]
      $statement: #Class[
         $name: #NameExpr['RubyVM']
         $body: #BlockExpr[
            $main: #List[
               $statement: #Class[
                  $name: #NameExpr['Instruction']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #FuncDecl[
                           $name: #NameExpr['initialize']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['name']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['opes']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['pops']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['rets']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['comm']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['body']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['tvars']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['sp_inc']
                              ]
                              $param: #OptionalParam[
                                 $name: #NameExpr['orig']
                                 $default: #Self['self']
                              ]
                              $param: #OptionalParam[
                                 $name: #NameExpr['defopes']
                                 $default: #Array['[]']
                              ]
                              $param: #OptionalParam[
                                 $name: #NameExpr['type']
                                 $default: #Nil['nil']
                              ]
                              $param: #OptionalParam[
                                 $name: #NameExpr['nsc']
                                 $default: #Array['[]']
                              ]
                              $param: #OptionalParam[
                                 $name: #NameExpr['psc']
                                 $default: #Array[
                                    $index: #List[
                                       $expression: #Array['[]']
                                       $expression: #Array['[]']
                                    ]
                                 ]
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@name']
                                    $right: #NameExpr['name']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@opes']
                                    $right: #NameExpr['opes']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@pops']
                                    $right: #NameExpr['pops']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@rets']
                                    $right: #NameExpr['rets']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@comm']
                                    $right: #NameExpr['comm']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@body']
                                    $right: #NameExpr['body']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@orig']
                                    $right: #NameExpr['orig']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@defopes']
                                    $right: #NameExpr['defopes']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@type']
                                    $right: #NameExpr['type']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@tvars']
                                    $right: #NameExpr['tvars']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@nextsc']
                                    $right: #NameExpr['nsc']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@pushsc']
                                    $right: #NameExpr['psc']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@sc']
                                    $right: #Array['[]']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@unifs']
                                    $right: #Array['[]']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@optimized']
                                    $right: #Array['[]']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@is_sc']
                                    $right: #FalseExpr['false']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@sp_inc']
                                    $right: #NameExpr['sp_inc']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['add_sc']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['sci']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #LShiftExpr[
                                    $left: #NameExpr['@sc']
                                    $right: #NameExpr['sci']
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['sci']
                                    $recv: #NameExpr['set_sc']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['attr_reader']
                           $param: #List[
                              $expression: #NameExpr['name']
                              $expression: #NameExpr['opes']
                              $expression: #NameExpr['pops']
                              $expression: #NameExpr['rets']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['attr_reader']
                           $param: #List[
                              $expression: #NameExpr['body']
                              $expression: #NameExpr['comm']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['attr_reader']
                           $param: #List[
                              $expression: #NameExpr['nextsc']
                              $expression: #NameExpr['pushsc']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['attr_reader']
                           $param: #List[
                              $expression: #NameExpr['orig']
                              $expression: #NameExpr['defopes']
                              $expression: #NameExpr['type']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['attr_reader']
                           $param: #List[
                              $expression: #NameExpr['sc']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['attr_reader']
                           $param: #List[
                              $expression: #NameExpr['unifs']
                              $expression: #NameExpr['optimized']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['attr_reader']
                           $param: #List[
                              $expression: #NameExpr['is_sc']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['attr_reader']
                           $param: #List[
                              $expression: #NameExpr['tvars']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['attr_reader']
                           $param: #List[
                              $expression: #NameExpr['sp_inc']
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['set_sc']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #AssignExpr[
                                 $left: #NameExpr['@is_sc']
                                 $right: #TrueExpr['true']
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['add_unif']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['insns']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #LShiftExpr[
                                 $left: #NameExpr['@unifs']
                                 $right: #NameExpr['insns']
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['add_optimized']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['insn']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #LShiftExpr[
                                 $left: #NameExpr['@optimized']
                                 $right: #NameExpr['insn']
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['sp_increase_c_expr']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #IfExpr[
                                 $cond: #LOr[
                                    $left: #ApplyExpr[
                                       $recv: #NameExpr['pops']
                                       $recv: #NameExpr['any?']
                                       $body: #Block[
                                          $param: #MultipleLeftHandSideExpression[
                                             $item: #NameExpr['t']
                                             $item: #NameExpr['v']
                                          ]
                                          $body: #EqExpr[
                                             $left: #NameExpr['v']
                                             $right: #StringExpr['...']
                                          ]
                                       ]
                                    ]
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['rets']
                                       $recv: #NameExpr['any?']
                                       $body: #Block[
                                          $param: #MultipleLeftHandSideExpression[
                                             $item: #NameExpr['t']
                                             $item: #NameExpr['v']
                                          ]
                                          $body: #EqExpr[
                                             $left: #NameExpr['v']
                                             $right: #StringExpr['...']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $then: #List[
                                    $statement: #IfExpr[
                                       $then: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['raise']
                                          $param: #List[
                                             $expression: #StringExpr['no sp increase definition']
                                          ]
                                       ]
                                       $cond: #ApplyExpr[
                                          $recv: #NameExpr['@sp_inc']
                                          $recv: #NameExpr['nil?']
                                       ]
                                    ]
                                    $statement: #AssignExpr[
                                       $left: #NameExpr['ret']
                                       $right: #StringExpr['int inc = 0;\\n']
                                    ]
                                    $statement: #ApplyExpr[
                                       $recv: #NameExpr['@opes']
                                       $recv: #NameExpr['each_with_index']
                                       $body: #Block[
                                          $param: #MultipleLeftHandSideExpression[
                                             $item: #Grouping[
                                                $item: #MultipleLeftHandSideExpression[
                                                   $item: #NameExpr['t']
                                                   $item: #NameExpr['v']
                                                ]
                                             ]
                                             $item: #NameExpr['i']
                                          ]
                                          $body: #IfExpr[
                                             $cond: #LOr[
                                                $left: #LAnd[
                                                   $left: #EqExpr[
                                                      $left: #NameExpr['t']
                                                      $right: #StringExpr['rb_num_t']
                                                   ]
                                                   $right: #Match[
                                                      $left: #AssignExpr[
                                                         $left: #NameExpr['re']
                                                         $right: #Regex['/\\b#{v}\\b/n']
                                                      ]
                                                      $right: #NameExpr['@sp_inc']
                                                   ]
                                                ]
                                                $right: #ApplyExpr[
                                                   $recv: #NameExpr['@defopes']
                                                   $recv: #NameExpr['any?']
                                                   $body: #Block[
                                                      $param: #MultipleLeftHandSideExpression[
                                                         $item: #NameExpr['t']
                                                         $item: #NameExpr['val']
                                                      ]
                                                      $body: #AssignExpr[
                                                         $left: #NameExpr['re']
                                                         $right: #ComplExpr[
                                                            $expr: #NameExpr['val']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                             $then: #LShiftExpr[
                                                $left: #NameExpr['ret']
                                                $right: #StringExpr[
                                                   $inner: #NameExpr['v']
                                                   $inner: #NameExpr['i']
                                                ]
                                             ]
                                             $else: #IfExpr[
                                                $cond: #LAnd[
                                                   $left: #EqExpr[
                                                      $left: #NameExpr['t']
                                                      $right: #StringExpr['CALL_INFO']
                                                   ]
                                                   $right: #Match[
                                                      $left: #AssignExpr[
                                                         $left: #NameExpr['re']
                                                         $right: #Regex['/\\b#{v}\\b/n']
                                                      ]
                                                      $right: #NameExpr['@sp_inc']
                                                   ]
                                                ]
                                                $then: #LShiftExpr[
                                                   $left: #NameExpr['ret']
                                                   $right: #StringExpr[
                                                      $inner: #NameExpr['v']
                                                      $inner: #NameExpr['i']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                    $statement: #ApplyExpr[
                                       $recv: #NameExpr['@defopes']
                                       $recv: #NameExpr['each_with_index']
                                       $body: #Block[
                                          $param: #MultipleLeftHandSideExpression[
                                             $item: #Grouping[
                                                $item: #MultipleLeftHandSideExpression[
                                                   $item: #Grouping[
                                                      $item: #MultipleLeftHandSideExpression[
                                                         $item: #NameExpr['t']
                                                         $item: #NameExpr['var']
                                                      ]
                                                   ]
                                                   $item: #NameExpr['val']
                                                ]
                                             ]
                                             $item: #NameExpr['i']
                                          ]
                                          $body: #IfExpr[
                                             $cond: #LAnd[
                                                $left: #LAnd[
                                                   $left: #EqExpr[
                                                      $left: #NameExpr['t']
                                                      $right: #StringExpr['rb_num_t']
                                                   ]
                                                   $right: #NeExpr[
                                                      $left: #NameExpr['val']
                                                      $right: #StringExpr['*']
                                                   ]
                                                ]
                                                $right: #Match[
                                                   $left: #Regex['/\\b#{var}\\b/']
                                                   $right: #NameExpr['@sp_inc']
                                                ]
                                             ]
                                             $then: #LShiftExpr[
                                                $left: #NameExpr['ret']
                                                $right: #StringExpr[
                                                   $inner: #NameExpr['t']
                                                   $inner: #NameExpr['var']
                                                   $inner: #NameExpr['val']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                    $statement: #LShiftExpr[
                                       $left: #NameExpr['ret']
                                       $right: #StringExpr[
                                          $inner: #NameExpr['@sp_inc']
                                       ]
                                    ]
                                    $statement: #LShiftExpr[
                                       $left: #NameExpr['ret']
                                       $right: #StringExpr['        return depth + inc;']
                                    ]
                                    $statement: #NameExpr['ret']
                                 ]
                                 $else: #StringExpr[
                                    $inner: #SubExpr[
                                       $left: #ApplyExpr[
                                          $recv: #NameExpr['rets']
                                          $recv: #NameExpr['size']
                                       ]
                                       $right: #ApplyExpr[
                                          $recv: #NameExpr['pops']
                                          $recv: #NameExpr['size']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['inspect']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #StringExpr[
                                 $inner: #NameExpr['@name']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #Class[
                  $name: #NameExpr['InstructionsLoader']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #FuncDecl[
                           $name: #NameExpr['initialize']
                           $param: #List[
                              $param: #OptionalParam[
                                 $name: #NameExpr['opts']
                                 $default: #List['{}']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@insns']
                                    $right: #Array['[]']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@insn_map']
                                    $right: #List['{}']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@vpath']
                                    $right: #LOr[
                                       $left: #Indexer[
                                          $recv: #NameExpr['opts']
                                          $index: #List[
                                             $expression: #NameExpr['VPATH']
                                          ]
                                       ]
                                       $right: #NameExpr['File']
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@use_const']
                                    $right: #Indexer[
                                       $recv: #NameExpr['opts']
                                       $index: #List[
                                          $expression: #NameExpr['use_const']
                                       ]
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@verbose']
                                    $right: #Indexer[
                                       $recv: #NameExpr['opts']
                                       $index: #List[
                                          $expression: #NameExpr['verbose']
                                       ]
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@destdir']
                                    $right: #Indexer[
                                       $recv: #NameExpr['opts']
                                       $index: #List[
                                          $expression: #NameExpr['destdir']
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #AssignExpr[
                                       $left: #NameExpr['@vm_opts']
                                       $right: #NameExpr['load_vm_opts']
                                    ]
                                    $recv: #NameExpr['each']
                                    $body: #Block[
                                       $param: #MultipleLeftHandSideExpression[
                                          $item: #NameExpr['k']
                                          $item: #NameExpr['v']
                                       ]
                                       $body: #IfExpr[
                                          $then: #AssignExpr[
                                             $left: #Indexer[
                                                $base: #NameExpr['@vm_opts']
                                                $index: #List[
                                                   $expression: #NameExpr['k']
                                                ]
                                             ]
                                             $right: #Indexer[
                                                $recv: #NameExpr['opts']
                                                $index: #List[
                                                   $expression: #NameExpr['k']
                                                ]
                                             ]
                                          ]
                                          $cond: #ApplyExpr[
                                             $recv: #NameExpr['opts']
                                             $recv: #NameExpr['key?']
                                             $param: #List[
                                                $expression: #NameExpr['k']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['load_insns_def']
                                    $param: #List[
                                       $expression: #LOr[
                                          $left: #Indexer[
                                             $recv: #NameExpr['opts']
                                             $index: #List[
                                                $expression: #NameExpr['"insns.def"']
                                             ]
                                          ]
                                          $right: #StringExpr['insns.def']
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['load_opt_operand_def']
                                    $param: #List[
                                       $expression: #LOr[
                                          $left: #Indexer[
                                             $recv: #NameExpr['opts']
                                             $index: #List[
                                                $expression: #NameExpr['"opope.def"']
                                             ]
                                          ]
                                          $right: #StringExpr['defs/opt_operand.def']
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['load_insn_unification_def']
                                    $param: #List[
                                       $expression: #LOr[
                                          $left: #Indexer[
                                             $recv: #NameExpr['opts']
                                             $index: #List[
                                                $expression: #NameExpr['"unif.def"']
                                             ]
                                          ]
                                          $right: #StringExpr['defs/opt_insn_unif.def']
                                       ]
                                    ]
                                 ]
                                 $statement: #IfExpr[
                                    $then: #NameExpr['make_stackcaching_insns']
                                    $cond: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['vm_opt?']
                                       $param: #List[
                                          $expression: #StringExpr['STACK_CACHING']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['attr_reader']
                           $param: #List[
                              $expression: #NameExpr['vpath']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['attr_reader']
                           $param: #List[
                              $expression: #NameExpr['destdir']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #ParcentNotation['%w[use_const verbose]']
                           $recv: #NameExpr['each']
                           $body: #Block[
                              $param: #NameExpr['attr']
                              $body: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['attr_reader']
                                    $param: #List[
                                       $expression: #NameExpr['attr']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['alias_method']
                                    $param: #List[
                                       $expression: #StringExpr[
                                          $inner: #NameExpr['attr']
                                       ]
                                       $expression: #NameExpr['attr']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['remove_method']
                                    $param: #List[
                                       $expression: #NameExpr['attr']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['[]']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['s']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #Indexer[
                                 $recv: #NameExpr['@insn_map']
                                 $index: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['s']
                                       $recv: #NameExpr['to_s']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['each']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #ApplyExpr[
                                 $recv: #NameExpr['@insns']
                                 $recv: #NameExpr['each']
                                 $body: #Block[
                                    $param: #NameExpr['insn']
                                    $body: #Yield[
                                       $param: #List[
                                          $expression: #NameExpr['insn']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['size']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #ApplyExpr[
                                 $recv: #NameExpr['@insns']
                                 $recv: #NameExpr['size']
                              ]
                           ]
                        ]
                        $statement: #NameExpr['private']
                        $statement: #FuncDecl[
                           $name: #NameExpr['vm_opt?']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['name']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #Indexer[
                                 $recv: #NameExpr['@vm_opts']
                                 $index: #List[
                                    $expression: #NameExpr['name']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['load_vm_opts']
                           $param: #List[
                              $param: #OptionalParam[
                                 $name: #NameExpr['file']
                                 $default: #Nil['nil']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #LOrAssign[
                                    $left: #NameExpr['file']
                                    $right: #StringExpr['vm_opts.h']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['opts']
                                    $right: #List['{}']
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['vpath']
                                    $recv: #NameExpr['open']
                                    $param: #List[
                                       $expression: #NameExpr['file']
                                    ]
                                    $body: #Block[
                                       $param: #NameExpr['f']
                                       $body: #ApplyExpr[
                                          $recv: #NameExpr['f']
                                          $recv: #NameExpr['grep']
                                          $param: #List[
                                             $expression: #Regex['/^\\#define\\s+OPT_([A-Z_]+)\\s+(\\d+)/']
                                          ]
                                          $body: #Block[
                                             $body: #AssignExpr[
                                                $left: #Indexer[
                                                   $base: #NameExpr['opts']
                                                   $index: #List[
                                                      $expression: #MatchedRegex['$1']
                                                   ]
                                                ]
                                                $right: #NotExpr[
                                                   $expr: #ApplyExpr[
                                                      $recv: #ApplyExpr[
                                                         $recv: #MatchedRegex['$2']
                                                         $recv: #NameExpr['to_i']
                                                      ]
                                                      $recv: #NameExpr['zero?']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #NameExpr['opts']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['SKIP_COMMENT_PATTERN']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Regexp']
                              $recv: #NameExpr['compile']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #NameExpr['Regexp']
                                    $recv: #NameExpr['escape']
                                    $param: #List[
                                       $expression: #StringExpr['/** ##skip']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['include']
                           $param: #List[
                              $expression: #NameExpr['Enumerable']
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['add_insn']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['insn']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #LShiftExpr[
                                    $left: #NameExpr['@insns']
                                    $right: #NameExpr['insn']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #Indexer[
                                       $base: #NameExpr['@insn_map']
                                       $index: #List[
                                          $expression: #ApplyExpr[
                                             $recv: #NameExpr['insn']
                                             $recv: #NameExpr['name']
                                          ]
                                       ]
                                    ]
                                    $right: #NameExpr['insn']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['make_insn']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['name']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['opes']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['pops']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['rets']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['comm']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['body']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['sp_inc']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['add_insn']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['Instruction']
                                       $recv: #NameExpr['new']
                                       $param: #List[
                                          $expression: #NameExpr['name']
                                          $expression: #NameExpr['opes']
                                          $expression: #NameExpr['pops']
                                          $expression: #NameExpr['rets']
                                          $expression: #NameExpr['comm']
                                          $expression: #NameExpr['body']
                                          $expression: #Array['[]']
                                          $expression: #NameExpr['sp_inc']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['parse_vars']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['line']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #Unless[
                                    $then: #NameExpr['raise']
                                    $cond: #Match[
                                       $left: #Regex['/\\((.*?)\\)/']
                                       $right: #NameExpr['line']
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['vars']
                                    $right: #ApplyExpr[
                                       $recv: #MatchedRegex['$1']
                                       $recv: #NameExpr['split']
                                       $param: #List[
                                          $expression: #StringExpr[',']
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['vars']
                                    $recv: #NameExpr['map!']
                                    $body: #Block[
                                       $param: #NameExpr['v']
                                       $body: #List[
                                          $statement: #IfExpr[
                                             $cond: #Match[
                                                $left: #Regex['/\\s*(\\S+)\\s+(\\S+)\\s*/']
                                                $right: #NameExpr['v']
                                             ]
                                             $then: #List[
                                                $statement: #AssignExpr[
                                                   $left: #NameExpr['type']
                                                   $right: #MatchedRegex['$1']
                                                ]
                                                $statement: #AssignExpr[
                                                   $left: #NameExpr['var']
                                                   $right: #MatchedRegex['$2']
                                                ]
                                             ]
                                             $else: #IfExpr[
                                                $cond: #Match[
                                                   $left: #Regex['/\\s*\\.\\.\\.\\s*/']
                                                   $right: #NameExpr['v']
                                                ]
                                                $then: #AssignExpr[
                                                   $left: #NameExpr['type']
                                                   $right: #AssignExpr[
                                                      $left: #NameExpr['var']
                                                      $right: #StringExpr['...']
                                                   ]
                                                ]
                                                $else: #NameExpr['raise']
                                             ]
                                          ]
                                          $statement: #Array[
                                             $index: #List[
                                                $expression: #NameExpr['type']
                                                $expression: #NameExpr['var']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #NameExpr['vars']
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['parse_comment']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['comm']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['c']
                                    $right: #StringExpr['others']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['j']
                                    $right: #StringExpr['']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['e']
                                    $right: #StringExpr['']
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['comm']
                                    $recv: #NameExpr['each_line']
                                    $body: #Block[
                                       $param: #NameExpr['line']
                                       $body: #Case[
                                          $cond: #NameExpr['line']
                                          $body: #List[
                                             $when: #When[
                                                $cond: #List[
                                                   $expression: #Regex['/@c (.+)/']
                                                ]
                                                $then: #AssignExpr[
                                                   $left: #NameExpr['c']
                                                   $right: #MatchedRegex['$1']
                                                ]
                                             ]
                                             $when: #When[
                                                $cond: #List[
                                                   $expression: #Regex['/@e (.+)/']
                                                ]
                                                $then: #AssignExpr[
                                                   $left: #NameExpr['e']
                                                   $right: #MatchedRegex['$1']
                                                ]
                                             ]
                                             $when: #When[
                                                $cond: #List[
                                                   $expression: #Regex['/@e\\s*$/']
                                                ]
                                                $then: #AssignExpr[
                                                   $left: #NameExpr['e']
                                                   $right: #StringExpr['']
                                                ]
                                             ]
                                             $when: #When[
                                                $cond: #List[
                                                   $expression: #Regex['/@j (.+)$/']
                                                ]
                                                $then: #AssignExpr[
                                                   $left: #NameExpr['j']
                                                   $right: #MatchedRegex['$1']
                                                ]
                                             ]
                                             $when: #When[
                                                $cond: #List[
                                                   $expression: #Regex['/@j\\s*$/']
                                                ]
                                                $then: #AssignExpr[
                                                   $left: #NameExpr['j']
                                                   $right: #StringExpr['']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #List[
                                    $hash: #Hash[
                                       $key: #NameExpr['c']
                                       $value: #NameExpr['c']
                                    ]
                                    $hash: #Hash[
                                       $key: #NameExpr['e']
                                       $value: #NameExpr['e']
                                    ]
                                    $hash: #Hash[
                                       $key: #NameExpr['j']
                                       $value: #NameExpr['j']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['load_insns_def']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['file']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['body']
                                    $right: #AssignExpr[
                                       $left: #NameExpr['insn']
                                       $right: #AssignExpr[
                                          $left: #NameExpr['opes']
                                          $right: #AssignExpr[
                                             $left: #NameExpr['pops']
                                             $right: #AssignExpr[
                                                $left: #NameExpr['rets']
                                                $right: #Nil['nil']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['comment']
                                    $right: #StringExpr['']
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['vpath']
                                    $recv: #NameExpr['open']
                                    $param: #List[
                                       $expression: #NameExpr['file']
                                    ]
                                    $body: #Block[
                                       $param: #NameExpr['f']
                                       $body: #List[
                                          $statement: #ApplyExpr[
                                             $recv: #NameExpr['f']
                                             $recv: #NameExpr['instance_variable_set']
                                             $param: #List[
                                                $expression: #NameExpr['@line_no']
                                                $expression: #IntExpr['0']
                                             ]
                                          ]
                                          $statement: #SClass[
                                             $path: #NameExpr['f']
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #FuncDecl[
                                                      $name: #NameExpr['line_no']
                                                      $param: #List['']
                                                      $body: #BlockExpr[
                                                         $main: #NameExpr['@line_no']
                                                      ]
                                                   ]
                                                   $statement: #FuncDecl[
                                                      $name: #NameExpr['gets']
                                                      $param: #List['']
                                                      $body: #BlockExpr[
                                                         $main: #List[
                                                            $statement: #AddAssign[
                                                               $left: #NameExpr['@line_no']
                                                               $right: #IntExpr['1']
                                                            ]
                                                            $statement: #ApplyExpr[
                                                               #Self['self']
                                                               $recv: #Super['super']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #While[
                                             $cond: #AssignExpr[
                                                $left: #NameExpr['line']
                                                $right: #ApplyExpr[
                                                   $recv: #NameExpr['f']
                                                   $recv: #NameExpr['gets']
                                                ]
                                             ]
                                             $body: #List[
                                                $statement: #ApplyExpr[
                                                   $recv: #NameExpr['line']
                                                   $recv: #NameExpr['chomp!']
                                                ]
                                                $statement: #Case[
                                                   $cond: #NameExpr['line']
                                                   $body: #List[
                                                      $when: #When[
                                                         $cond: #List[
                                                            $expression: #NameExpr['SKIP_COMMENT_PATTERN']
                                                         ]
                                                         $then: #While[
                                                            $cond: #AssignExpr[
                                                               $left: #NameExpr['line']
                                                               $right: #ApplyExpr[
                                                                  $recv: #ApplyExpr[
                                                                     $recv: #NameExpr['f']
                                                                     $recv: #NameExpr['gets']
                                                                  ]
                                                                  $recv: #NameExpr['chomp']
                                                               ]
                                                            ]
                                                            $body: #IfExpr[
                                                               $cond: #Match[
                                                                  $left: #Regex['/\\s+\\*\\/$/']
                                                                  $right: #NameExpr['line']
                                                               ]
                                                               $then: #Break['break']
                                                            ]
                                                         ]
                                                      ]
                                                      $when: #When[
                                                         $cond: #List[
                                                            $expression: #Regex['/^\\/\\*\\*$/']
                                                         ]
                                                         $then: #While[
                                                            $cond: #AssignExpr[
                                                               $left: #NameExpr['line']
                                                               $right: #ApplyExpr[
                                                                  $recv: #NameExpr['f']
                                                                  $recv: #NameExpr['gets']
                                                               ]
                                                            ]
                                                            $body: #IfExpr[
                                                               $cond: #Match[
                                                                  $left: #Regex['/\\s+\\*\\/\\s*$/']
                                                                  $right: #NameExpr['line']
                                                               ]
                                                               $then: #Break['break']
                                                               $else: #LShiftExpr[
                                                                  $left: #NameExpr['comment']
                                                                  $right: #NameExpr['line']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $when: #When[
                                                         $cond: #List[
                                                            $expression: #Regex['/^DEFINE_INSN$/']
                                                         ]
                                                         $then: #List[
                                                            $statement: #AssignExpr[
                                                               $left: #NameExpr['insn']
                                                               $right: #ApplyExpr[
                                                                  $recv: #ApplyExpr[
                                                                     $recv: #NameExpr['f']
                                                                     $recv: #NameExpr['gets']
                                                                  ]
                                                                  $recv: #NameExpr['chomp']
                                                               ]
                                                            ]
                                                            $statement: #AssignExpr[
                                                               $left: #NameExpr['opes']
                                                               $right: #ApplyExpr[
                                                                  #Self['self']
                                                                  $recv: #NameExpr['parse_vars']
                                                                  $param: #List[
                                                                     $expression: #ApplyExpr[
                                                                        $recv: #ApplyExpr[
                                                                           $recv: #NameExpr['f']
                                                                           $recv: #NameExpr['gets']
                                                                        ]
                                                                        $recv: #NameExpr['chomp']
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                            $statement: #AssignExpr[
                                                               $left: #NameExpr['pops']
                                                               $right: #ApplyExpr[
                                                                  $recv: #ApplyExpr[
                                                                     #Self['self']
                                                                     $recv: #NameExpr['parse_vars']
                                                                     $param: #List[
                                                                        $expression: #ApplyExpr[
                                                                           $recv: #ApplyExpr[
                                                                              $recv: #NameExpr['f']
                                                                              $recv: #NameExpr['gets']
                                                                           ]
                                                                           $recv: #NameExpr['chomp']
                                                                        ]
                                                                     ]
                                                                  ]
                                                                  $recv: #NameExpr['reverse']
                                                               ]
                                                            ]
                                                            $statement: #AssignExpr[
                                                               $left: #NameExpr['rets_str']
                                                               $right: #ApplyExpr[
                                                                  $recv: #ApplyExpr[
                                                                     $recv: #NameExpr['f']
                                                                     $recv: #NameExpr['gets']
                                                                  ]
                                                                  $recv: #NameExpr['chomp']
                                                               ]
                                                            ]
                                                            $statement: #AssignExpr[
                                                               $left: #NameExpr['rets']
                                                               $right: #ApplyExpr[
                                                                  $recv: #ApplyExpr[
                                                                     #Self['self']
                                                                     $recv: #NameExpr['parse_vars']
                                                                     $param: #List[
                                                                        $expression: #NameExpr['rets_str']
                                                                     ]
                                                                  ]
                                                                  $recv: #NameExpr['reverse']
                                                               ]
                                                            ]
                                                            $statement: #AssignExpr[
                                                               $left: #NameExpr['comment']
                                                               $right: #ApplyExpr[
                                                                  #Self['self']
                                                                  $recv: #NameExpr['parse_comment']
                                                                  $param: #List[
                                                                     $expression: #NameExpr['comment']
                                                                  ]
                                                               ]
                                                            ]
                                                            $statement: #AssignExpr[
                                                               $left: #NameExpr['insn_in']
                                                               $right: #TrueExpr['true']
                                                            ]
                                                            $statement: #AssignExpr[
                                                               $left: #NameExpr['body']
                                                               $right: #StringExpr['']
                                                            ]
                                                            $statement: #AssignExpr[
                                                               $left: #NameExpr['sp_inc']
                                                               $right: #Indexer[
                                                                  $recv: #NameExpr['rets_str']
                                                                  $index: #List[
                                                                     $expression: #Regex['%r"//\\s*(.+)"']
                                                                     $expression: #IntExpr['1']
                                                                  ]
                                                               ]
                                                            ]
                                                            $statement: #Unless[
                                                               $then: #NameExpr['raise']
                                                               $cond: #Match[
                                                                  $left: #Regex['/^\\{$/']
                                                                  $right: #ApplyExpr[
                                                                     $recv: #ApplyExpr[
                                                                        $recv: #NameExpr['f']
                                                                        $recv: #NameExpr['gets']
                                                                     ]
                                                                     $recv: #NameExpr['chomp']
                                                                  ]
                                                               ]
                                                            ]
                                                            $statement: #AssignExpr[
                                                               $left: #NameExpr['line_no']
                                                               $right: #ApplyExpr[
                                                                  $recv: #NameExpr['f']
                                                                  $recv: #NameExpr['line_no']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $when: #When[
                                                         $cond: #List[
                                                            $expression: #Regex['/^\\}/']
                                                         ]
                                                         $then: #IfExpr[
                                                            $cond: #NameExpr['insn_in']
                                                            $then: #List[
                                                               $statement: #ApplyExpr[
                                                                  $recv: #NameExpr['body']
                                                                  $recv: #NameExpr['instance_variable_set']
                                                                  $param: #List[
                                                                     $expression: #NameExpr['@line_no']
                                                                     $expression: #NameExpr['line_no']
                                                                  ]
                                                               ]
                                                               $statement: #ApplyExpr[
                                                                  $recv: #NameExpr['body']
                                                                  $recv: #NameExpr['instance_variable_set']
                                                                  $param: #List[
                                                                     $expression: #NameExpr['@file']
                                                                     $expression: #ApplyExpr[
                                                                        $recv: #NameExpr['f']
                                                                        $recv: #NameExpr['path']
                                                                     ]
                                                                  ]
                                                               ]
                                                               $statement: #AssignExpr[
                                                                  $left: #NameExpr['insn']
                                                                  $right: #ApplyExpr[
                                                                     #Self['self']
                                                                     $recv: #NameExpr['make_insn']
                                                                     $param: #List[
                                                                        $expression: #NameExpr['insn']
                                                                        $expression: #NameExpr['opes']
                                                                        $expression: #NameExpr['pops']
                                                                        $expression: #NameExpr['rets']
                                                                        $expression: #NameExpr['comment']
                                                                        $expression: #NameExpr['body']
                                                                        $expression: #NameExpr['sp_inc']
                                                                     ]
                                                                  ]
                                                               ]
                                                               $statement: #AssignExpr[
                                                                  $left: #NameExpr['insn_in']
                                                                  $right: #FalseExpr['false']
                                                               ]
                                                               $statement: #AssignExpr[
                                                                  $left: #NameExpr['comment']
                                                                  $right: #StringExpr['']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $else: #IfExpr[
                                                      $cond: #NameExpr['insn_in']
                                                      $then: #LShiftExpr[
                                                         $left: #NameExpr['body']
                                                         $right: #AddExpr[
                                                            $left: #NameExpr['line']
                                                            $right: #StringExpr['\\n']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['load_opt_operand_def']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['file']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #IfExpr[
                                 $then: #ApplyExpr[
                                    $recv: #NameExpr['vpath']
                                    $recv: #NameExpr['foreach']
                                    $param: #List[
                                       $expression: #NameExpr['file']
                                    ]
                                    $body: #Block[
                                       $param: #NameExpr['line']
                                       $body: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['line']
                                             $right: #ApplyExpr[
                                                $recv: #ApplyExpr[
                                                   $recv: #NameExpr['line']
                                                   $recv: #NameExpr['gsub']
                                                   $param: #List[
                                                      $expression: #Regex['/\\#.*/']
                                                      $expression: #StringExpr['']
                                                   ]
                                                ]
                                                $recv: #NameExpr['strip']
                                             ]
                                          ]
                                          $statement: #IfExpr[
                                             $then: #Next['next']
                                             $cond: #EqExpr[
                                                $left: #ApplyExpr[
                                                   $recv: #NameExpr['line']
                                                   $recv: #NameExpr['length']
                                                ]
                                                $right: #IntExpr['0']
                                             ]
                                          ]
                                          $statement: #IfExpr[
                                             $then: #Break['break']
                                             $cond: #Match[
                                                $left: #Regex['/__END__/']
                                                $right: #NameExpr['line']
                                             ]
                                          ]
                                          $statement: #Match[
                                             $left: #Regex['/(\\S+)\\s+(.+)/']
                                             $right: #NameExpr['line']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['insn']
                                             $right: #MatchedRegex['$1']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['opts']
                                             $right: #MatchedRegex['$2']
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['add_opt_operand']
                                             $param: #List[
                                                $expression: #NameExpr['insn']
                                                $expression: #ApplyExpr[
                                                   $recv: #ApplyExpr[
                                                      $recv: #NameExpr['opts']
                                                      $recv: #NameExpr['split']
                                                      $param: #List[
                                                         $expression: #Regex['/,/']
                                                      ]
                                                   ]
                                                   $recv: #NameExpr['map']
                                                   $body: #Block[
                                                      $param: #NameExpr['e']
                                                      $body: #ApplyExpr[
                                                         $recv: #NameExpr['e']
                                                         $recv: #NameExpr['strip']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $cond: #NameExpr['file']
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['label_escape']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['label']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['label']
                                       $recv: #NameExpr['gsub']
                                       $param: #List[
                                          $expression: #Regex['/\\(/']
                                          $expression: #StringExpr['_O_']
                                       ]
                                    ]
                                    $recv: #NameExpr['gsub']
                                    $param: #List[
                                       $expression: #Regex['/\\)/']
                                       $expression: #StringExpr['_C_']
                                    ]
                                 ]
                                 $recv: #NameExpr['gsub']
                                 $param: #List[
                                    $expression: #Regex['/\\*/']
                                    $expression: #StringExpr['_WC_']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['add_opt_operand']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['insn_name']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['opts']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['insn']
                                    $right: #Indexer[
                                       $recv: #NameExpr['@insn_map']
                                       $index: #List[
                                          $expression: #NameExpr['insn_name']
                                       ]
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['opes']
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['insn']
                                       $recv: #NameExpr['opes']
                                    ]
                                 ]
                                 $statement: #IfExpr[
                                    $cond: #NeExpr[
                                       $left: #ApplyExpr[
                                          $recv: #NameExpr['opes']
                                          $recv: #NameExpr['size']
                                       ]
                                       $right: #ApplyExpr[
                                          $recv: #NameExpr['opts']
                                          $recv: #NameExpr['size']
                                       ]
                                    ]
                                    $then: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['raise']
                                       $param: #List[
                                          $expression: #StringExpr[
                                             $inner: #ApplyExpr[
                                                $recv: #NameExpr['insn']
                                                $recv: #NameExpr['name']
                                             ]
                                             $inner: #ApplyExpr[
                                                $recv: #NameExpr['opes']
                                                $recv: #NameExpr['size']
                                             ]
                                             $inner: #ApplyExpr[
                                                $recv: #NameExpr['opts']
                                                $recv: #NameExpr['size']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['ninsn']
                                    $right: #AddExpr[
                                       $left: #AddExpr[
                                          $left: #ApplyExpr[
                                             $recv: #NameExpr['insn']
                                             $recv: #NameExpr['name']
                                          ]
                                          $right: #StringExpr['_OP_']
                                       ]
                                       $right: #ApplyExpr[
                                          $recv: #ApplyExpr[
                                             $recv: #NameExpr['opts']
                                             $recv: #NameExpr['map']
                                             $body: #Block[
                                                $param: #NameExpr['e']
                                                $body: #ApplyExpr[
                                                   #Self['self']
                                                   $recv: #NameExpr['label_escape']
                                                   $param: #List[
                                                      $expression: #NameExpr['e']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $recv: #NameExpr['join']
                                          $param: #List[
                                             $expression: #StringExpr['_']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['nopes']
                                    $right: #Array['[]']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['defv']
                                    $right: #Array['[]']
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['opts']
                                    $recv: #NameExpr['each_with_index']
                                    $body: #Block[
                                       $param: #MultipleLeftHandSideExpression[
                                          $item: #NameExpr['e']
                                          $item: #NameExpr['i']
                                       ]
                                       $body: #List[
                                          $statement: #IfExpr[
                                             $cond: #EqExpr[
                                                $left: #NameExpr['e']
                                                $right: #StringExpr['*']
                                             ]
                                             $then: #LShiftExpr[
                                                $left: #NameExpr['nopes']
                                                $right: #Indexer[
                                                   $recv: #NameExpr['opes']
                                                   $index: #List[
                                                      $expression: #NameExpr['i']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #LShiftExpr[
                                             $left: #NameExpr['defv']
                                             $right: #Array[
                                                $index: #List[
                                                   $expression: #Indexer[
                                                      $recv: #NameExpr['opes']
                                                      $index: #List[
                                                         $expression: #NameExpr['i']
                                                      ]
                                                   ]
                                                   $expression: #NameExpr['e']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['make_insn_operand_optimized']
                                    $param: #List[
                                       $expression: #NameExpr['insn']
                                       $expression: #NameExpr['ninsn']
                                       $expression: #NameExpr['nopes']
                                       $expression: #NameExpr['defv']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['make_insn_operand_optimized']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['orig_insn']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['name']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['opes']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['defopes']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['comm']
                                    $right: #ApplyExpr[
                                       $recv: #ApplyExpr[
                                          $recv: #NameExpr['orig_insn']
                                          $recv: #NameExpr['comm']
                                       ]
                                       $recv: #NameExpr['dup']
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #Indexer[
                                       $base: #NameExpr['comm']
                                       $index: #List[
                                          $expression: #NameExpr['c']
                                       ]
                                    ]
                                    $right: #StringExpr['optimize']
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['add_insn']
                                    $param: #List[
                                       $expression: #AssignExpr[
                                          $left: #NameExpr['insn']
                                          $right: #ApplyExpr[
                                             $recv: #NameExpr['Instruction']
                                             $recv: #NameExpr['new']
                                             $param: #List[
                                                $expression: #NameExpr['name']
                                                $expression: #NameExpr['opes']
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['orig_insn']
                                                   $recv: #NameExpr['pops']
                                                ]
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['orig_insn']
                                                   $recv: #NameExpr['rets']
                                                ]
                                                $expression: #NameExpr['comm']
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['orig_insn']
                                                   $recv: #NameExpr['body']
                                                ]
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['orig_insn']
                                                   $recv: #NameExpr['tvars']
                                                ]
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['orig_insn']
                                                   $recv: #NameExpr['sp_inc']
                                                ]
                                                $expression: #NameExpr['orig_insn']
                                                $expression: #NameExpr['defopes']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $base: #NameExpr['orig_insn']
                                    $recv: #NameExpr['add_optimized']
                                    $param: #List[
                                       $expression: #NameExpr['insn']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['load_insn_unification_def']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['file']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #IfExpr[
                                 $then: #ApplyExpr[
                                    $recv: #NameExpr['vpath']
                                    $recv: #NameExpr['foreach']
                                    $param: #List[
                                       $expression: #NameExpr['file']
                                    ]
                                    $body: #Block[
                                       $param: #NameExpr['line']
                                       $body: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['line']
                                             $right: #ApplyExpr[
                                                $recv: #ApplyExpr[
                                                   $recv: #NameExpr['line']
                                                   $recv: #NameExpr['gsub']
                                                   $param: #List[
                                                      $expression: #Regex['/\\#.*/']
                                                      $expression: #StringExpr['']
                                                   ]
                                                ]
                                                $recv: #NameExpr['strip']
                                             ]
                                          ]
                                          $statement: #IfExpr[
                                             $then: #Next['next']
                                             $cond: #EqExpr[
                                                $left: #ApplyExpr[
                                                   $recv: #NameExpr['line']
                                                   $recv: #NameExpr['length']
                                                ]
                                                $right: #IntExpr['0']
                                             ]
                                          ]
                                          $statement: #IfExpr[
                                             $then: #Break['break']
                                             $cond: #Match[
                                                $left: #Regex['/__END__/']
                                                $right: #NameExpr['line']
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['make_unified_insns']
                                             $param: #List[
                                                $expression: #ApplyExpr[
                                                   $recv: #ApplyExpr[
                                                      $recv: #NameExpr['line']
                                                      $recv: #NameExpr['split']
                                                   ]
                                                   $recv: #NameExpr['map']
                                                   $body: #Block[
                                                      $param: #NameExpr['e']
                                                      $body: #List[
                                                         $statement: #Unless[
                                                            $then: #ApplyExpr[
                                                               #Self['self']
                                                               $recv: #NameExpr['raise']
                                                               $param: #List[
                                                                  $expression: #StringExpr[
                                                                     $inner: #NameExpr['e']
                                                                  ]
                                                               ]
                                                            ]
                                                            $cond: #Indexer[
                                                               $recv: #NameExpr['@insn_map']
                                                               $index: #List[
                                                                  $expression: #NameExpr['e']
                                                               ]
                                                            ]
                                                         ]
                                                         $statement: #Indexer[
                                                            $recv: #NameExpr['@insn_map']
                                                            $index: #List[
                                                               $expression: #NameExpr['e']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $cond: #NameExpr['file']
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['all_combination']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['sets']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['ret']
                                    $right: #ApplyExpr[
                                       $recv: #ApplyExpr[
                                          $recv: #NameExpr['sets']
                                          $recv: #NameExpr['shift']
                                       ]
                                       $recv: #NameExpr['map']
                                       $body: #Block[
                                          $param: #NameExpr['e']
                                          $body: #Array[
                                             $index: #List[
                                                $expression: #NameExpr['e']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['sets']
                                    $recv: #NameExpr['each']
                                    $body: #Block[
                                       $param: #NameExpr['set']
                                       $body: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['prev']
                                             $right: #NameExpr['ret']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['ret']
                                             $right: #Array['[]']
                                          ]
                                          $statement: #ApplyExpr[
                                             $recv: #NameExpr['prev']
                                             $recv: #NameExpr['each']
                                             $body: #Block[
                                                $param: #NameExpr['ary']
                                                $body: #ApplyExpr[
                                                   $recv: #NameExpr['set']
                                                   $recv: #NameExpr['each']
                                                   $body: #Block[
                                                      $param: #NameExpr['e']
                                                      $body: #List[
                                                         $statement: #AssignExpr[
                                                            $left: #NameExpr['eary']
                                                            $right: #ApplyExpr[
                                                               $recv: #NameExpr['ary']
                                                               $recv: #NameExpr['dup']
                                                            ]
                                                         ]
                                                         $statement: #LShiftExpr[
                                                            $left: #NameExpr['eary']
                                                            $right: #NameExpr['e']
                                                         ]
                                                         $statement: #LShiftExpr[
                                                            $left: #NameExpr['ret']
                                                            $right: #NameExpr['eary']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #NameExpr['ret']
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['make_unified_insns']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['insns']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #IfExpr[
                                 $cond: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['vm_opt?']
                                    $param: #List[
                                       $expression: #StringExpr['UNIFY_ALL_COMBINATION']
                                    ]
                                 ]
                                 $then: #List[
                                    $statement: #AssignExpr[
                                       $left: #NameExpr['insn_sets']
                                       $right: #ApplyExpr[
                                          $recv: #NameExpr['insns']
                                          $recv: #NameExpr['map']
                                          $body: #Block[
                                             $param: #NameExpr['insn']
                                             $body: #AddExpr[
                                                $left: #Array[
                                                   $index: #List[
                                                      $expression: #NameExpr['insn']
                                                   ]
                                                ]
                                                $right: #ApplyExpr[
                                                   $recv: #NameExpr['insn']
                                                   $recv: #NameExpr['optimized']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                    $statement: #ApplyExpr[
                                       $recv: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['all_combination']
                                          $param: #List[
                                             $expression: #NameExpr['insn_sets']
                                          ]
                                       ]
                                       $recv: #NameExpr['each']
                                       $body: #Block[
                                          $param: #NameExpr['insns_set']
                                          $body: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['make_unified_insn_each']
                                             $param: #List[
                                                $expression: #NameExpr['insns_set']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $else: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['make_unified_insn_each']
                                    $param: #List[
                                       $expression: #NameExpr['insns']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['mk_private_val']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['vals']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['i']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['redef']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['vals']
                                    $recv: #NameExpr['dup']
                                 ]
                                 $recv: #NameExpr['map']
                                 $body: #Block[
                                    $param: #NameExpr['v']
                                    $body: #List[
                                       $statement: #AssignExpr[
                                          $left: #NameExpr['v']
                                          $right: #ApplyExpr[
                                             $recv: #NameExpr['v']
                                             $recv: #NameExpr['dup']
                                          ]
                                       ]
                                       $statement: #IfExpr[
                                          $cond: #NeExpr[
                                             $left: #Indexer[
                                                $recv: #NameExpr['v']
                                                $index: #List[
                                                   $expression: #IntExpr['0']
                                                ]
                                             ]
                                             $right: #StringExpr['...']
                                          ]
                                          $then: #List[
                                             $statement: #AssignExpr[
                                                $left: #Indexer[
                                                   $base: #NameExpr['redef']
                                                   $index: #List[
                                                      $expression: #Indexer[
                                                         $recv: #NameExpr['v']
                                                         $index: #List[
                                                            $expression: #IntExpr['1']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                                $right: #Indexer[
                                                   $recv: #NameExpr['v']
                                                   $index: #List[
                                                      $expression: #IntExpr['0']
                                                   ]
                                                ]
                                             ]
                                             $statement: #AssignExpr[
                                                $left: #Indexer[
                                                   $base: #NameExpr['v']
                                                   $index: #List[
                                                      $expression: #IntExpr['1']
                                                   ]
                                                ]
                                                $right: #StringExpr[
                                                   $inner: #Indexer[
                                                      $recv: #NameExpr['v']
                                                      $index: #List[
                                                         $expression: #IntExpr['1']
                                                      ]
                                                   ]
                                                   $inner: #NameExpr['i']
                                                ]
                                             ]
                                          ]
                                       ]
                                       $statement: #NameExpr['v']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['mk_private_val2']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['vals']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['i']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['redef']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['vals']
                                    $recv: #NameExpr['dup']
                                 ]
                                 $recv: #NameExpr['map']
                                 $body: #Block[
                                    $param: #NameExpr['v']
                                    $body: #List[
                                       $statement: #AssignExpr[
                                          $left: #NameExpr['pv']
                                          $right: #ApplyExpr[
                                             $recv: #NameExpr['v']
                                             $recv: #NameExpr['dup']
                                          ]
                                       ]
                                       $statement: #AssignExpr[
                                          $left: #NameExpr['v']
                                          $right: #AssignExpr[
                                             $left: #Indexer[
                                                $base: #NameExpr['pv']
                                                $index: #List[
                                                   $expression: #IntExpr['0']
                                                ]
                                             ]
                                             $right: #ApplyExpr[
                                                $recv: #Indexer[
                                                   $recv: #NameExpr['pv']
                                                   $index: #List[
                                                      $expression: #IntExpr['0']
                                                   ]
                                                ]
                                                $recv: #NameExpr['dup']
                                             ]
                                          ]
                                       ]
                                       $statement: #IfExpr[
                                          $cond: #NeExpr[
                                             $left: #Indexer[
                                                $recv: #NameExpr['v']
                                                $index: #List[
                                                   $expression: #IntExpr['0']
                                                ]
                                             ]
                                             $right: #StringExpr['...']
                                          ]
                                          $then: #List[
                                             $statement: #AssignExpr[
                                                $left: #Indexer[
                                                   $base: #NameExpr['redef']
                                                   $index: #List[
                                                      $expression: #Indexer[
                                                         $recv: #NameExpr['v']
                                                         $index: #List[
                                                            $expression: #IntExpr['1']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                                $right: #Indexer[
                                                   $recv: #NameExpr['v']
                                                   $index: #List[
                                                      $expression: #IntExpr['0']
                                                   ]
                                                ]
                                             ]
                                             $statement: #AssignExpr[
                                                $left: #Indexer[
                                                   $base: #NameExpr['v']
                                                   $index: #List[
                                                      $expression: #IntExpr['1']
                                                   ]
                                                ]
                                                $right: #StringExpr[
                                                   $inner: #Indexer[
                                                      $recv: #NameExpr['v']
                                                      $index: #List[
                                                         $expression: #IntExpr['1']
                                                      ]
                                                   ]
                                                   $inner: #NameExpr['i']
                                                ]
                                             ]
                                          ]
                                       ]
                                       $statement: #NameExpr['pv']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['make_unified_insn_each']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['insns']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['names']
                                    $right: #Array['[]']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['opes']
                                    $right: #Array['[]']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['pops']
                                    $right: #Array['[]']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['rets']
                                    $right: #Array['[]']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['comm']
                                    $right: #List[
                                       $hash: #Hash[
                                          $key: #NameExpr['c']
                                          $value: #StringExpr['optimize']
                                       ]
                                       $hash: #Hash[
                                          $key: #NameExpr['e']
                                          $value: #StringExpr['unified insn']
                                       ]
                                       $hash: #Hash[
                                          $key: #NameExpr['j']
                                          $value: #StringExpr['unified insn']
                                       ]
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['body']
                                    $right: #StringExpr['']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['passed']
                                    $right: #Array['[]']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['tvars']
                                    $right: #Array['[]']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['defopes']
                                    $right: #Array['[]']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['sp_inc']
                                    $right: #StringExpr['']
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['insns']
                                    $recv: #NameExpr['each_with_index']
                                    $body: #Block[
                                       $param: #MultipleLeftHandSideExpression[
                                          $item: #NameExpr['insn']
                                          $item: #NameExpr['i']
                                       ]
                                       $body: #List[
                                          $statement: #LShiftExpr[
                                             $left: #NameExpr['names']
                                             $right: #ApplyExpr[
                                                $recv: #NameExpr['insn']
                                                $recv: #NameExpr['name']
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['redef_vars']
                                             $right: #List['{}']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['e_opes']
                                             $right: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['mk_private_val']
                                                $param: #List[
                                                   $expression: #ApplyExpr[
                                                      $recv: #NameExpr['insn']
                                                      $recv: #NameExpr['opes']
                                                   ]
                                                   $expression: #NameExpr['i']
                                                   $expression: #NameExpr['redef_vars']
                                                ]
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['e_pops']
                                             $right: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['mk_private_val']
                                                $param: #List[
                                                   $expression: #ApplyExpr[
                                                      $recv: #NameExpr['insn']
                                                      $recv: #NameExpr['pops']
                                                   ]
                                                   $expression: #NameExpr['i']
                                                   $expression: #NameExpr['redef_vars']
                                                ]
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['e_rets']
                                             $right: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['mk_private_val']
                                                $param: #List[
                                                   $expression: #ApplyExpr[
                                                      $recv: #NameExpr['insn']
                                                      $recv: #NameExpr['rets']
                                                   ]
                                                   $expression: #NameExpr['i']
                                                   $expression: #NameExpr['redef_vars']
                                                ]
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['e_defs']
                                             $right: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['mk_private_val2']
                                                $param: #List[
                                                   $expression: #ApplyExpr[
                                                      $recv: #NameExpr['insn']
                                                      $recv: #NameExpr['defopes']
                                                   ]
                                                   $expression: #NameExpr['i']
                                                   $expression: #NameExpr['redef_vars']
                                                ]
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['passed_vars']
                                             $right: #Array['[]']
                                          ]
                                          $statement: #While[
                                             $cond: #AssignExpr[
                                                $left: #NameExpr['pvar']
                                                $right: #ApplyExpr[
                                                   $recv: #NameExpr['e_pops']
                                                   $recv: #NameExpr['pop']
                                                ]
                                             ]
                                             $body: #List[
                                                $statement: #AssignExpr[
                                                   $left: #NameExpr['rvar']
                                                   $right: #ApplyExpr[
                                                      $recv: #NameExpr['rets']
                                                      $recv: #NameExpr['pop']
                                                   ]
                                                ]
                                                $statement: #IfExpr[
                                                   $cond: #NameExpr['rvar']
                                                   $then: #List[
                                                      $statement: #IfExpr[
                                                         $then: #ApplyExpr[
                                                            #Self['self']
                                                            $recv: #NameExpr['raise']
                                                            $param: #List[
                                                               $expression: #StringExpr[
                                                                  $inner: #ApplyExpr[
                                                                     $recv: #NameExpr['insns']
                                                                     $recv: #NameExpr['inspect']
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                         $cond: #EqExpr[
                                                            $left: #Indexer[
                                                               $recv: #NameExpr['rvar']
                                                               $index: #List[
                                                                  $expression: #IntExpr['0']
                                                               ]
                                                            ]
                                                            $right: #StringExpr['...']
                                                         ]
                                                      ]
                                                      $statement: #LShiftExpr[
                                                         $left: #NameExpr['passed_vars']
                                                         $right: #Array[
                                                            $index: #List[
                                                               $expression: #NameExpr['pvar']
                                                               $expression: #NameExpr['rvar']
                                                            ]
                                                         ]
                                                      ]
                                                      $statement: #LShiftExpr[
                                                         $left: #NameExpr['tvars']
                                                         $right: #NameExpr['rvar']
                                                      ]
                                                   ]
                                                   $else: #List[
                                                      $statement: #ApplyExpr[
                                                         $base: #NameExpr['e_pops']
                                                         $recv: #NameExpr['push']
                                                         $param: #List[
                                                            $expression: #NameExpr['pvar']
                                                         ]
                                                      ]
                                                      $statement: #Break['break']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             $base: #NameExpr['opes']
                                             $recv: #NameExpr['concat']
                                             $param: #List[
                                                $expression: #NameExpr['e_opes']
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             $base: #NameExpr['pops']
                                             $recv: #NameExpr['concat']
                                             $param: #List[
                                                $expression: #NameExpr['e_pops']
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             $base: #NameExpr['rets']
                                             $recv: #NameExpr['concat']
                                             $param: #List[
                                                $expression: #NameExpr['e_rets']
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             $base: #NameExpr['defopes']
                                             $recv: #NameExpr['concat']
                                             $param: #List[
                                                $expression: #NameExpr['e_defs']
                                             ]
                                          ]
                                          $statement: #LShiftExpr[
                                             $left: #NameExpr['sp_inc']
                                             $right: #StringExpr[
                                                $inner: #ApplyExpr[
                                                   $recv: #NameExpr['insn']
                                                   $recv: #NameExpr['sp_inc']
                                                ]
                                             ]
                                          ]
                                          $statement: #LShiftExpr[
                                             $left: #NameExpr['body']
                                             $right: #AddExpr[
                                                $left: #AddExpr[
                                                   $left: #AddExpr[
                                                      $left: #AddExpr[
                                                         $left: #StringExpr[
                                                            $inner: #NameExpr['i']
                                                         ]
                                                         $right: #ApplyExpr[
                                                            $recv: #ApplyExpr[
                                                               $recv: #NameExpr['passed_vars']
                                                               $recv: #NameExpr['map']
                                                               $body: #Block[
                                                                  $param: #NameExpr['rpvars']
                                                                  $body: #List[
                                                                     $statement: #AssignExpr[
                                                                        $left: #NameExpr['pv']
                                                                        $right: #Indexer[
                                                                           $recv: #NameExpr['rpvars']
                                                                           $index: #List[
                                                                              $expression: #IntExpr['0']
                                                                           ]
                                                                        ]
                                                                     ]
                                                                     $statement: #AssignExpr[
                                                                        $left: #NameExpr['rv']
                                                                        $right: #Indexer[
                                                                           $recv: #NameExpr['rpvars']
                                                                           $index: #List[
                                                                              $expression: #IntExpr['1']
                                                                           ]
                                                                        ]
                                                                     ]
                                                                     $statement: #StringExpr[
                                                                        $inner: #Indexer[
                                                                           $recv: #NameExpr['pv']
                                                                           $index: #List[
                                                                              $expression: #IntExpr['1']
                                                                           ]
                                                                        ]
                                                                        $inner: #Indexer[
                                                                           $recv: #NameExpr['rv']
                                                                           $index: #List[
                                                                              $expression: #IntExpr['1']
                                                                           ]
                                                                        ]
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                            $recv: #NameExpr['join']
                                                            $param: #List[
                                                               $expression: #StringExpr['\\n']
                                                            ]
                                                         ]
                                                      ]
                                                      $right: #StringExpr['\\n']
                                                   ]
                                                   $right: #ApplyExpr[
                                                      $recv: #ApplyExpr[
                                                         $recv: #NameExpr['redef_vars']
                                                         $recv: #NameExpr['map']
                                                         $body: #Block[
                                                            $param: #MultipleLeftHandSideExpression[
                                                               $item: #NameExpr['v']
                                                               $item: #NameExpr['type']
                                                            ]
                                                            $body: #StringExpr[
                                                               $inner: #NameExpr['type']
                                                               $inner: #NameExpr['v']
                                                               $inner: #NameExpr['v']
                                                               $inner: #NameExpr['i']
                                                            ]
                                                         ]
                                                      ]
                                                      $recv: #NameExpr['join']
                                                      $param: #List[
                                                         $expression: #StringExpr['\\n']
                                                      ]
                                                   ]
                                                ]
                                                $right: #StringExpr['\\n']
                                             ]
                                          ]
                                          $statement: #IfExpr[
                                             $cond: #AssignExpr[
                                                $left: #NameExpr['line']
                                                $right: #ApplyExpr[
                                                   $recv: #ApplyExpr[
                                                      $recv: #NameExpr['insn']
                                                      $recv: #NameExpr['body']
                                                   ]
                                                   $recv: #NameExpr['instance_variable_get']
                                                   $param: #List[
                                                      $expression: #NameExpr['@line_no']
                                                   ]
                                                ]
                                             ]
                                             $then: #List[
                                                $statement: #AssignExpr[
                                                   $left: #NameExpr['file']
                                                   $right: #ApplyExpr[
                                                      $recv: #ApplyExpr[
                                                         $recv: #NameExpr['insn']
                                                         $recv: #NameExpr['body']
                                                      ]
                                                      $recv: #NameExpr['instance_variable_get']
                                                      $param: #List[
                                                         $expression: #NameExpr['@file']
                                                      ]
                                                   ]
                                                ]
                                                $statement: #LShiftExpr[
                                                   $left: #NameExpr['body']
                                                   $right: #StringExpr[
                                                      $inner: #AddExpr[
                                                         $left: #NameExpr['line']
                                                         $right: #IntExpr['1']
                                                      ]
                                                      $inner: #NameExpr['file']
                                                   ]
                                                ]
                                                $statement: #LShiftExpr[
                                                   $left: #NameExpr['body']
                                                   $right: #ApplyExpr[
                                                      $recv: #NameExpr['insn']
                                                      $recv: #NameExpr['body']
                                                   ]
                                                ]
                                                $statement: #LShiftExpr[
                                                   $left: #NameExpr['body']
                                                   $right: #StringExpr['\\n#line __CURRENT_LINE__ \\"__CURRENT_FILE__\\"\\n']
                                                ]
                                             ]
                                             $else: #LShiftExpr[
                                                $left: #NameExpr['body']
                                                $right: #ApplyExpr[
                                                   $recv: #NameExpr['insn']
                                                   $recv: #NameExpr['body']
                                                ]
                                             ]
                                          ]
                                          $statement: #LShiftExpr[
                                             $left: #NameExpr['body']
                                             $right: #AddExpr[
                                                $left: #AddExpr[
                                                   $left: #AddExpr[
                                                      $left: #ApplyExpr[
                                                         $recv: #ApplyExpr[
                                                            $recv: #ApplyExpr[
                                                               $recv: #NameExpr['redef_vars']
                                                               $recv: #NameExpr['keys']
                                                            ]
                                                            $recv: #NameExpr['map']
                                                            $body: #Block[
                                                               $param: #NameExpr['v']
                                                               $body: #StringExpr[
                                                                  $inner: #NameExpr['v']
                                                                  $inner: #NameExpr['i']
                                                                  $inner: #NameExpr['v']
                                                               ]
                                                            ]
                                                         ]
                                                         $recv: #NameExpr['join']
                                                         $param: #List[
                                                            $expression: #StringExpr['\\n']
                                                         ]
                                                      ]
                                                      $right: #StringExpr['\\n']
                                                   ]
                                                   $right: #ApplyExpr[
                                                      $recv: #ApplyExpr[
                                                         $recv: #NameExpr['passed_vars']
                                                         $recv: #NameExpr['map']
                                                         $body: #Block[
                                                            $param: #NameExpr['rpvars']
                                                            $body: #StringExpr[
                                                               $inner: #Indexer[
                                                                  $recv: #Indexer[
                                                                     $recv: #NameExpr['rpvars']
                                                                     $index: #List[
                                                                        $expression: #IntExpr['0']
                                                                     ]
                                                                  ]
                                                                  $index: #List[
                                                                     $expression: #IntExpr['1']
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $recv: #NameExpr['join']
                                                      $param: #List[
                                                         $expression: #StringExpr['\\n']
                                                      ]
                                                   ]
                                                ]
                                                $right: #StringExpr['\\n}\\n']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['tvars_ary']
                                    $right: #Array['[]']
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['tvars']
                                    $recv: #NameExpr['each']
                                    $body: #Block[
                                       $param: #NameExpr['tvar']
                                       $body: #Unless[
                                          $cond: #LOr[
                                             $left: #ApplyExpr[
                                                $recv: #NameExpr['opes']
                                                $recv: #NameExpr['any?']
                                                $body: #Block[
                                                   $param: #NameExpr['var']
                                                   $body: #EqExpr[
                                                      $left: #Indexer[
                                                         $recv: #NameExpr['var']
                                                         $index: #List[
                                                            $expression: #IntExpr['1']
                                                         ]
                                                      ]
                                                      $right: #Indexer[
                                                         $recv: #NameExpr['tvar']
                                                         $index: #List[
                                                            $expression: #IntExpr['1']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                             $right: #ApplyExpr[
                                                $recv: #NameExpr['defopes']
                                                $recv: #NameExpr['any?']
                                                $body: #Block[
                                                   $param: #NameExpr['pvar']
                                                   $body: #EqExpr[
                                                      $left: #Indexer[
                                                         $recv: #Indexer[
                                                            $recv: #NameExpr['pvar']
                                                            $index: #List[
                                                               $expression: #IntExpr['0']
                                                            ]
                                                         ]
                                                         $index: #List[
                                                            $expression: #IntExpr['1']
                                                         ]
                                                      ]
                                                      $right: #Indexer[
                                                         $recv: #NameExpr['tvar']
                                                         $index: #List[
                                                            $expression: #IntExpr['1']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $then: #LShiftExpr[
                                             $left: #NameExpr['tvars_ary']
                                             $right: #NameExpr['tvar']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['add_insn']
                                    $param: #List[
                                       $expression: #AssignExpr[
                                          $left: #NameExpr['insn']
                                          $right: #ApplyExpr[
                                             $recv: #NameExpr['Instruction']
                                             $recv: #NameExpr['new']
                                             $param: #List[
                                                $expression: #AddExpr[
                                                   $left: #StringExpr['UNIFIED_']
                                                   $right: #ApplyExpr[
                                                      $recv: #NameExpr['names']
                                                      $recv: #NameExpr['join']
                                                      $param: #List[
                                                         $expression: #StringExpr['_']
                                                      ]
                                                   ]
                                                ]
                                                $expression: #NameExpr['opes']
                                                $expression: #NameExpr['pops']
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['rets']
                                                   $recv: #NameExpr['reverse']
                                                ]
                                                $expression: #NameExpr['comm']
                                                $expression: #NameExpr['body']
                                                $expression: #NameExpr['tvars_ary']
                                                $expression: #NameExpr['sp_inc']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $base: #ApplyExpr[
                                       $recv: #NameExpr['insn']
                                       $recv: #NameExpr['defopes']
                                    ]
                                    $recv: #NameExpr['replace']
                                    $param: #List[
                                       $expression: #NameExpr['defopes']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $base: #Indexer[
                                       $recv: #NameExpr['insns']
                                       $index: #List[
                                          $expression: #IntExpr['0']
                                       ]
                                    ]
                                    $recv: #NameExpr['add_unif']
                                    $param: #List[
                                       $expression: #Array[
                                          $index: #List[
                                             $expression: #NameExpr['insn']
                                             $expression: #NameExpr['insns']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['SPECIAL_INSN_FOR_SC_AFTER']
                           $right: #List[
                              $hash: #Hash[
                                 $key: #Regex['/\\Asend/']
                                 $value: #Array[
                                    $index: #List[
                                       $expression: #NameExpr['a']
                                    ]
                                 ]
                              ]
                              $hash: #Hash[
                                 $key: #Regex['/\\Aend/']
                                 $value: #Array[
                                    $index: #List[
                                       $expression: #NameExpr['a']
                                    ]
                                 ]
                              ]
                              $hash: #Hash[
                                 $key: #Regex['/\\Ayield/']
                                 $value: #Array[
                                    $index: #List[
                                       $expression: #NameExpr['a']
                                    ]
                                 ]
                              ]
                              $hash: #Hash[
                                 $key: #Regex['/\\Aclassdef/']
                                 $value: #Array[
                                    $index: #List[
                                       $expression: #NameExpr['a']
                                    ]
                                 ]
                              ]
                              $hash: #Hash[
                                 $key: #Regex['/\\Amoduledef/']
                                 $value: #Array[
                                    $index: #List[
                                       $expression: #NameExpr['a']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['FROM_SC']
                           $right: #Array[
                              $index: #List[
                                 $expression: #Array['[]']
                                 $expression: #Array[
                                    $index: #List[
                                       $expression: #NameExpr['a']
                                    ]
                                 ]
                                 $expression: #Array[
                                    $index: #List[
                                       $expression: #NameExpr['b']
                                    ]
                                 ]
                                 $expression: #Array[
                                    $index: #List[
                                       $expression: #NameExpr['a']
                                       $expression: #NameExpr['b']
                                    ]
                                 ]
                                 $expression: #Array[
                                    $index: #List[
                                       $expression: #NameExpr['b']
                                       $expression: #NameExpr['a']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['make_stackcaching_insns']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['pops']
                                    $right: #AssignExpr[
                                       $left: #NameExpr['rets']
                                       $right: #Nil['nil']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['@insns']
                                       $recv: #NameExpr['dup']
                                    ]
                                    $recv: #NameExpr['each']
                                    $body: #Block[
                                       $param: #NameExpr['insn']
                                       $body: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['opops']
                                             $right: #ApplyExpr[
                                                $recv: #NameExpr['insn']
                                                $recv: #NameExpr['pops']
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['orets']
                                             $right: #ApplyExpr[
                                                $recv: #NameExpr['insn']
                                                $recv: #NameExpr['rets']
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['oopes']
                                             $right: #ApplyExpr[
                                                $recv: #NameExpr['insn']
                                                $recv: #NameExpr['opes']
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['ocomm']
                                             $right: #ApplyExpr[
                                                $recv: #NameExpr['insn']
                                                $recv: #NameExpr['comm']
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['oname']
                                             $right: #ApplyExpr[
                                                $recv: #NameExpr['insn']
                                                $recv: #NameExpr['name']
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['after']
                                             $right: #ApplyExpr[
                                                $recv: #NameExpr['SPECIAL_INSN_FOR_SC_AFTER']
                                                $recv: #NameExpr['find']
                                                $body: #Block[
                                                   $param: #MultipleLeftHandSideExpression[
                                                      $item: #NameExpr['k']
                                                      $item: #NameExpr['v']
                                                   ]
                                                   $body: #AssignExpr[
                                                      $left: #NameExpr['k']
                                                      $right: #ComplExpr[
                                                         $expr: #NameExpr['oname']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['insns']
                                             $right: #Array['[]']
                                          ]
                                          $statement: #ApplyExpr[
                                             $recv: #NameExpr['FROM_SC']
                                             $recv: #NameExpr['each']
                                             $body: #Block[
                                                $param: #NameExpr['from']
                                                $body: #List[
                                                   $statement: #MultipleAssign[
                                                      $left: #MultipleLeftHandSideExpression[
                                                         $item: #NameExpr['name']
                                                         $item: #NameExpr['pops']
                                                         $item: #NameExpr['rets']
                                                         $item: #NameExpr['pushs1']
                                                         $item: #NameExpr['pushs2']
                                                         $item: #NameExpr['nextsc']
                                                      ]
                                                      $right: #MultipleRightHandSideExpression[
                                                         $variadic: #Variadic[
                                                            $base: #ApplyExpr[
                                                               #Self['self']
                                                               $recv: #NameExpr['calc_stack']
                                                               $param: #List[
                                                                  $expression: #NameExpr['insn']
                                                                  $expression: #NameExpr['from']
                                                                  $expression: #NameExpr['after']
                                                                  $expression: #NameExpr['opops']
                                                                  $expression: #NameExpr['orets']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['make_insn_sc']
                                                      $param: #List[
                                                         $expression: #NameExpr['insn']
                                                         $expression: #NameExpr['name']
                                                         $expression: #NameExpr['oopes']
                                                         $expression: #NameExpr['pops']
                                                         $expression: #NameExpr['rets']
                                                         $expression: #Array[
                                                            $index: #List[
                                                               $expression: #NameExpr['pushs1']
                                                               $expression: #NameExpr['pushs2']
                                                            ]
                                                         ]
                                                         $expression: #NameExpr['nextsc']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['make_insn_sc']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['orig_insn']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['name']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['opes']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['pops']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['rets']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['pushs']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['nextsc']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['comm']
                                    $right: #ApplyExpr[
                                       $recv: #ApplyExpr[
                                          $recv: #NameExpr['orig_insn']
                                          $recv: #NameExpr['comm']
                                       ]
                                       $recv: #NameExpr['dup']
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #Indexer[
                                       $base: #NameExpr['comm']
                                       $index: #List[
                                          $expression: #NameExpr['c']
                                       ]
                                    ]
                                    $right: #StringExpr['optimize(sc)']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['scinsn']
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['Instruction']
                                       $recv: #NameExpr['new']
                                       $param: #List[
                                          $expression: #NameExpr['name']
                                          $expression: #NameExpr['opes']
                                          $expression: #NameExpr['pops']
                                          $expression: #NameExpr['rets']
                                          $expression: #NameExpr['comm']
                                          $expression: #ApplyExpr[
                                             $recv: #NameExpr['orig_insn']
                                             $recv: #NameExpr['body']
                                          ]
                                          $expression: #ApplyExpr[
                                             $recv: #NameExpr['orig_insn']
                                             $recv: #NameExpr['tvars']
                                          ]
                                          $expression: #ApplyExpr[
                                             $recv: #NameExpr['orig_insn']
                                             $recv: #NameExpr['sp_inc']
                                          ]
                                          $expression: #NameExpr['orig_insn']
                                          $expression: #ApplyExpr[
                                             $recv: #NameExpr['orig_insn']
                                             $recv: #NameExpr['defopes']
                                          ]
                                          $expression: #NameExpr['sc']
                                          $expression: #NameExpr['nextsc']
                                          $expression: #NameExpr['pushs']
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['add_insn']
                                    $param: #List[
                                       $expression: #NameExpr['scinsn']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $base: #NameExpr['orig_insn']
                                    $recv: #NameExpr['add_sc']
                                    $param: #List[
                                       $expression: #NameExpr['scinsn']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #SFuncDecl[
                           $path: #Self['self']
                           $name: #NameExpr['complement_name']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['st']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #StringExpr[
                                 $inner: #Conditional[
                                    $cond: #Indexer[
                                       $recv: #NameExpr['st']
                                       $index: #List[
                                          $expression: #IntExpr['0']
                                       ]
                                    ]
                                    $then: #Indexer[
                                       $recv: #NameExpr['st']
                                       $index: #List[
                                          $expression: #IntExpr['0']
                                       ]
                                    ]
                                    $else: #StringExpr['x']
                                 ]
                                 $inner: #Conditional[
                                    $cond: #Indexer[
                                       $recv: #NameExpr['st']
                                       $index: #List[
                                          $expression: #IntExpr['1']
                                       ]
                                    ]
                                    $then: #Indexer[
                                       $recv: #NameExpr['st']
                                       $index: #List[
                                          $expression: #IntExpr['1']
                                       ]
                                    ]
                                    $else: #StringExpr['x']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['add_stack_value']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['st']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['len']
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['st']
                                       $recv: #NameExpr['length']
                                    ]
                                 ]
                                 $statement: #IfExpr[
                                    $cond: #EqExpr[
                                       $left: #NameExpr['len']
                                       $right: #IntExpr['0']
                                    ]
                                    $then: #List[
                                       $statement: #AssignExpr[
                                          $left: #Indexer[
                                             $base: #NameExpr['st']
                                             $index: #List[
                                                $expression: #IntExpr['0']
                                             ]
                                          ]
                                          $right: #NameExpr['a']
                                       ]
                                       $statement: #Array[
                                          $index: #List[
                                             $expression: #Nil['nil']
                                             $expression: #NameExpr['a']
                                          ]
                                       ]
                                    ]
                                    $else: #IfExpr[
                                       $cond: #EqExpr[
                                          $left: #NameExpr['len']
                                          $right: #IntExpr['1']
                                       ]
                                       $then: #List[
                                          $statement: #IfExpr[
                                             $cond: #EqExpr[
                                                $left: #Indexer[
                                                   $recv: #NameExpr['st']
                                                   $index: #List[
                                                      $expression: #IntExpr['0']
                                                   ]
                                                ]
                                                $right: #NameExpr['a']
                                             ]
                                             $then: #AssignExpr[
                                                $left: #Indexer[
                                                   $base: #NameExpr['st']
                                                   $index: #List[
                                                      $expression: #IntExpr['1']
                                                   ]
                                                ]
                                                $right: #NameExpr['b']
                                             ]
                                             $else: #AssignExpr[
                                                $left: #Indexer[
                                                   $base: #NameExpr['st']
                                                   $index: #List[
                                                      $expression: #IntExpr['1']
                                                   ]
                                                ]
                                                $right: #NameExpr['a']
                                             ]
                                          ]
                                          $statement: #Array[
                                             $index: #List[
                                                $expression: #Nil['nil']
                                                $expression: #Indexer[
                                                   $recv: #NameExpr['st']
                                                   $index: #List[
                                                      $expression: #IntExpr['1']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                       $else: #List[
                                          $statement: #MultipleAssign[
                                             $left: #MultipleLeftHandSideExpression[
                                                $item: #Indexer[
                                                   $base: #NameExpr['st']
                                                   $index: #List[
                                                      $expression: #IntExpr['0']
                                                   ]
                                                ]
                                                $item: #Indexer[
                                                   $base: #NameExpr['st']
                                                   $index: #List[
                                                      $expression: #IntExpr['1']
                                                   ]
                                                ]
                                             ]
                                             $right: #MultipleRightHandSideExpression[
                                                $expression: #Indexer[
                                                   $recv: #NameExpr['st']
                                                   $index: #List[
                                                      $expression: #IntExpr['1']
                                                   ]
                                                ]
                                                $expression: #Indexer[
                                                   $recv: #NameExpr['st']
                                                   $index: #List[
                                                      $expression: #IntExpr['0']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #Array[
                                             $index: #List[
                                                $expression: #Indexer[
                                                   $recv: #NameExpr['st']
                                                   $index: #List[
                                                      $expression: #IntExpr['1']
                                                   ]
                                                ]
                                                $expression: #Indexer[
                                                   $recv: #NameExpr['st']
                                                   $index: #List[
                                                      $expression: #IntExpr['1']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['calc_stack']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['insn']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['ofrom']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['oafter']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['opops']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['orets']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['from']
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['ofrom']
                                       $recv: #NameExpr['dup']
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['pops']
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['opops']
                                       $recv: #NameExpr['dup']
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['rets']
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['orets']
                                       $recv: #NameExpr['dup']
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['rest_scr']
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['ofrom']
                                       $recv: #NameExpr['dup']
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['pushs_before']
                                    $right: #Array['[]']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['pushs']
                                    $right: #Array['[]']
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['pops']
                                    $recv: #NameExpr['each_with_index']
                                    $body: #Block[
                                       $param: #MultipleLeftHandSideExpression[
                                          $item: #NameExpr['e']
                                          $item: #NameExpr['i']
                                       ]
                                       $body: #List[
                                          $statement: #IfExpr[
                                             $cond: #EqExpr[
                                                $left: #Indexer[
                                                   $recv: #NameExpr['e']
                                                   $index: #List[
                                                      $expression: #IntExpr['0']
                                                   ]
                                                ]
                                                $right: #StringExpr['...']
                                             ]
                                             $then: #List[
                                                $statement: #AssignExpr[
                                                   $left: #NameExpr['pushs_before']
                                                   $right: #NameExpr['from']
                                                ]
                                                $statement: #AssignExpr[
                                                   $left: #NameExpr['from']
                                                   $right: #Array['[]']
                                                ]
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['r']
                                             $right: #ApplyExpr[
                                                $recv: #NameExpr['from']
                                                $recv: #NameExpr['pop']
                                             ]
                                          ]
                                          $statement: #Unless[
                                             $then: #Break['break']
                                             $cond: #NameExpr['r']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #Indexer[
                                                $base: #NameExpr['pops']
                                                $index: #List[
                                                   $expression: #NameExpr['i']
                                                ]
                                             ]
                                             $right: #LShiftExpr[
                                                $left: #ApplyExpr[
                                                   $recv: #Indexer[
                                                      $recv: #NameExpr['pops']
                                                      $index: #List[
                                                         $expression: #NameExpr['i']
                                                      ]
                                                   ]
                                                   $recv: #NameExpr['dup']
                                                ]
                                                $right: #NameExpr['r']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #IfExpr[
                                    $cond: #NameExpr['oafter']
                                    $then: #List[
                                       $statement: #AssignExpr[
                                          $left: #NameExpr['from']
                                          $right: #NameExpr['oafter']
                                       ]
                                       $statement: #ApplyExpr[
                                          $recv: #NameExpr['from']
                                          $recv: #NameExpr['each_with_index']
                                          $body: #Block[
                                             $param: #MultipleLeftHandSideExpression[
                                                $item: #NameExpr['r']
                                                $item: #NameExpr['i']
                                             ]
                                             $body: #IfExpr[
                                                $then: #AssignExpr[
                                                   $left: #Indexer[
                                                      $base: #NameExpr['rets']
                                                      $index: #List[
                                                         $expression: #NameExpr['i']
                                                      ]
                                                   ]
                                                   $right: #LShiftExpr[
                                                      $left: #ApplyExpr[
                                                         $recv: #Indexer[
                                                            $recv: #NameExpr['rets']
                                                            $index: #List[
                                                               $expression: #NameExpr['i']
                                                            ]
                                                         ]
                                                         $recv: #NameExpr['dup']
                                                      ]
                                                      $right: #NameExpr['r']
                                                   ]
                                                ]
                                                $cond: #Indexer[
                                                   $recv: #NameExpr['rets']
                                                   $index: #List[
                                                      $expression: #NameExpr['i']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                    $else: #List[
                                       $statement: #AssignExpr[
                                          $left: #NameExpr['rets']
                                          $right: #ApplyExpr[
                                             $recv: #NameExpr['rets']
                                             $recv: #NameExpr['reverse']
                                          ]
                                       ]
                                       $statement: #ApplyExpr[
                                          $recv: #NameExpr['rets']
                                          $recv: #NameExpr['each_with_index']
                                          $body: #Block[
                                             $param: #MultipleLeftHandSideExpression[
                                                $item: #NameExpr['e']
                                                $item: #NameExpr['i']
                                             ]
                                             $body: #List[
                                                $statement: #IfExpr[
                                                   $then: #Break['break']
                                                   $cond: #EqExpr[
                                                      $left: #Indexer[
                                                         $recv: #NameExpr['e']
                                                         $index: #List[
                                                            $expression: #IntExpr['0']
                                                         ]
                                                      ]
                                                      $right: #StringExpr['...']
                                                   ]
                                                ]
                                                $statement: #MultipleAssign[
                                                   $left: #MultipleLeftHandSideExpression[
                                                      $item: #NameExpr['pushed']
                                                      $item: #NameExpr['r']
                                                   ]
                                                   $right: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['add_stack_value']
                                                      $param: #List[
                                                         $expression: #NameExpr['from']
                                                      ]
                                                   ]
                                                ]
                                                $statement: #AssignExpr[
                                                   $left: #Indexer[
                                                      $base: #NameExpr['rets']
                                                      $index: #List[
                                                         $expression: #NameExpr['i']
                                                      ]
                                                   ]
                                                   $right: #LShiftExpr[
                                                      $left: #ApplyExpr[
                                                         $recv: #Indexer[
                                                            $recv: #NameExpr['rets']
                                                            $index: #List[
                                                               $expression: #NameExpr['i']
                                                            ]
                                                         ]
                                                         $recv: #NameExpr['dup']
                                                      ]
                                                      $right: #NameExpr['r']
                                                   ]
                                                ]
                                                $statement: #IfExpr[
                                                   $cond: #NameExpr['pushed']
                                                   $then: #List[
                                                      $statement: #IfExpr[
                                                         $cond: #ApplyExpr[
                                                            $recv: #NameExpr['rest_scr']
                                                            $recv: #NameExpr['pop']
                                                         ]
                                                         $then: #LShiftExpr[
                                                            $left: #NameExpr['pushs']
                                                            $right: #NameExpr['pushed']
                                                         ]
                                                      ]
                                                      $statement: #IfExpr[
                                                         $cond: #GteExpt[
                                                            $left: #SubExpr[
                                                               $left: #NameExpr['i']
                                                               $right: #IntExpr['2']
                                                            ]
                                                            $right: #IntExpr['0']
                                                         ]
                                                         $then: #ApplyExpr[
                                                            $recv: #Indexer[
                                                               $recv: #NameExpr['rets']
                                                               $index: #List[
                                                                  $expression: #SubExpr[
                                                                     $left: #NameExpr['i']
                                                                     $right: #IntExpr['2']
                                                                  ]
                                                               ]
                                                            ]
                                                            $recv: #NameExpr['pop']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #IfExpr[
                                    $cond: #FalseExpr['false']
                                    $then: #List[
                                       $statement: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['p']
                                          $param: #List[
                                             $expression: #NameExpr['ofrom']
                                          ]
                                       ]
                                       $statement: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['p']
                                          $param: #List[
                                             $expression: #NameExpr['pops']
                                          ]
                                       ]
                                       $statement: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['p']
                                          $param: #List[
                                             $expression: #NameExpr['rets']
                                          ]
                                       ]
                                       $statement: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['p']
                                          $param: #List[
                                             $expression: #NameExpr['pushs_before']
                                          ]
                                       ]
                                       $statement: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['p']
                                          $param: #List[
                                             $expression: #NameExpr['pushs']
                                          ]
                                       ]
                                       $statement: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['p']
                                          $param: #List[
                                             $expression: #NameExpr['from']
                                          ]
                                       ]
                                       $statement: #NameExpr['exit']
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['ret']
                                    $right: #Array[
                                       $index: #List[
                                          $expression: #StringExpr[
                                             $inner: #ApplyExpr[
                                                $recv: #NameExpr['insn']
                                                $recv: #NameExpr['name']
                                             ]
                                             $inner: #ApplyExpr[
                                                $recv: #NameExpr['InstructionsLoader']
                                                $recv: #NameExpr['complement_name']
                                                $param: #List[
                                                   $expression: #NameExpr['ofrom']
                                                ]
                                             ]
                                             $inner: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['complement_name']
                                                $param: #List[
                                                   $expression: #NameExpr['from']
                                                ]
                                             ]
                                          ]
                                          $expression: #NameExpr['pops']
                                          $expression: #NameExpr['rets']
                                          $expression: #NameExpr['pushs_before']
                                          $expression: #NameExpr['pushs']
                                          $expression: #NameExpr['from']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #Class[
                  $name: #NameExpr['SourceCodeGenerator']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #FuncDecl[
                           $name: #NameExpr['initialize']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['insns']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #AssignExpr[
                                 $left: #NameExpr['@insns']
                                 $right: #NameExpr['insns']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['attr_reader']
                           $param: #List[
                              $expression: #NameExpr['insns']
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['generate']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['raise']
                                 $param: #List[
                                    $expression: #StringExpr['should not reach here']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['vpath']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #ApplyExpr[
                                 $recv: #NameExpr['@insns']
                                 $recv: #NameExpr['vpath']
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['verbose?']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #ApplyExpr[
                                 $recv: #NameExpr['@insns']
                                 $recv: #NameExpr['verbose?']
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['use_const?']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #ApplyExpr[
                                 $recv: #NameExpr['@insns']
                                 $recv: #NameExpr['use_const?']
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['build_string']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@lines']
                                    $right: #Array['[]']
                                 ]
                                 $statement: #Yield['yield']
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['@lines']
                                    $recv: #NameExpr['join']
                                    $param: #List[
                                       $expression: #StringExpr['\\n']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['EMPTY_STRING']
                           $right: #ApplyExpr[
                              $recv: #StringExpr['']
                              $recv: #NameExpr['freeze']
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['commit']
                           $param: #List[
                              $param: #OptionalParam[
                                 $name: #NameExpr['str']
                                 $default: #NameExpr['EMPTY_STRING']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #LShiftExpr[
                                 $left: #NameExpr['@lines']
                                 $right: #NameExpr['str']
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['comment']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['str']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #IfExpr[
                                 $then: #LShiftExpr[
                                    $left: #NameExpr['@lines']
                                    $right: #NameExpr['str']
                                 ]
                                 $cond: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['verbose?']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['output_path']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['fn']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['d']
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['@insns']
                                       $recv: #NameExpr['destdir']
                                    ]
                                 ]
                                 $statement: #IfExpr[
                                    $then: #AssignExpr[
                                       $left: #NameExpr['fn']
                                       $right: #ApplyExpr[
                                          $recv: #NameExpr['File']
                                          $recv: #NameExpr['join']
                                          $param: #List[
                                             $expression: #NameExpr['d']
                                             $expression: #NameExpr['fn']
                                          ]
                                       ]
                                    ]
                                    $cond: #NameExpr['d']
                                 ]
                                 $statement: #NameExpr['fn']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #Class[
                  $name: #NameExpr['VmBodyGenerator']
                  $super: #NameExpr['SourceCodeGenerator']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #FuncDecl[
                           $name: #NameExpr['generate']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['vm_body']
                                    $right: #StringExpr['']
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['@insns']
                                    $recv: #NameExpr['each']
                                    $body: #Block[
                                       $param: #NameExpr['insn']
                                       $body: #List[
                                          $statement: #LShiftExpr[
                                             $left: #NameExpr['vm_body']
                                             $right: #StringExpr['\\n']
                                          ]
                                          $statement: #LShiftExpr[
                                             $left: #NameExpr['vm_body']
                                             $right: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['make_insn_def']
                                                $param: #List[
                                                   $expression: #NameExpr['insn']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['src']
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['vpath']
                                       $recv: #NameExpr['read']
                                       $param: #List[
                                          $expression: #StringExpr['template/vm.inc.tmpl']
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['ERB']
                                       $recv: #NameExpr['new']
                                       $param: #List[
                                          $expression: #NameExpr['src']
                                       ]
                                    ]
                                    $recv: #NameExpr['result']
                                    $param: #List[
                                       $expression: #NameExpr['binding']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['generate_from_insnname']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['insnname']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['make_insn_def']
                                 $param: #List[
                                    $expression: #Indexer[
                                       $recv: #NameExpr['@insns']
                                       $index: #List[
                                          $expression: #ApplyExpr[
                                             $recv: #NameExpr['insnname']
                                             $recv: #NameExpr['to_s']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #NameExpr['private']
                        $statement: #FuncDecl[
                           $name: #NameExpr['make_header_prepare_stack']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['insn']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['comment']
                                    $param: #List[
                                       $expression: #StringExpr['  /* prepare stack status */']
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['push_ba']
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['insn']
                                       $recv: #NameExpr['pushsc']
                                    ]
                                 ]
                                 $statement: #IfExpr[
                                    $then: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['raise']
                                       $param: #List[
                                          $expression: #StringExpr['unsupport']
                                       ]
                                    ]
                                    $cond: #LAnd[
                                       $left: #GtExpr[
                                          $left: #ApplyExpr[
                                             $recv: #Indexer[
                                                $recv: #NameExpr['push_ba']
                                                $index: #List[
                                                   $expression: #IntExpr['0']
                                                ]
                                             ]
                                             $recv: #NameExpr['size']
                                          ]
                                          $right: #IntExpr['0']
                                       ]
                                       $right: #GtExpr[
                                          $left: #ApplyExpr[
                                             $recv: #Indexer[
                                                $recv: #NameExpr['push_ba']
                                                $index: #List[
                                                   $expression: #IntExpr['1']
                                                ]
                                             ]
                                             $recv: #NameExpr['size']
                                          ]
                                          $right: #IntExpr['0']
                                       ]
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['n']
                                    $right: #IntExpr['0']
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['push_ba']
                                    $recv: #NameExpr['each']
                                    $body: #Block[
                                       $param: #NameExpr['pushs']
                                       $body: #AddAssign[
                                          $left: #NameExpr['n']
                                          $right: #ApplyExpr[
                                             $recv: #NameExpr['pushs']
                                             $recv: #NameExpr['length']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #IfExpr[
                                    $then: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['commit']
                                       $param: #List[
                                          $expression: #StringExpr[
                                             $inner: #NameExpr['n']
                                          ]
                                       ]
                                    ]
                                    $cond: #GtExpr[
                                       $left: #NameExpr['n']
                                       $right: #IntExpr['0']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['push_ba']
                                    $recv: #NameExpr['each']
                                    $body: #Block[
                                       $param: #NameExpr['pushs']
                                       $body: #ApplyExpr[
                                          $recv: #NameExpr['pushs']
                                          $recv: #NameExpr['each']
                                          $body: #Block[
                                             $param: #NameExpr['r']
                                             $body: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['commit']
                                                $param: #List[
                                                   $expression: #StringExpr[
                                                      $inner: #NameExpr['r']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['make_header_operands']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['insn']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['comment']
                                    $param: #List[
                                       $expression: #StringExpr['  /* declare and get from iseq */']
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['vars']
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['insn']
                                       $recv: #NameExpr['opes']
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['n']
                                    $right: #IntExpr['0']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['ops']
                                    $right: #Array['[]']
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['vars']
                                    $recv: #NameExpr['each_with_index']
                                    $body: #Block[
                                       $param: #MultipleLeftHandSideExpression[
                                          $item: #Grouping[
                                             $item: #MultipleLeftHandSideExpression[
                                                $item: #NameExpr['type']
                                                $item: #NameExpr['var']
                                             ]
                                          ]
                                          $item: #NameExpr['i']
                                       ]
                                       $body: #List[
                                          $statement: #IfExpr[
                                             $cond: #EqExpr[
                                                $left: #NameExpr['type']
                                                $right: #StringExpr['...']
                                             ]
                                             $then: #Break['break']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['re']
                                             $right: #Regex['/\\b#{var}\\b/n']
                                          ]
                                          $statement: #IfExpr[
                                             $cond: #OrExpr[
                                                $left: #OrExpr[
                                                   $left: #OrExpr[
                                                      $left: #OrExpr[
                                                         $left: #OrExpr[
                                                            $left: #AssignExpr[
                                                               $left: #NameExpr['re']
                                                               $right: #ComplExpr[
                                                                  $expr: #ApplyExpr[
                                                                     $recv: #NameExpr['insn']
                                                                     $recv: #NameExpr['body']
                                                                  ]
                                                               ]
                                                            ]
                                                            $right: #AssignExpr[
                                                               $left: #NameExpr['re']
                                                               $right: #ComplExpr[
                                                                  $expr: #ApplyExpr[
                                                                     $recv: #NameExpr['insn']
                                                                     $recv: #NameExpr['sp_inc']
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                         $right: #ApplyExpr[
                                                            $recv: #ApplyExpr[
                                                               $recv: #NameExpr['insn']
                                                               $recv: #NameExpr['rets']
                                                            ]
                                                            $recv: #NameExpr['any?']
                                                            $body: #Block[
                                                               $param: #MultipleLeftHandSideExpression[
                                                                  $item: #NameExpr['t']
                                                                  $item: #NameExpr['v']
                                                               ]
                                                               $body: #AssignExpr[
                                                                  $left: #NameExpr['re']
                                                                  $right: #ComplExpr[
                                                                     $expr: #NameExpr['v']
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $right: #AssignExpr[
                                                         $left: #NameExpr['re']
                                                         $right: #ComplExpr[
                                                            $expr: #StringExpr['ic']
                                                         ]
                                                      ]
                                                   ]
                                                   $right: #AssignExpr[
                                                      $left: #NameExpr['re']
                                                      $right: #ComplExpr[
                                                         $expr: #StringExpr['ci']
                                                      ]
                                                   ]
                                                ]
                                                $right: #AssignExpr[
                                                   $left: #NameExpr['re']
                                                   $right: #ComplExpr[
                                                      $expr: #StringExpr['cc']
                                                   ]
                                                ]
                                             ]
                                             $then: #LShiftExpr[
                                                $left: #NameExpr['ops']
                                                $right: #StringExpr[
                                                   $inner: #NameExpr['type']
                                                   $inner: #NameExpr['var']
                                                   $inner: #NameExpr['type']
                                                   $inner: #AddExpr[
                                                      $left: #NameExpr['i']
                                                      $right: #IntExpr['1']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #AddAssign[
                                             $left: #NameExpr['n']
                                             $right: #IntExpr['1']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@opn']
                                    $right: #NameExpr['n']
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['commit']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          $recv: #NameExpr['ops']
                                          $recv: #NameExpr['reverse']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['make_header_default_operands']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['insn']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['vars']
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['insn']
                                       $recv: #NameExpr['defopes']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['vars']
                                    $recv: #NameExpr['each']
                                    $body: #Block[
                                       $param: #NameExpr['e']
                                       $body: #List[
                                          $statement: #IfExpr[
                                             $then: #Next['next']
                                             $cond: #EqExpr[
                                                $left: #Indexer[
                                                   $recv: #NameExpr['e']
                                                   $index: #List[
                                                      $expression: #IntExpr['1']
                                                   ]
                                                ]
                                                $right: #StringExpr['*']
                                             ]
                                          ]
                                          $statement: #IfExpr[
                                             $cond: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['use_const?']
                                             ]
                                             $then: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['commit']
                                                $param: #List[
                                                   $expression: #StringExpr[
                                                      $inner: #Indexer[
                                                         $recv: #Indexer[
                                                            $recv: #NameExpr['e']
                                                            $index: #List[
                                                               $expression: #IntExpr['0']
                                                            ]
                                                         ]
                                                         $index: #List[
                                                            $expression: #IntExpr['0']
                                                         ]
                                                      ]
                                                      $inner: #Indexer[
                                                         $recv: #Indexer[
                                                            $recv: #NameExpr['e']
                                                            $index: #List[
                                                               $expression: #IntExpr['0']
                                                            ]
                                                         ]
                                                         $index: #List[
                                                            $expression: #IntExpr['1']
                                                         ]
                                                      ]
                                                      $inner: #Indexer[
                                                         $recv: #NameExpr['e']
                                                         $index: #List[
                                                            $expression: #IntExpr['1']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                             $else: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['commit']
                                                $param: #List[
                                                   $expression: #StringExpr[
                                                      $inner: #Indexer[
                                                         $recv: #Indexer[
                                                            $recv: #NameExpr['e']
                                                            $index: #List[
                                                               $expression: #IntExpr['0']
                                                            ]
                                                         ]
                                                         $index: #List[
                                                            $expression: #IntExpr['1']
                                                         ]
                                                      ]
                                                      $inner: #Indexer[
                                                         $recv: #NameExpr['e']
                                                         $index: #List[
                                                            $expression: #IntExpr['1']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['make_footer_default_operands']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['insn']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['comment']
                                    $param: #List[
                                       $expression: #StringExpr[' /* declare and initialize default opes */']
                                    ]
                                 ]
                                 $statement: #IfExpr[
                                    $cond: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['use_const?']
                                    ]
                                    $then: #NameExpr['commit']
                                    $else: #List[
                                       $statement: #AssignExpr[
                                          $left: #NameExpr['vars']
                                          $right: #ApplyExpr[
                                             $recv: #NameExpr['insn']
                                             $recv: #NameExpr['defopes']
                                          ]
                                       ]
                                       $statement: #ApplyExpr[
                                          $recv: #NameExpr['vars']
                                          $recv: #NameExpr['each']
                                          $body: #Block[
                                             $param: #NameExpr['e']
                                             $body: #List[
                                                $statement: #IfExpr[
                                                   $then: #Next['next']
                                                   $cond: #EqExpr[
                                                      $left: #Indexer[
                                                         $recv: #NameExpr['e']
                                                         $index: #List[
                                                            $expression: #IntExpr['1']
                                                         ]
                                                      ]
                                                      $right: #StringExpr['*']
                                                   ]
                                                ]
                                                $statement: #ApplyExpr[
                                                   #Self['self']
                                                   $recv: #NameExpr['commit']
                                                   $param: #List[
                                                      $expression: #StringExpr[
                                                         $inner: #Indexer[
                                                            $recv: #Indexer[
                                                               $recv: #NameExpr['e']
                                                               $index: #List[
                                                                  $expression: #IntExpr['0']
                                                               ]
                                                            ]
                                                            $index: #List[
                                                               $expression: #IntExpr['1']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['make_header_stack_pops']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['insn']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['comment']
                                    $param: #List[
                                       $expression: #StringExpr['  /* declare and pop from stack */']
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['n']
                                    $right: #IntExpr['0']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['pops']
                                    $right: #Array['[]']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['vars']
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['insn']
                                       $recv: #NameExpr['pops']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['vars']
                                    $recv: #NameExpr['each_with_index']
                                    $body: #Block[
                                       $param: #MultipleLeftHandSideExpression[
                                          $item: #NameExpr['iter']
                                          $item: #NameExpr['i']
                                       ]
                                       $body: #List[
                                          $statement: #MultipleAssign[
                                             $left: #MultipleLeftHandSideExpression[
                                                $item: #NameExpr['type']
                                                $item: #NameExpr['var']
                                                $item: #NameExpr['r']
                                             ]
                                             $right: #MultipleRightHandSideExpression[
                                                $variadic: #Variadic[
                                                   $base: #NameExpr['iter']
                                                ]
                                             ]
                                          ]
                                          $statement: #IfExpr[
                                             $cond: #EqExpr[
                                                $left: #NameExpr['type']
                                                $right: #StringExpr['...']
                                             ]
                                             $then: #Break['break']
                                          ]
                                          $statement: #IfExpr[
                                             $cond: #NameExpr['r']
                                             $then: #LShiftExpr[
                                                $left: #NameExpr['pops']
                                                $right: #StringExpr[
                                                   $inner: #NameExpr['type']
                                                   $inner: #NameExpr['var']
                                                   $inner: #NameExpr['r']
                                                ]
                                             ]
                                             $else: #List[
                                                $statement: #LShiftExpr[
                                                   $left: #NameExpr['pops']
                                                   $right: #StringExpr[
                                                      $inner: #NameExpr['type']
                                                      $inner: #NameExpr['var']
                                                      $inner: #NameExpr['n']
                                                   ]
                                                ]
                                                $statement: #AddAssign[
                                                   $left: #NameExpr['n']
                                                   $right: #IntExpr['1']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@popn']
                                    $right: #NameExpr['n']
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['commit']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          $recv: #NameExpr['pops']
                                          $recv: #NameExpr['reverse']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['make_header_temporary_vars']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['insn']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['comment']
                                    $param: #List[
                                       $expression: #StringExpr['  /* declare temporary vars */']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['insn']
                                       $recv: #NameExpr['tvars']
                                    ]
                                    $recv: #NameExpr['each']
                                    $body: #Block[
                                       $param: #NameExpr['var']
                                       $body: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['commit']
                                          $param: #List[
                                             $expression: #StringExpr[
                                                $inner: #Indexer[
                                                   $recv: #NameExpr['var']
                                                   $index: #List[
                                                      $expression: #IntExpr['0']
                                                   ]
                                                ]
                                                $inner: #Indexer[
                                                   $recv: #NameExpr['var']
                                                   $index: #List[
                                                      $expression: #IntExpr['1']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['make_header_stack_val']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['insn']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['comment']
                                    $param: #List[
                                       $expression: #StringExpr['/* declare stack push val */']
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['vars']
                                    $right: #AddExpr[
                                       $left: #AddExpr[
                                          $left: #ApplyExpr[
                                             $recv: #NameExpr['insn']
                                             $recv: #NameExpr['opes']
                                          ]
                                          $right: #ApplyExpr[
                                             $recv: #NameExpr['insn']
                                             $recv: #NameExpr['pops']
                                          ]
                                       ]
                                       $right: #ApplyExpr[
                                          $recv: #ApplyExpr[
                                             $recv: #NameExpr['insn']
                                             $recv: #NameExpr['defopes']
                                          ]
                                          $recv: #NameExpr['map']
                                          $body: #Block[
                                             $param: #NameExpr['e']
                                             $body: #Indexer[
                                                $recv: #NameExpr['e']
                                                $index: #List[
                                                   $expression: #IntExpr['0']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['insn']
                                       $recv: #NameExpr['rets']
                                    ]
                                    $recv: #NameExpr['each']
                                    $body: #Block[
                                       $param: #NameExpr['var']
                                       $body: #IfExpr[
                                          $cond: #ApplyExpr[
                                             $base: #ApplyExpr[
                                                $recv: #NameExpr['vars']
                                                $recv: #NameExpr['all?']
                                                $body: #Block[
                                                   $param: #NameExpr['e']
                                                   $body: #NeExpr[
                                                      $left: #Indexer[
                                                         $recv: #NameExpr['e']
                                                         $index: #List[
                                                            $expression: #IntExpr['1']
                                                         ]
                                                      ]
                                                      $right: #Indexer[
                                                         $recv: #NameExpr['var']
                                                         $index: #List[
                                                            $expression: #IntExpr['1']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                             $recv: #NameExpr['&']
                                             $param: #List[
                                                $expression: #NeExpr[
                                                   $left: #Indexer[
                                                      $recv: #NameExpr['var']
                                                      $index: #List[
                                                         $expression: #IntExpr['1']
                                                      ]
                                                   ]
                                                   $right: #StringExpr['...']
                                                ]
                                             ]
                                          ]
                                          $then: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['commit']
                                             $param: #List[
                                                $expression: #StringExpr[
                                                   $inner: #Indexer[
                                                      $recv: #NameExpr['var']
                                                      $index: #List[
                                                         $expression: #IntExpr['0']
                                                      ]
                                                   ]
                                                   $inner: #Indexer[
                                                      $recv: #NameExpr['var']
                                                      $index: #List[
                                                         $expression: #IntExpr['1']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['make_header_analysis']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['insn']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['commit']
                                    $param: #List[
                                       $expression: #StringExpr[
                                          $inner: #ApplyExpr[
                                             $recv: #NameExpr['insn']
                                             $recv: #NameExpr['name']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['insn']
                                       $recv: #NameExpr['opes']
                                    ]
                                    $recv: #NameExpr['each_with_index']
                                    $body: #Block[
                                       $param: #MultipleLeftHandSideExpression[
                                          $item: #NameExpr['op']
                                          $item: #NameExpr['i']
                                       ]
                                       $body: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['commit']
                                          $param: #List[
                                             $expression: #StringExpr[
                                                $inner: #ApplyExpr[
                                                   $recv: #NameExpr['insn']
                                                   $recv: #NameExpr['name']
                                                ]
                                                $inner: #NameExpr['i']
                                                $inner: #Indexer[
                                                   $recv: #NameExpr['op']
                                                   $index: #List[
                                                      $expression: #IntExpr['1']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['make_header_pc']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['insn']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['commit']
                                    $param: #List[
                                       $expression: #StringExpr[
                                          $inner: #NameExpr['@opn']
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['commit']
                                    $param: #List[
                                       $expression: #StringExpr['  PREFETCH(GET_PC());']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['make_header_popn']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['insn']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['comment']
                                    $param: #List[
                                       $expression: #StringExpr['  /* management */']
                                    ]
                                 ]
                                 $statement: #IfExpr[
                                    $then: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['commit']
                                       $param: #List[
                                          $expression: #StringExpr[
                                             $inner: #NameExpr['@popn']
                                          ]
                                       ]
                                    ]
                                    $cond: #GtExpr[
                                       $left: #NameExpr['@popn']
                                       $right: #IntExpr['0']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['make_header_debug']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['insn']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['comment']
                                    $param: #List[
                                       $expression: #StringExpr['  /* for debug */']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['commit']
                                    $param: #List[
                                       $expression: #StringExpr[
                                          $inner: #ApplyExpr[
                                             $recv: #NameExpr['insn']
                                             $recv: #NameExpr['name']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['make_header_defines']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['insn']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['commit']
                                    $param: #List[
                                       $expression: #StringExpr[
                                          $inner: #ApplyExpr[
                                             $recv: #NameExpr['insn']
                                             $recv: #NameExpr['name']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['commit']
                                    $param: #List[
                                       $expression: #StringExpr[
                                          $inner: #Conditional[
                                             $cond: #ApplyExpr[
                                                $recv: #NameExpr['insn']
                                                $recv: #NameExpr['sc']
                                             ]
                                             $then: #IntExpr['0']
                                             $else: #IntExpr['1']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['commit']
                                    $param: #List[
                                       $expression: #StringExpr[
                                          $inner: #ApplyExpr[
                                             $recv: #NameExpr['insn']
                                             $recv: #NameExpr['name']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['commit']
                                    $param: #List[
                                       $expression: #StringExpr[
                                          $inner: #Conditional[
                                             $cond: #EqExpr[
                                                $left: #ApplyExpr[
                                                   $recv: #ApplyExpr[
                                                      $recv: #NameExpr['insn']
                                                      $recv: #NameExpr['sc']
                                                   ]
                                                   $recv: #NameExpr['size']
                                                ]
                                                $right: #IntExpr['0']
                                             ]
                                             $then: #StringExpr['t']
                                             $else: #StringExpr['f']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['each_footer_stack_val']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['insn']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['insn']
                                    $recv: #NameExpr['rets']
                                 ]
                                 $recv: #NameExpr['reverse_each']
                                 $body: #Block[
                                    $param: #NameExpr['v']
                                    $body: #List[
                                       $statement: #IfExpr[
                                          $then: #Break['break']
                                          $cond: #EqExpr[
                                             $left: #Indexer[
                                                $recv: #NameExpr['v']
                                                $index: #List[
                                                   $expression: #IntExpr['1']
                                                ]
                                             ]
                                             $right: #StringExpr['...']
                                          ]
                                       ]
                                       $statement: #Yield[
                                          $param: #List[
                                             $expression: #NameExpr['v']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['make_footer_stack_val']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['insn']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['comment']
                                    $param: #List[
                                       $expression: #StringExpr['  /* push stack val */']
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['n']
                                    $right: #IntExpr['0']
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['each_footer_stack_val']
                                    $param: #List[
                                       $expression: #NameExpr['insn']
                                    ]
                                    $body: #Block[
                                       $param: #NameExpr['v']
                                       $body: #Unless[
                                          $then: #AddAssign[
                                             $left: #NameExpr['n']
                                             $right: #IntExpr['1']
                                          ]
                                          $cond: #Indexer[
                                             $recv: #NameExpr['v']
                                             $index: #List[
                                                $expression: #IntExpr['2']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #IfExpr[
                                    $then: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['commit']
                                       $param: #List[
                                          $expression: #StringExpr[
                                             $inner: #NameExpr['n']
                                          ]
                                       ]
                                    ]
                                    $cond: #GtExpr[
                                       $left: #NameExpr['n']
                                       $right: #IntExpr['0']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['each_footer_stack_val']
                                    $param: #List[
                                       $expression: #NameExpr['insn']
                                    ]
                                    $body: #Block[
                                       $param: #NameExpr['v']
                                       $body: #IfExpr[
                                          $cond: #Indexer[
                                             $recv: #NameExpr['v']
                                             $index: #List[
                                                $expression: #IntExpr['2']
                                             ]
                                          ]
                                          $then: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['commit']
                                             $param: #List[
                                                $expression: #StringExpr[
                                                   $inner: #Indexer[
                                                      $recv: #NameExpr['v']
                                                      $index: #List[
                                                         $expression: #IntExpr['2']
                                                      ]
                                                   ]
                                                   $inner: #Indexer[
                                                      $recv: #NameExpr['v']
                                                      $index: #List[
                                                         $expression: #IntExpr['1']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $else: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['commit']
                                             $param: #List[
                                                $expression: #StringExpr[
                                                   $inner: #Indexer[
                                                      $recv: #NameExpr['v']
                                                      $index: #List[
                                                         $expression: #IntExpr['1']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['make_footer_undefs']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['insn']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['commit']
                                    $param: #List[
                                       $expression: #StringExpr[
                                          $inner: #ApplyExpr[
                                             $recv: #NameExpr['insn']
                                             $recv: #NameExpr['name']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['commit']
                                    $param: #List[
                                       $expression: #StringExpr['#undef INSN_IS_SC']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['commit']
                                    $param: #List[
                                       $expression: #StringExpr['#undef INSN_LABEL']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['commit']
                                    $param: #List[
                                       $expression: #StringExpr['#undef LABEL_IS_SC']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['make_header']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['insn']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['commit']
                                    $param: #List[
                                       $expression: #StringExpr[
                                          $inner: #ApplyExpr[
                                             $recv: #NameExpr['insn']
                                             $recv: #NameExpr['name']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['make_header_prepare_stack']
                                    $param: #List[
                                       $expression: #NameExpr['insn']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['commit']
                                    $param: #List[
                                       $expression: #StringExpr['{']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['make_header_stack_val']
                                    $param: #List[
                                       $expression: #NameExpr['insn']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['make_header_default_operands']
                                    $param: #List[
                                       $expression: #NameExpr['insn']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['make_header_operands']
                                    $param: #List[
                                       $expression: #NameExpr['insn']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['make_header_stack_pops']
                                    $param: #List[
                                       $expression: #NameExpr['insn']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['make_header_temporary_vars']
                                    $param: #List[
                                       $expression: #NameExpr['insn']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['make_header_debug']
                                    $param: #List[
                                       $expression: #NameExpr['insn']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['make_header_pc']
                                    $param: #List[
                                       $expression: #NameExpr['insn']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['make_header_popn']
                                    $param: #List[
                                       $expression: #NameExpr['insn']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['make_header_defines']
                                    $param: #List[
                                       $expression: #NameExpr['insn']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['make_header_analysis']
                                    $param: #List[
                                       $expression: #NameExpr['insn']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['commit']
                                    $param: #List[
                                       $expression: #StringExpr['{']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['make_footer']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['insn']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['make_footer_stack_val']
                                    $param: #List[
                                       $expression: #NameExpr['insn']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['make_footer_default_operands']
                                    $param: #List[
                                       $expression: #NameExpr['insn']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['make_footer_undefs']
                                    $param: #List[
                                       $expression: #NameExpr['insn']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['commit']
                                    $param: #List[
                                       $expression: #StringExpr[
                                          $inner: #ApplyExpr[
                                             $recv: #NameExpr['insn']
                                             $recv: #NameExpr['name']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['make_insn_def']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['insn']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['build_string']
                                 $body: #Block[
                                    $body: #List[
                                       $statement: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['make_header']
                                          $param: #List[
                                             $expression: #NameExpr['insn']
                                          ]
                                       ]
                                       $statement: #IfExpr[
                                          $cond: #AssignExpr[
                                             $left: #NameExpr['line']
                                             $right: #ApplyExpr[
                                                $recv: #ApplyExpr[
                                                   $recv: #NameExpr['insn']
                                                   $recv: #NameExpr['body']
                                                ]
                                                $recv: #NameExpr['instance_variable_get']
                                                $param: #List[
                                                   $expression: #NameExpr['@line_no']
                                                ]
                                             ]
                                          ]
                                          $then: #List[
                                             $statement: #AssignExpr[
                                                $left: #NameExpr['file']
                                                $right: #ApplyExpr[
                                                   $recv: #ApplyExpr[
                                                      $recv: #NameExpr['insn']
                                                      $recv: #NameExpr['body']
                                                   ]
                                                   $recv: #NameExpr['instance_variable_get']
                                                   $param: #List[
                                                      $expression: #NameExpr['@file']
                                                   ]
                                                ]
                                             ]
                                             $statement: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['commit']
                                                $param: #List[
                                                   $expression: #StringExpr[
                                                      $inner: #AddExpr[
                                                         $left: #NameExpr['line']
                                                         $right: #IntExpr['1']
                                                      ]
                                                      $inner: #NameExpr['file']
                                                   ]
                                                ]
                                             ]
                                             $statement: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['commit']
                                                $param: #List[
                                                   $expression: #ApplyExpr[
                                                      $recv: #NameExpr['insn']
                                                      $recv: #NameExpr['body']
                                                   ]
                                                ]
                                             ]
                                             $statement: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['commit']
                                                $param: #List[
                                                   $expression: #StringExpr['#line __CURRENT_LINE__ "__CURRENT_FILE__"']
                                                ]
                                             ]
                                          ]
                                          $else: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['commit']
                                             $param: #List[
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['insn']
                                                   $recv: #NameExpr['body']
                                                ]
                                             ]
                                          ]
                                       ]
                                       $statement: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['make_footer']
                                          $param: #List[
                                             $expression: #NameExpr['insn']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #Class[
                  $name: #NameExpr['VmTCIncGenerator']
                  $super: #NameExpr['SourceCodeGenerator']
                  $body: #BlockExpr[
                     $main: #FuncDecl[
                        $name: #NameExpr['generate']
                        $param: #List['']
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #AssignExpr[
                                 $left: #NameExpr['insns_table']
                                 $right: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['build_string']
                                    $body: #Block[
                                       $body: #ApplyExpr[
                                          $recv: #NameExpr['@insns']
                                          $recv: #NameExpr['each']
                                          $body: #Block[
                                             $param: #NameExpr['insn']
                                             $body: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['commit']
                                                $param: #List[
                                                   $expression: #StringExpr[
                                                      $inner: #ApplyExpr[
                                                         $recv: #NameExpr['insn']
                                                         $recv: #NameExpr['name']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #AssignExpr[
                                 $left: #NameExpr['insn_end_table']
                                 $right: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['build_string']
                                    $body: #Block[
                                       $body: #ApplyExpr[
                                          $recv: #NameExpr['@insns']
                                          $recv: #NameExpr['each']
                                          $body: #Block[
                                             $param: #NameExpr['insn']
                                             $body: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['commit']
                                                $param: #List[
                                                   $expression: #StringExpr[
                                                      $inner: #ApplyExpr[
                                                         $recv: #NameExpr['insn']
                                                         $recv: #NameExpr['name']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['ERB']
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          $recv: #NameExpr['vpath']
                                          $recv: #NameExpr['read']
                                          $param: #List[
                                             $expression: #StringExpr['template/vmtc.inc.tmpl']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['result']
                                 $param: #List[
                                    $expression: #NameExpr['binding']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #Class[
                  $name: #NameExpr['InsnsInfoIncGenerator']
                  $super: #NameExpr['SourceCodeGenerator']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #FuncDecl[
                           $name: #NameExpr['generate']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #NameExpr['insns_info_inc']
                           ]
                        ]
                        $statement: #NameExpr['private']
                        $statement: #FuncDecl[
                           $name: #NameExpr['op2typesig']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['op']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #Case[
                                 $cond: #NameExpr['op']
                                 $body: #List[
                                    $when: #When[
                                       $cond: #List[
                                          $expression: #Regex['/^OFFSET/']
                                       ]
                                       $then: #StringExpr['TS_OFFSET']
                                    ]
                                    $when: #When[
                                       $cond: #List[
                                          $expression: #Regex['/^rb_num_t/']
                                       ]
                                       $then: #StringExpr['TS_NUM']
                                    ]
                                    $when: #When[
                                       $cond: #List[
                                          $expression: #Regex['/^lindex_t/']
                                       ]
                                       $then: #StringExpr['TS_LINDEX']
                                    ]
                                    $when: #When[
                                       $cond: #List[
                                          $expression: #Regex['/^VALUE/']
                                       ]
                                       $then: #StringExpr['TS_VALUE']
                                    ]
                                    $when: #When[
                                       $cond: #List[
                                          $expression: #Regex['/^ID/']
                                       ]
                                       $then: #StringExpr['TS_ID']
                                    ]
                                    $when: #When[
                                       $cond: #List[
                                          $expression: #Regex['/GENTRY/']
                                       ]
                                       $then: #StringExpr['TS_GENTRY']
                                    ]
                                    $when: #When[
                                       $cond: #List[
                                          $expression: #Regex['/^IC/']
                                       ]
                                       $then: #StringExpr['TS_IC']
                                    ]
                                    $when: #When[
                                       $cond: #List[
                                          $expression: #Regex['/^CALL_INFO/']
                                       ]
                                       $then: #StringExpr['TS_CALLINFO']
                                    ]
                                    $when: #When[
                                       $cond: #List[
                                          $expression: #Regex['/^CALL_CACHE/']
                                       ]
                                       $then: #StringExpr['TS_CALLCACHE']
                                    ]
                                    $when: #When[
                                       $cond: #List[
                                          $expression: #Regex['/^\\.\\.\\./']
                                       ]
                                       $then: #StringExpr['TS_VARIABLE']
                                    ]
                                    $when: #When[
                                       $cond: #List[
                                          $expression: #Regex['/^CDHASH/']
                                       ]
                                       $then: #StringExpr['TS_CDHASH']
                                    ]
                                    $when: #When[
                                       $cond: #List[
                                          $expression: #Regex['/^ISEQ/']
                                       ]
                                       $then: #StringExpr['TS_ISEQ']
                                    ]
                                    $when: #When[
                                       $cond: #List[
                                          $expression: #Regex['/rb_insn_func_t/']
                                       ]
                                       $then: #StringExpr['TS_FUNCPTR']
                                    ]
                                 ]
                                 $else: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['raise']
                                    $param: #List[
                                       $expression: #StringExpr[
                                          $inner: #NameExpr['op']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['TYPE_CHARS']
                           $right: #List[
                              $hash: #Hash[
                                 $key: #StringExpr['TS_OFFSET']
                                 $value: #StringExpr['O']
                              ]
                              $hash: #Hash[
                                 $key: #StringExpr['TS_NUM']
                                 $value: #StringExpr['N']
                              ]
                              $hash: #Hash[
                                 $key: #StringExpr['TS_LINDEX']
                                 $value: #StringExpr['L']
                              ]
                              $hash: #Hash[
                                 $key: #StringExpr['TS_VALUE']
                                 $value: #StringExpr['V']
                              ]
                              $hash: #Hash[
                                 $key: #StringExpr['TS_ID']
                                 $value: #StringExpr['I']
                              ]
                              $hash: #Hash[
                                 $key: #StringExpr['TS_GENTRY']
                                 $value: #StringExpr['G']
                              ]
                              $hash: #Hash[
                                 $key: #StringExpr['TS_IC']
                                 $value: #StringExpr['K']
                              ]
                              $hash: #Hash[
                                 $key: #StringExpr['TS_CALLINFO']
                                 $value: #StringExpr['C']
                              ]
                              $hash: #Hash[
                                 $key: #StringExpr['TS_CALLCACHE']
                                 $value: #StringExpr['E']
                              ]
                              $hash: #Hash[
                                 $key: #StringExpr['TS_CDHASH']
                                 $value: #StringExpr['H']
                              ]
                              $hash: #Hash[
                                 $key: #StringExpr['TS_ISEQ']
                                 $value: #StringExpr['S']
                              ]
                              $hash: #Hash[
                                 $key: #StringExpr['TS_VARIABLE']
                                 $value: #StringExpr['.']
                              ]
                              $hash: #Hash[
                                 $key: #StringExpr['TS_FUNCPTR']
                                 $value: #StringExpr['F']
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['insns_info_inc']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['insn_type_chars']
                                    $right: #ApplyExpr[
                                       $recv: #ApplyExpr[
                                          $recv: #NameExpr['TYPE_CHARS']
                                          $recv: #NameExpr['map']
                                          $body: #Block[
                                             $param: #MultipleLeftHandSideExpression[
                                                $item: #NameExpr['t']
                                                $item: #NameExpr['c']
                                             ]
                                             $body: #StringExpr[
                                                $inner: #NameExpr['t']
                                                $inner: #NameExpr['c']
                                             ]
                                          ]
                                       ]
                                       $recv: #NameExpr['join']
                                       $param: #List[
                                          $expression: #StringExpr['\\n']
                                       ]
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['insn_names']
                                    $right: #StringExpr['']
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['@insns']
                                    $recv: #NameExpr['each']
                                    $body: #Block[
                                       $param: #NameExpr['insn']
                                       $body: #LShiftExpr[
                                          $left: #NameExpr['insn_names']
                                          $right: #StringExpr[
                                             $inner: #ApplyExpr[
                                                $recv: #NameExpr['insn']
                                                $recv: #NameExpr['name']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['operands_info']
                                    $right: #StringExpr['']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['operands_num_info']
                                    $right: #StringExpr['']
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['@insns']
                                    $recv: #NameExpr['each']
                                    $body: #Block[
                                       $param: #NameExpr['insn']
                                       $body: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['opes']
                                             $right: #ApplyExpr[
                                                $recv: #NameExpr['insn']
                                                $recv: #NameExpr['opes']
                                             ]
                                          ]
                                          $statement: #LShiftExpr[
                                             $left: #NameExpr['operands_info']
                                             $right: #StringExpr['  ']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['ot']
                                             $right: #ApplyExpr[
                                                $recv: #NameExpr['opes']
                                                $recv: #NameExpr['map']
                                                $body: #Block[
                                                   $param: #MultipleLeftHandSideExpression[
                                                      $item: #NameExpr['type']
                                                      $item: #NameExpr['var']
                                                   ]
                                                   $body: #ApplyExpr[
                                                      $recv: #NameExpr['TYPE_CHARS']
                                                      $recv: #NameExpr['fetch']
                                                      $param: #List[
                                                         $expression: #ApplyExpr[
                                                            #Self['self']
                                                            $recv: #NameExpr['op2typesig']
                                                            $param: #List[
                                                               $expression: #NameExpr['type']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #LShiftExpr[
                                             $left: #LShiftExpr[
                                                $left: #NameExpr['operands_info']
                                                $right: #StringExpr[
                                                   $inner: #ApplyExpr[
                                                      $recv: #NameExpr['ot']
                                                      $recv: #NameExpr['join']
                                                   ]
                                                ]
                                             ]
                                             $right: #StringExpr[',\\n']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['num']
                                             $right: #AddExpr[
                                                $left: #ApplyExpr[
                                                   $recv: #NameExpr['opes']
                                                   $recv: #NameExpr['size']
                                                ]
                                                $right: #IntExpr['1']
                                             ]
                                          ]
                                          $statement: #LShiftExpr[
                                             $left: #NameExpr['operands_num_info']
                                             $right: #StringExpr[
                                                $inner: #NameExpr['num']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['stack_num_info']
                                    $right: #StringExpr['']
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['@insns']
                                    $recv: #NameExpr['each']
                                    $body: #Block[
                                       $param: #NameExpr['insn']
                                       $body: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['num']
                                             $right: #ApplyExpr[
                                                $recv: #ApplyExpr[
                                                   $recv: #NameExpr['insn']
                                                   $recv: #NameExpr['rets']
                                                ]
                                                $recv: #NameExpr['size']
                                             ]
                                          ]
                                          $statement: #LShiftExpr[
                                             $left: #NameExpr['stack_num_info']
                                             $right: #StringExpr[
                                                $inner: #NameExpr['num']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['stack_increase']
                                    $right: #StringExpr['']
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['@insns']
                                    $recv: #NameExpr['each']
                                    $body: #Block[
                                       $param: #NameExpr['insn']
                                       $body: #LShiftExpr[
                                          $left: #NameExpr['stack_increase']
                                          $right: #HereDocument['        case BIN(#{insn.name}):{\n          #{insn.sp_increase_c_expr}\n        }\n']
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['ERB']
                                       $recv: #NameExpr['new']
                                       $param: #List[
                                          $expression: #ApplyExpr[
                                             $recv: #NameExpr['vpath']
                                             $recv: #NameExpr['read']
                                             $param: #List[
                                                $expression: #StringExpr['template/insns_info.inc.tmpl']
                                             ]
                                          ]
                                       ]
                                    ]
                                    $recv: #NameExpr['result']
                                    $param: #List[
                                       $expression: #NameExpr['binding']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #Class[
                  $name: #NameExpr['InsnsIncGenerator']
                  $super: #NameExpr['SourceCodeGenerator']
                  $body: #BlockExpr[
                     $main: #FuncDecl[
                        $name: #NameExpr['generate']
                        $param: #List['']
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #AssignExpr[
                                 $left: #NameExpr['i']
                                 $right: #IntExpr['0']
                              ]
                              $statement: #AssignExpr[
                                 $left: #NameExpr['insns']
                                 $right: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['build_string']
                                    $body: #Block[
                                       $body: #ApplyExpr[
                                          $recv: #NameExpr['@insns']
                                          $recv: #NameExpr['each']
                                          $body: #Block[
                                             $param: #NameExpr['insn']
                                             $body: #List[
                                                $statement: #ApplyExpr[
                                                   #Self['self']
                                                   $recv: #NameExpr['commit']
                                                   $param: #List[
                                                      $expression: #ModExpr[
                                                         $left: #StringExpr['  %-30s = %d,']
                                                         $right: #Array[
                                                            $index: #List[
                                                               $expression: #StringExpr[
                                                                  $inner: #ApplyExpr[
                                                                     $recv: #NameExpr['insn']
                                                                     $recv: #NameExpr['name']
                                                                  ]
                                                               ]
                                                               $expression: #NameExpr['i']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                                $statement: #AddAssign[
                                                   $left: #NameExpr['i']
                                                   $right: #IntExpr['1']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['ERB']
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          $recv: #NameExpr['vpath']
                                          $recv: #NameExpr['read']
                                          $param: #List[
                                             $expression: #StringExpr['template/insns.inc.tmpl']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['result']
                                 $param: #List[
                                    $expression: #NameExpr['binding']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #Class[
                  $name: #NameExpr['MInsnsIncGenerator']
                  $super: #NameExpr['SourceCodeGenerator']
                  $body: #BlockExpr[
                     $main: #FuncDecl[
                        $name: #NameExpr['generate']
                        $param: #List['']
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #AssignExpr[
                                 $left: #NameExpr['i']
                                 $right: #IntExpr['0']
                              ]
                              $statement: #AssignExpr[
                                 $left: #NameExpr['defs']
                                 $right: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['build_string']
                                    $body: #Block[
                                       $body: #ApplyExpr[
                                          $recv: #NameExpr['@insns']
                                          $recv: #NameExpr['each']
                                          $body: #Block[
                                             $param: #NameExpr['insn']
                                             $body: #List[
                                                $statement: #ApplyExpr[
                                                   #Self['self']
                                                   $recv: #NameExpr['commit']
                                                   $param: #List[
                                                      $expression: #ModExpr[
                                                         $left: #StringExpr['  rb_define_const(mYarvInsns, %-30s, INT2FIX(%d));']
                                                         $right: #Array[
                                                            $index: #List[
                                                               $expression: #StringExpr[
                                                                  $inner: #ApplyExpr[
                                                                     $recv: #NameExpr['insn']
                                                                     $recv: #NameExpr['name']
                                                                  ]
                                                               ]
                                                               $expression: #NameExpr['i']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                                $statement: #AddAssign[
                                                   $left: #NameExpr['i']
                                                   $right: #IntExpr['1']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['ERB']
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          $recv: #NameExpr['vpath']
                                          $recv: #NameExpr['read']
                                          $param: #List[
                                             $expression: #StringExpr['template/minsns.inc.tmpl']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['result']
                                 $param: #List[
                                    $expression: #NameExpr['binding']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #Class[
                  $name: #NameExpr['OptInsnIncGenerator']
                  $super: #NameExpr['SourceCodeGenerator']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #FuncDecl[
                           $name: #NameExpr['generate']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #NameExpr['optinsn_inc']
                           ]
                        ]
                        $statement: #NameExpr['private']
                        $statement: #FuncDecl[
                           $name: #NameExpr['val_as_type']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['op']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['type']
                                    $right: #Indexer[
                                       $recv: #Indexer[
                                          $recv: #NameExpr['op']
                                          $index: #List[
                                             $expression: #IntExpr['0']
                                          ]
                                       ]
                                       $index: #List[
                                          $expression: #IntExpr['0']
                                       ]
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['val']
                                    $right: #Indexer[
                                       $recv: #NameExpr['op']
                                       $index: #List[
                                          $expression: #IntExpr['1']
                                       ]
                                    ]
                                 ]
                                 $statement: #Case[
                                    $cond: #NameExpr['type']
                                    $body: #List[
                                       $when: #When[
                                          $cond: #List[
                                             $expression: #Regex['/^long/']
                                             $expression: #Regex['/^rb_num_t/']
                                             $expression: #Regex['/^lindex_t/']
                                          ]
                                          $then: #StringExpr[
                                             $inner: #NameExpr['val']
                                          ]
                                       ]
                                       $when: #When[
                                          $cond: #List[
                                             $expression: #Regex['/^VALUE/']
                                          ]
                                          $then: #NameExpr['val']
                                       ]
                                       $when: #When[
                                          $cond: #List[
                                             $expression: #Regex['/^ID/']
                                          ]
                                          $then: #StringExpr[
                                             $inner: #NameExpr['val']
                                          ]
                                       ]
                                       $when: #When[
                                          $cond: #List[
                                             $expression: #Regex['/^ISEQ/']
                                             $expression: #Regex['/^rb_insn_func_t/']
                                          ]
                                          $then: #NameExpr['val']
                                       ]
                                       $when: #When[
                                          $cond: #List[
                                             $expression: #Regex['/GENTRY/']
                                          ]
                                          $then: #NameExpr['raise']
                                       ]
                                       $when: #When[
                                          $cond: #List[
                                             $expression: #Regex['/^\\.\\.\\./']
                                          ]
                                          $then: #NameExpr['raise']
                                       ]
                                    ]
                                    $else: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['raise']
                                       $param: #List[
                                          $expression: #StringExpr[
                                             $inner: #NameExpr['type']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['optinsn_inc']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['rule']
                                    $right: #StringExpr['']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['opt_insns_map']
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['Hash']
                                       $recv: #NameExpr['new']
                                       $body: #Block[
                                          $param: #MultipleLeftHandSideExpression[
                                             $item: #NameExpr['h']
                                             $item: #NameExpr['k']
                                          ]
                                          $body: #AssignExpr[
                                             $left: #Indexer[
                                                $base: #NameExpr['h']
                                                $index: #List[
                                                   $expression: #NameExpr['k']
                                                ]
                                             ]
                                             $right: #Array['[]']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['@insns']
                                    $recv: #NameExpr['each']
                                    $body: #Block[
                                       $param: #NameExpr['insn']
                                       $body: #List[
                                          $statement: #IfExpr[
                                             $then: #Next['next']
                                             $cond: #EqExpr[
                                                $left: #ApplyExpr[
                                                   $recv: #ApplyExpr[
                                                      $recv: #NameExpr['insn']
                                                      $recv: #NameExpr['defopes']
                                                   ]
                                                   $recv: #NameExpr['size']
                                                ]
                                                $right: #IntExpr['0']
                                             ]
                                          ]
                                          $statement: #IfExpr[
                                             $then: #Next['next']
                                             $cond: #EqExpr[
                                                $left: #ApplyExpr[
                                                   $recv: #NameExpr['insn']
                                                   $recv: #NameExpr['type']
                                                ]
                                                $right: #NameExpr['sc']
                                             ]
                                          ]
                                          $statement: #IfExpr[
                                             $then: #Next['next']
                                             $cond: #Match[
                                                $left: #Regex['/^UNIFIED/']
                                                $right: #ApplyExpr[
                                                   $recv: #ApplyExpr[
                                                      $recv: #NameExpr['insn']
                                                      $recv: #NameExpr['name']
                                                   ]
                                                   $recv: #NameExpr['to_s']
                                                ]
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['originsn']
                                             $right: #ApplyExpr[
                                                $recv: #NameExpr['insn']
                                                $recv: #NameExpr['orig']
                                             ]
                                          ]
                                          $statement: #LShiftExpr[
                                             $left: #Indexer[
                                                $recv: #NameExpr['opt_insns_map']
                                                $index: #List[
                                                   $expression: #NameExpr['originsn']
                                                ]
                                             ]
                                             $right: #NameExpr['insn']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['rule']
                                    $right: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['build_string']
                                       $body: #Block[
                                          $body: #ApplyExpr[
                                             $recv: #NameExpr['opt_insns_map']
                                             $recv: #NameExpr['each']
                                             $body: #Block[
                                                $param: #MultipleLeftHandSideExpression[
                                                   $item: #NameExpr['originsn']
                                                   $item: #NameExpr['optinsns']
                                                ]
                                                $body: #List[
                                                   $statement: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['commit']
                                                      $param: #List[
                                                         $expression: #StringExpr[
                                                            $inner: #ApplyExpr[
                                                               $recv: #NameExpr['originsn']
                                                               $recv: #NameExpr['name']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #ApplyExpr[
                                                         $recv: #NameExpr['optinsns']
                                                         $recv: #NameExpr['sort_by']
                                                         $body: #Block[
                                                            $param: #NameExpr['opti']
                                                            $body: #ApplyExpr[
                                                               $recv: #ApplyExpr[
                                                                  $recv: #ApplyExpr[
                                                                     $recv: #NameExpr['opti']
                                                                     $recv: #NameExpr['defopes']
                                                                  ]
                                                                  $recv: #NameExpr['find_all']
                                                                  $body: #Block[
                                                                     $param: #NameExpr['e']
                                                                     $body: #EqExpr[
                                                                        $left: #Indexer[
                                                                           $recv: #NameExpr['e']
                                                                           $index: #List[
                                                                              $expression: #IntExpr['1']
                                                                           ]
                                                                        ]
                                                                        $right: #StringExpr['*']
                                                                     ]
                                                                  ]
                                                               ]
                                                               $recv: #NameExpr['size']
                                                            ]
                                                         ]
                                                      ]
                                                      $recv: #NameExpr['each']
                                                      $body: #Block[
                                                         $param: #NameExpr['opti']
                                                         $body: #List[
                                                            $statement: #ApplyExpr[
                                                               #Self['self']
                                                               $recv: #NameExpr['commit']
                                                               $param: #List[
                                                                  $expression: #StringExpr['  if(']
                                                               ]
                                                            ]
                                                            $statement: #AssignExpr[
                                                               $left: #NameExpr['i']
                                                               $right: #IntExpr['0']
                                                            ]
                                                            $statement: #ApplyExpr[
                                                               #Self['self']
                                                               $recv: #NameExpr['commit']
                                                               $param: #List[
                                                                  $expression: #AddExpr[
                                                                     $left: #StringExpr['    ']
                                                                     $right: #ApplyExpr[
                                                                        $recv: #ApplyExpr[
                                                                           $recv: #ApplyExpr[
                                                                              $recv: #ApplyExpr[
                                                                                 $recv: #NameExpr['opti']
                                                                                 $recv: #NameExpr['defopes']
                                                                              ]
                                                                              $recv: #NameExpr['map']
                                                                              $body: #Block[
                                                                                 $param: #NameExpr['opinfo']
                                                                                 $body: #List[
                                                                                    $statement: #AddAssign[
                                                                                       $left: #NameExpr['i']
                                                                                       $right: #IntExpr['1']
                                                                                    ]
                                                                                    $statement: #IfExpr[
                                                                                       $then: #Next['next']
                                                                                       $cond: #EqExpr[
                                                                                          $left: #Indexer[
                                                                                             $recv: #NameExpr['opinfo']
                                                                                             $index: #List[
                                                                                                $expression: #IntExpr['1']
                                                                                             ]
                                                                                          ]
                                                                                          $right: #StringExpr['*']
                                                                                       ]
                                                                                    ]
                                                                                    $statement: #StringExpr[
                                                                                       $inner: #SubExpr[
                                                                                          $left: #NameExpr['i']
                                                                                          $right: #IntExpr['1']
                                                                                       ]
                                                                                       $inner: #ApplyExpr[
                                                                                          #Self['self']
                                                                                          $recv: #NameExpr['val_as_type']
                                                                                          $param: #List[
                                                                                             $expression: #NameExpr['opinfo']
                                                                                          ]
                                                                                       ]
                                                                                    ]
                                                                                 ]
                                                                              ]
                                                                           ]
                                                                           $recv: #NameExpr['compact']
                                                                        ]
                                                                        $recv: #NameExpr['join']
                                                                        $param: #List[
                                                                           $expression: #StringExpr['&&  ']
                                                                        ]
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                            $statement: #ApplyExpr[
                                                               #Self['self']
                                                               $recv: #NameExpr['commit']
                                                               $param: #List[
                                                                  $expression: #StringExpr['  ){']
                                                               ]
                                                            ]
                                                            $statement: #AssignExpr[
                                                               $left: #NameExpr['idx']
                                                               $right: #IntExpr['0']
                                                            ]
                                                            $statement: #AssignExpr[
                                                               $left: #NameExpr['n']
                                                               $right: #IntExpr['0']
                                                            ]
                                                            $statement: #ApplyExpr[
                                                               $recv: #ApplyExpr[
                                                                  $recv: #NameExpr['opti']
                                                                  $recv: #NameExpr['defopes']
                                                               ]
                                                               $recv: #NameExpr['each']
                                                               $body: #Block[
                                                                  $param: #NameExpr['opinfo']
                                                                  $body: #List[
                                                                     $statement: #IfExpr[
                                                                        $cond: #EqExpr[
                                                                           $left: #Indexer[
                                                                              $recv: #NameExpr['opinfo']
                                                                              $index: #List[
                                                                                 $expression: #IntExpr['1']
                                                                              ]
                                                                           ]
                                                                           $right: #StringExpr['*']
                                                                        ]
                                                                        $then: #List[
                                                                           $statement: #IfExpr[
                                                                              $cond: #NeExpr[
                                                                                 $left: #NameExpr['idx']
                                                                                 $right: #NameExpr['n']
                                                                              ]
                                                                              $then: #ApplyExpr[
                                                                                 #Self['self']
                                                                                 $recv: #NameExpr['commit']
                                                                                 $param: #List[
                                                                                    $expression: #StringExpr[
                                                                                       $inner: #NameExpr['idx']
                                                                                       $inner: #NameExpr['n']
                                                                                    ]
                                                                                 ]
                                                                              ]
                                                                           ]
                                                                           $statement: #AddAssign[
                                                                              $left: #NameExpr['idx']
                                                                              $right: #IntExpr['1']
                                                                           ]
                                                                        ]
                                                                        $else: #Empty['']
                                                                     ]
                                                                     $statement: #AddAssign[
                                                                        $left: #NameExpr['n']
                                                                        $right: #IntExpr['1']
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                            $statement: #ApplyExpr[
                                                               #Self['self']
                                                               $recv: #NameExpr['commit']
                                                               $param: #List[
                                                                  $expression: #StringExpr[
                                                                     $inner: #ApplyExpr[
                                                                        $recv: #NameExpr['opti']
                                                                        $recv: #NameExpr['name']
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                            $statement: #ApplyExpr[
                                                               #Self['self']
                                                               $recv: #NameExpr['commit']
                                                               $param: #List[
                                                                  $expression: #StringExpr[
                                                                     $inner: #NameExpr['idx']
                                                                  ]
                                                               ]
                                                            ]
                                                            $statement: #ApplyExpr[
                                                               #Self['self']
                                                               $recv: #NameExpr['commit']
                                                               $param: #List[
                                                                  $expression: #StringExpr['    break;\\n  }\\n']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['commit']
                                                      $param: #List[
                                                         $expression: #StringExpr['  break;']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['ERB']
                                       $recv: #NameExpr['new']
                                       $param: #List[
                                          $expression: #ApplyExpr[
                                             $recv: #NameExpr['vpath']
                                             $recv: #NameExpr['read']
                                             $param: #List[
                                                $expression: #StringExpr['template/optinsn.inc.tmpl']
                                             ]
                                          ]
                                       ]
                                    ]
                                    $recv: #NameExpr['result']
                                    $param: #List[
                                       $expression: #NameExpr['binding']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #Class[
                  $name: #NameExpr['OptUnifsIncGenerator']
                  $super: #NameExpr['SourceCodeGenerator']
                  $body: #BlockExpr[
                     $main: #FuncDecl[
                        $name: #NameExpr['generate']
                        $param: #List['']
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #AssignExpr[
                                 $left: #NameExpr['unif_insns_each']
                                 $right: #StringExpr['']
                              ]
                              $statement: #AssignExpr[
                                 $left: #NameExpr['unif_insns']
                                 $right: #StringExpr['']
                              ]
                              $statement: #AssignExpr[
                                 $left: #NameExpr['unif_insns_data']
                                 $right: #Array['[]']
                              ]
                              $statement: #AssignExpr[
                                 $left: #NameExpr['insns']
                                 $right: #ApplyExpr[
                                    $recv: #NameExpr['@insns']
                                    $recv: #NameExpr['find_all']
                                    $body: #Block[
                                       $param: #NameExpr['insn']
                                       $body: #NotExpr[
                                          $expr: #ApplyExpr[
                                             $recv: #NameExpr['insn']
                                             $recv: #NameExpr['is_sc']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 $recv: #NameExpr['insns']
                                 $recv: #NameExpr['each']
                                 $body: #Block[
                                    $param: #NameExpr['insn']
                                    $body: #List[
                                       $statement: #AssignExpr[
                                          $left: #NameExpr['size']
                                          $right: #ApplyExpr[
                                             $recv: #ApplyExpr[
                                                $recv: #NameExpr['insn']
                                                $recv: #NameExpr['unifs']
                                             ]
                                             $recv: #NameExpr['size']
                                          ]
                                       ]
                                       $statement: #IfExpr[
                                          $cond: #GtExpr[
                                             $left: #NameExpr['size']
                                             $right: #IntExpr['0']
                                          ]
                                          $then: #ApplyExpr[
                                             $recv: #ApplyExpr[
                                                $recv: #ApplyExpr[
                                                   $recv: #NameExpr['insn']
                                                   $recv: #NameExpr['unifs']
                                                ]
                                                $recv: #NameExpr['sort_by']
                                                $body: #Block[
                                                   $param: #NameExpr['unif']
                                                   $body: #MinusExpr[
                                                      $expr: #ApplyExpr[
                                                         $recv: #Indexer[
                                                            $recv: #NameExpr['unif']
                                                            $index: #List[
                                                               $expression: #IntExpr['1']
                                                            ]
                                                         ]
                                                         $recv: #NameExpr['size']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                             $recv: #NameExpr['each_with_index']
                                             $body: #Block[
                                                $param: #MultipleLeftHandSideExpression[
                                                   $item: #NameExpr['unif']
                                                   $item: #NameExpr['i']
                                                ]
                                                $body: #List[
                                                   $statement: #MultipleAssign[
                                                      $left: #MultipleLeftHandSideExpression[
                                                         $item: #NameExpr['uni_insn']
                                                         $item: #NameExpr['uni_insns']
                                                      ]
                                                      $right: #MultipleRightHandSideExpression[
                                                         $variadic: #Variadic[
                                                            $base: #NameExpr['unif']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['uni_insns']
                                                      $right: #Indexer[
                                                         $recv: #NameExpr['uni_insns']
                                                         $index: #List[
                                                            $expression: #ClosedRange[
                                                               #IntExpr['1']
                                                               #MinusExpr[
                                                                  $expr: #IntExpr['1']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #LShiftExpr[
                                                      $left: #NameExpr['unif_insns_each']
                                                      $right: #AddExpr[
                                                         $left: #AddExpr[
                                                            $left: #AddExpr[
                                                               $left: #StringExpr[
                                                                  $inner: #ApplyExpr[
                                                                     $recv: #NameExpr['insn']
                                                                     $recv: #NameExpr['name']
                                                                  ]
                                                                  $inner: #NameExpr['i']
                                                               ]
                                                               $right: #StringExpr[
                                                                  $inner: #ApplyExpr[
                                                                     $recv: #NameExpr['uni_insn']
                                                                     $recv: #NameExpr['name']
                                                                  ]
                                                                  $inner: #AddExpr[
                                                                     $left: #ApplyExpr[
                                                                        $recv: #NameExpr['uni_insns']
                                                                        $recv: #NameExpr['size']
                                                                     ]
                                                                     $right: #IntExpr['2']
                                                                  ]
                                                               ]
                                                            ]
                                                            $right: #ApplyExpr[
                                                               $recv: #ApplyExpr[
                                                                  $recv: #NameExpr['uni_insns']
                                                                  $recv: #NameExpr['map']
                                                                  $body: #Block[
                                                                     $param: #NameExpr['e']
                                                                     $body: #StringExpr[
                                                                        $inner: #ApplyExpr[
                                                                           $recv: #NameExpr['e']
                                                                           $recv: #NameExpr['name']
                                                                        ]
                                                                     ]
                                                                  ]
                                                               ]
                                                               $recv: #NameExpr['join']
                                                               $param: #List[
                                                                  $expression: #StringExpr[', ']
                                                               ]
                                                            ]
                                                         ]
                                                         $right: #StringExpr['};\\n']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $else: #Empty['']
                                       ]
                                       $statement: #IfExpr[
                                          $cond: #GtExpr[
                                             $left: #NameExpr['size']
                                             $right: #IntExpr['0']
                                          ]
                                          $then: #List[
                                             $statement: #LShiftExpr[
                                                $left: #NameExpr['unif_insns']
                                                $right: #StringExpr[
                                                   $inner: #ApplyExpr[
                                                      $recv: #NameExpr['insn']
                                                      $recv: #NameExpr['name']
                                                   ]
                                                   $inner: #AddExpr[
                                                      $left: #NameExpr['size']
                                                      $right: #IntExpr['1']
                                                   ]
                                                ]
                                             ]
                                             $statement: #LShiftExpr[
                                                $left: #NameExpr['unif_insns']
                                                $right: #AddExpr[
                                                   $left: #ApplyExpr[
                                                      $recv: #ApplyExpr[
                                                         $recv: #OpenRange[
                                                            #IntExpr['0']
                                                            #NameExpr['size']
                                                         ]
                                                         $recv: #NameExpr['map']
                                                         $body: #Block[
                                                            $param: #NameExpr['e']
                                                            $body: #StringExpr[
                                                               $inner: #ApplyExpr[
                                                                  $recv: #NameExpr['insn']
                                                                  $recv: #NameExpr['name']
                                                               ]
                                                               $inner: #NameExpr['e']
                                                            ]
                                                         ]
                                                      ]
                                                      $recv: #NameExpr['join']
                                                      $param: #List[
                                                         $expression: #StringExpr[',\\n']
                                                      ]
                                                   ]
                                                   $right: #StringExpr['};\\n']
                                                ]
                                             ]
                                             $statement: #LShiftExpr[
                                                $left: #NameExpr['unif_insns_data']
                                                $right: #StringExpr[
                                                   $inner: #ApplyExpr[
                                                      $recv: #NameExpr['insn']
                                                      $recv: #NameExpr['name']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $else: #LShiftExpr[
                                             $left: #NameExpr['unif_insns_data']
                                             $right: #StringExpr['  0']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #AssignExpr[
                                 $left: #NameExpr['unif_insns_data']
                                 $right: #AddExpr[
                                    $left: #AddExpr[
                                       $left: #StringExpr['static const int *const *const unified_insns_data[] = {\\n']
                                       $right: #ApplyExpr[
                                          $recv: #NameExpr['unif_insns_data']
                                          $recv: #NameExpr['join']
                                          $param: #List[
                                             $expression: #StringExpr[',\\n']
                                          ]
                                       ]
                                    ]
                                    $right: #StringExpr['};\\n']
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['ERB']
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          $recv: #NameExpr['vpath']
                                          $recv: #NameExpr['read']
                                          $param: #List[
                                             $expression: #StringExpr['template/optunifs.inc.tmpl']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['result']
                                 $param: #List[
                                    $expression: #NameExpr['binding']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #Class[
                  $name: #NameExpr['OptSCIncGenerator']
                  $super: #NameExpr['SourceCodeGenerator']
                  $body: #BlockExpr[
                     $main: #FuncDecl[
                        $name: #NameExpr['generate']
                        $param: #List['']
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #AssignExpr[
                                 $left: #NameExpr['sc_insn_info']
                                 $right: #Array['[]']
                              ]
                              $statement: #ApplyExpr[
                                 $recv: #NameExpr['@insns']
                                 $recv: #NameExpr['each']
                                 $body: #Block[
                                    $param: #NameExpr['insn']
                                    $body: #List[
                                       $statement: #AssignExpr[
                                          $left: #NameExpr['insns']
                                          $right: #ApplyExpr[
                                             $recv: #NameExpr['insn']
                                             $recv: #NameExpr['sc']
                                          ]
                                       ]
                                       $statement: #IfExpr[
                                          $cond: #GtExpr[
                                             $left: #ApplyExpr[
                                                $recv: #NameExpr['insns']
                                                $recv: #NameExpr['size']
                                             ]
                                             $right: #IntExpr['0']
                                          ]
                                          $then: #AssignExpr[
                                             $left: #NameExpr['insns']
                                             $right: #AddExpr[
                                                $left: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['SC_ERROR']
                                                   ]
                                                ]
                                                $right: #ApplyExpr[
                                                   $recv: #NameExpr['insns']
                                                   $recv: #NameExpr['map']
                                                   $body: #Block[
                                                      $param: #NameExpr['e']
                                                      $body: #StringExpr[
                                                         $inner: #ApplyExpr[
                                                            $recv: #NameExpr['e']
                                                            $recv: #NameExpr['name']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $else: #AssignExpr[
                                             $left: #NameExpr['insns']
                                             $right: #ApplyExpr[
                                                $recv: #NameExpr['Array']
                                                $recv: #NameExpr['new']
                                                $param: #List[
                                                   $expression: #IntExpr['6']
                                                ]
                                                $body: #Block[
                                                   $body: #StringExpr['SC_ERROR']
                                                ]
                                             ]
                                          ]
                                       ]
                                       $statement: #LShiftExpr[
                                          $left: #NameExpr['sc_insn_info']
                                          $right: #StringExpr[
                                             $inner: #ApplyExpr[
                                                $recv: #NameExpr['insns']
                                                $recv: #NameExpr['join']
                                                $param: #List[
                                                   $expression: #StringExpr[',\\n']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #AssignExpr[
                                 $left: #NameExpr['sc_insn_info']
                                 $right: #ApplyExpr[
                                    $recv: #NameExpr['sc_insn_info']
                                    $recv: #NameExpr['join']
                                    $param: #List[
                                       $expression: #StringExpr[',\\n']
                                    ]
                                 ]
                              ]
                              $statement: #AssignExpr[
                                 $left: #NameExpr['sc_insn_next']
                                 $right: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['@insns']
                                       $recv: #NameExpr['map']
                                       $body: #Block[
                                          $param: #NameExpr['insn']
                                          $body: #AddExpr[
                                             $left: #StringExpr[
                                                $inner: #ApplyExpr[
                                                   $recv: #ApplyExpr[
                                                      $recv: #NameExpr['InstructionsLoader']
                                                      $recv: #NameExpr['complement_name']
                                                      $param: #List[
                                                         $expression: #ApplyExpr[
                                                            $recv: #NameExpr['insn']
                                                            $recv: #NameExpr['nextsc']
                                                         ]
                                                      ]
                                                   ]
                                                   $recv: #NameExpr['upcase']
                                                ]
                                             ]
                                             $right: #Conditional[
                                                $cond: #ApplyExpr[
                                                   #Self['self']
                                                   $recv: #NameExpr['verbose?']
                                                ]
                                                $then: #StringExpr[
                                                   $inner: #ApplyExpr[
                                                      $recv: #NameExpr['insn']
                                                      $recv: #NameExpr['name']
                                                   ]
                                                ]
                                                $else: #StringExpr['']
                                             ]
                                          ]
                                       ]
                                    ]
                                    $recv: #NameExpr['join']
                                    $param: #List[
                                       $expression: #StringExpr[',\\n']
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['ERB']
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          $recv: #NameExpr['vpath']
                                          $recv: #NameExpr['read']
                                          $param: #List[
                                             $expression: #StringExpr['template/opt_sc.inc.tmpl']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['result']
                                 $param: #List[
                                    $expression: #NameExpr['binding']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #Class[
                  $name: #NameExpr['YASMDataRbGenerator']
                  $super: #NameExpr['SourceCodeGenerator']
                  $body: #BlockExpr[
                     $main: #FuncDecl[
                        $name: #NameExpr['generate']
                        $param: #List['']
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #AssignExpr[
                                 $left: #NameExpr['insn_id2no']
                                 $right: #StringExpr['']
                              ]
                              $statement: #ApplyExpr[
                                 $recv: #NameExpr['@insns']
                                 $recv: #NameExpr['each_with_index']
                                 $body: #Block[
                                    $param: #MultipleLeftHandSideExpression[
                                       $item: #NameExpr['insn']
                                       $item: #NameExpr['i']
                                    ]
                                    $body: #LShiftExpr[
                                       $left: #NameExpr['insn_id2no']
                                       $right: #StringExpr[
                                          $inner: #ApplyExpr[
                                             $recv: #NameExpr['insn']
                                             $recv: #NameExpr['name']
                                          ]
                                          $inner: #NameExpr['i']
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['ERB']
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          $recv: #NameExpr['vpath']
                                          $recv: #NameExpr['read']
                                          $param: #List[
                                             $expression: #StringExpr['template/yasmdata.rb.tmpl']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['result']
                                 $param: #List[
                                    $expression: #NameExpr['binding']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #Class[
                  $name: #NameExpr['YARVDocGenerator']
                  $super: #NameExpr['SourceCodeGenerator']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #FuncDecl[
                           $name: #NameExpr['generate']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #Empty['']
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['desc']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['lang']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['d']
                                    $right: #StringExpr['']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['i']
                                    $right: #IntExpr['0']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['cat']
                                    $right: #Nil['nil']
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['@insns']
                                    $recv: #NameExpr['each']
                                    $body: #Block[
                                       $param: #NameExpr['insn']
                                       $body: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['seq']
                                             $right: #ApplyExpr[
                                                $recv: #ApplyExpr[
                                                   $recv: #ApplyExpr[
                                                      $recv: #NameExpr['insn']
                                                      $recv: #NameExpr['opes']
                                                   ]
                                                   $recv: #NameExpr['map']
                                                   $body: #Block[
                                                      $param: #MultipleLeftHandSideExpression[
                                                         $item: #NameExpr['t']
                                                         $item: #NameExpr['v']
                                                      ]
                                                      $body: #NameExpr['v']
                                                   ]
                                                ]
                                                $recv: #NameExpr['join']
                                                $param: #List[
                                                   $expression: #StringExpr[' ']
                                                ]
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['before']
                                             $right: #ApplyExpr[
                                                $recv: #ApplyExpr[
                                                   $recv: #ApplyExpr[
                                                      $recv: #ApplyExpr[
                                                         $recv: #NameExpr['insn']
                                                         $recv: #NameExpr['pops']
                                                      ]
                                                      $recv: #NameExpr['reverse']
                                                   ]
                                                   $recv: #NameExpr['map']
                                                   $body: #Block[
                                                      $param: #MultipleLeftHandSideExpression[
                                                         $item: #NameExpr['t']
                                                         $item: #NameExpr['v']
                                                      ]
                                                      $body: #NameExpr['v']
                                                   ]
                                                ]
                                                $recv: #NameExpr['join']
                                                $param: #List[
                                                   $expression: #StringExpr[' ']
                                                ]
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['after']
                                             $right: #ApplyExpr[
                                                $recv: #ApplyExpr[
                                                   $recv: #ApplyExpr[
                                                      $recv: #ApplyExpr[
                                                         $recv: #NameExpr['insn']
                                                         $recv: #NameExpr['rets']
                                                      ]
                                                      $recv: #NameExpr['reverse']
                                                   ]
                                                   $recv: #NameExpr['map']
                                                   $body: #Block[
                                                      $param: #MultipleLeftHandSideExpression[
                                                         $item: #NameExpr['t']
                                                         $item: #NameExpr['v']
                                                      ]
                                                      $body: #NameExpr['v']
                                                   ]
                                                ]
                                                $recv: #NameExpr['join']
                                                $param: #List[
                                                   $expression: #StringExpr[' ']
                                                ]
                                             ]
                                          ]
                                          $statement: #IfExpr[
                                             $cond: #NeExpr[
                                                $left: #NameExpr['cat']
                                                $right: #Indexer[
                                                   $recv: #ApplyExpr[
                                                      $recv: #NameExpr['insn']
                                                      $recv: #NameExpr['comm']
                                                   ]
                                                   $index: #List[
                                                      $expression: #NameExpr['c']
                                                   ]
                                                ]
                                             ]
                                             $then: #List[
                                                $statement: #LShiftExpr[
                                                   $left: #NameExpr['d']
                                                   $right: #StringExpr[
                                                      $inner: #Indexer[
                                                         $recv: #ApplyExpr[
                                                            $recv: #NameExpr['insn']
                                                            $recv: #NameExpr['comm']
                                                         ]
                                                         $index: #List[
                                                            $expression: #NameExpr['c']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                                $statement: #AssignExpr[
                                                   $left: #NameExpr['cat']
                                                   $right: #Indexer[
                                                      $recv: #ApplyExpr[
                                                         $recv: #NameExpr['insn']
                                                         $recv: #NameExpr['comm']
                                                      ]
                                                      $index: #List[
                                                         $expression: #NameExpr['c']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #LShiftExpr[
                                             $left: #NameExpr['d']
                                             $right: #StringExpr[
                                                $inner: #ApplyExpr[
                                                   $recv: #NameExpr['insn']
                                                   $recv: #NameExpr['name']
                                                ]
                                             ]
                                          ]
                                          $statement: #LShiftExpr[
                                             $left: #NameExpr['d']
                                             $right: #StringExpr['\\n']
                                          ]
                                          $statement: #LShiftExpr[
                                             $left: #NameExpr['d']
                                             $right: #AddExpr[
                                                $left: #Indexer[
                                                   $recv: #ApplyExpr[
                                                      $recv: #NameExpr['insn']
                                                      $recv: #NameExpr['comm']
                                                   ]
                                                   $index: #List[
                                                      $expression: #NameExpr['lang']
                                                   ]
                                                ]
                                                $right: #StringExpr['\\n\\n']
                                             ]
                                          ]
                                          $statement: #LShiftExpr[
                                             $left: #NameExpr['d']
                                             $right: #ModExpr[
                                                $left: #StringExpr[
                                                   $inner: #NameExpr['seq']
                                                ]
                                                $right: #NameExpr['i']
                                             ]
                                          ]
                                          $statement: #LShiftExpr[
                                             $left: #NameExpr['d']
                                             $right: #StringExpr[
                                                $inner: #NameExpr['before']
                                                $inner: #NameExpr['after']
                                             ]
                                          ]
                                          $statement: #AddAssign[
                                             $left: #NameExpr['i']
                                             $right: #IntExpr['1']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #NameExpr['d']
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['desc_ja']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['d']
                                    $right: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['desc']
                                       $param: #List[
                                          $expression: #NameExpr['j']
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['ERB']
                                       $recv: #NameExpr['new']
                                       $param: #List[
                                          $expression: #ApplyExpr[
                                             $recv: #NameExpr['vpath']
                                             $recv: #NameExpr['read']
                                             $param: #List[
                                                $expression: #StringExpr['template/yarvarch.ja']
                                             ]
                                          ]
                                       ]
                                    ]
                                    $recv: #NameExpr['result']
                                    $param: #List[
                                       $expression: #NameExpr['binding']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['desc_en']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['d']
                                    $right: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['desc']
                                       $param: #List[
                                          $expression: #NameExpr['e']
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['ERB']
                                       $recv: #NameExpr['new']
                                       $param: #List[
                                          $expression: #ApplyExpr[
                                             $recv: #NameExpr['vpath']
                                             $recv: #NameExpr['read']
                                             $param: #List[
                                                $expression: #StringExpr['template/yarvarch.en']
                                             ]
                                          ]
                                       ]
                                    ]
                                    $recv: #NameExpr['result']
                                    $param: #List[
                                       $expression: #NameExpr['binding']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #Class[
                  $name: #NameExpr['SourceCodeGenerator']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['Files']
                           $right: #List[
                              $hash: #Hash[
                                 $key: #StringExpr['vm.inc']
                                 $value: #NameExpr['VmBodyGenerator']
                              ]
                              $hash: #Hash[
                                 $key: #StringExpr['vmtc.inc']
                                 $value: #NameExpr['VmTCIncGenerator']
                              ]
                              $hash: #Hash[
                                 $key: #StringExpr['insns.inc']
                                 $value: #NameExpr['InsnsIncGenerator']
                              ]
                              $hash: #Hash[
                                 $key: #StringExpr['insns_info.inc']
                                 $value: #NameExpr['InsnsInfoIncGenerator']
                              ]
                              $hash: #Hash[
                                 $key: #StringExpr['optinsn.inc']
                                 $value: #NameExpr['OptInsnIncGenerator']
                              ]
                              $hash: #Hash[
                                 $key: #StringExpr['optunifs.inc']
                                 $value: #NameExpr['OptUnifsIncGenerator']
                              ]
                              $hash: #Hash[
                                 $key: #StringExpr['opt_sc.inc']
                                 $value: #NameExpr['OptSCIncGenerator']
                              ]
                              $hash: #Hash[
                                 $key: #StringExpr['yasmdata.rb']
                                 $value: #NameExpr['YASMDataRbGenerator']
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['generate']
                           $param: #List[
                              $param: #OptionalParam[
                                 $name: #NameExpr['args']
                                 $default: #Array['[]']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #IfExpr[
                                    $then: #AssignExpr[
                                       $left: #NameExpr['args']
                                       $right: #ApplyExpr[
                                          $recv: #NameExpr['Files']
                                          $recv: #NameExpr['keys']
                                       ]
                                    ]
                                    $cond: #ApplyExpr[
                                       $recv: #NameExpr['args']
                                       $recv: #NameExpr['empty?']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['args']
                                    $recv: #NameExpr['each']
                                    $body: #Block[
                                       $param: #NameExpr['fn']
                                       $body: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['s']
                                             $right: #ApplyExpr[
                                                $recv: #ApplyExpr[
                                                   $recv: #Indexer[
                                                      $recv: #NameExpr['Files']
                                                      $index: #List[
                                                         $expression: #NameExpr['fn']
                                                      ]
                                                   ]
                                                   $recv: #NameExpr['new']
                                                   $param: #List[
                                                      $expression: #NameExpr['@insns']
                                                   ]
                                                ]
                                                $recv: #NameExpr['generate']
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['open']
                                             $param: #List[
                                                $expression: #ApplyExpr[
                                                   #Self['self']
                                                   $recv: #NameExpr['output_path']
                                                   $param: #List[
                                                      $expression: #NameExpr['fn']
                                                   ]
                                                ]
                                                $expression: #StringExpr['w']
                                             ]
                                             $body: #Block[
                                                $param: #NameExpr['f']
                                                $body: #ApplyExpr[
                                                   $recv: #NameExpr['f']
                                                   $recv: #NameExpr['puts']
                                                   $param: #List[
                                                      $expression: #NameExpr['s']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #SFuncDecl[
                           $path: #Self['self']
                           $name: #NameExpr['def_options']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['opt']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['opts']
                                    $right: #List[
                                       $hash: #Hash[
                                          $key: #NameExpr['"insns.def"']
                                          $value: #StringExpr['insns.def']
                                       ]
                                       $hash: #Hash[
                                          $key: #NameExpr['"opope.def"']
                                          $value: #StringExpr['defs/opt_operand.def']
                                       ]
                                       $hash: #Hash[
                                          $key: #NameExpr['"unif.def"']
                                          $value: #StringExpr['defs/opt_insn_unif.def']
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['opt']
                                    $recv: #NameExpr['on']
                                    $param: #List[
                                       $expression: #StringExpr['-Dname']
                                       $expression: #Regex['/\\AOPT_(\\w+)\\z/']
                                       $expression: #StringExpr['enable VM option']
                                    ]
                                    $body: #Block[
                                       $param: #MultipleLeftHandSideExpression[
                                          $item: #NameExpr['s']
                                          $item: #NameExpr['v']
                                       ]
                                       $body: #AssignExpr[
                                          $left: #Indexer[
                                             $base: #NameExpr['opts']
                                             $index: #List[
                                                $expression: #NameExpr['v']
                                             ]
                                          ]
                                          $right: #TrueExpr['true']
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['opt']
                                    $recv: #NameExpr['on']
                                    $param: #List[
                                       $expression: #StringExpr['--enable=name[,name...]']
                                       $expression: #NameExpr['Array']
                                       $expression: #StringExpr['enable VM options (without OPT_ prefix)']
                                    ]
                                    $body: #Block[
                                       $param: #Variadic[
                                          $item: #NameExpr['a']
                                       ]
                                       $body: #ApplyExpr[
                                          $recv: #NameExpr['a']
                                          $recv: #NameExpr['each']
                                          $body: #Block[
                                             $param: #NameExpr['v']
                                             $body: #AssignExpr[
                                                $left: #Indexer[
                                                   $base: #NameExpr['opts']
                                                   $index: #List[
                                                      $expression: #NameExpr['v']
                                                   ]
                                                ]
                                                $right: #TrueExpr['true']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['opt']
                                    $recv: #NameExpr['on']
                                    $param: #List[
                                       $expression: #StringExpr['-Uname']
                                       $expression: #Regex['/\\AOPT_(\\w+)\\z/']
                                       $expression: #StringExpr['disable VM option']
                                    ]
                                    $body: #Block[
                                       $param: #MultipleLeftHandSideExpression[
                                          $item: #NameExpr['s']
                                          $item: #NameExpr['v']
                                       ]
                                       $body: #AssignExpr[
                                          $left: #Indexer[
                                             $base: #NameExpr['opts']
                                             $index: #List[
                                                $expression: #NameExpr['v']
                                             ]
                                          ]
                                          $right: #FalseExpr['false']
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['opt']
                                    $recv: #NameExpr['on']
                                    $param: #List[
                                       $expression: #StringExpr['--disable=name[,name...]']
                                       $expression: #NameExpr['Array']
                                       $expression: #StringExpr['disable VM options (without OPT_ prefix)']
                                    ]
                                    $body: #Block[
                                       $param: #Variadic[
                                          $item: #NameExpr['a']
                                       ]
                                       $body: #ApplyExpr[
                                          $recv: #NameExpr['a']
                                          $recv: #NameExpr['each']
                                          $body: #Block[
                                             $param: #NameExpr['v']
                                             $body: #AssignExpr[
                                                $left: #Indexer[
                                                   $base: #NameExpr['opts']
                                                   $index: #List[
                                                      $expression: #NameExpr['v']
                                                   ]
                                                ]
                                                $right: #FalseExpr['false']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['opt']
                                    $recv: #NameExpr['on']
                                    $param: #List[
                                       $expression: #StringExpr['-i']
                                       $expression: #StringExpr['--insnsdef=FILE']
                                       $expression: #StringExpr['--instructions-def']
                                       $expression: #StringExpr['instructions definition file']
                                    ]
                                    $body: #Block[
                                       $param: #NameExpr['n']
                                       $body: #AssignExpr[
                                          $left: #Indexer[
                                             $base: #NameExpr['opts']
                                             $index: #List[
                                                $expression: #NameExpr['insns_def']
                                             ]
                                          ]
                                          $right: #NameExpr['n']
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['opt']
                                    $recv: #NameExpr['on']
                                    $param: #List[
                                       $expression: #StringExpr['-o']
                                       $expression: #StringExpr['--opt-operanddef=FILE']
                                       $expression: #StringExpr['--opt-operand-def']
                                       $expression: #StringExpr['vm option: operand definition file']
                                    ]
                                    $body: #Block[
                                       $param: #NameExpr['n']
                                       $body: #AssignExpr[
                                          $left: #Indexer[
                                             $base: #NameExpr['opts']
                                             $index: #List[
                                                $expression: #NameExpr['opope_def']
                                             ]
                                          ]
                                          $right: #NameExpr['n']
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['opt']
                                    $recv: #NameExpr['on']
                                    $param: #List[
                                       $expression: #StringExpr['-u']
                                       $expression: #StringExpr['--opt-insnunifdef=FILE']
                                       $expression: #StringExpr['--opt-insn-unif-def']
                                       $expression: #StringExpr['vm option: instruction unification file']
                                    ]
                                    $body: #Block[
                                       $param: #NameExpr['n']
                                       $body: #AssignExpr[
                                          $left: #Indexer[
                                             $base: #NameExpr['opts']
                                             $index: #List[
                                                $expression: #NameExpr['unif_def']
                                             ]
                                          ]
                                          $right: #NameExpr['n']
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['opt']
                                    $recv: #NameExpr['on']
                                    $param: #List[
                                       $expression: #StringExpr['-C']
                                       $expression: #StringExpr['--[no-]use-const']
                                       $expression: #StringExpr['use consts for default operands instead of macros']
                                    ]
                                    $body: #Block[
                                       $param: #NameExpr['v']
                                       $body: #AssignExpr[
                                          $left: #Indexer[
                                             $base: #NameExpr['opts']
                                             $index: #List[
                                                $expression: #NameExpr['use_const']
                                             ]
                                          ]
                                          $right: #NameExpr['v']
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['opt']
                                    $recv: #NameExpr['on']
                                    $param: #List[
                                       $expression: #StringExpr['-d']
                                       $expression: #StringExpr['--destdir']
                                       $expression: #StringExpr['--output-directory=DIR']
                                       $expression: #StringExpr['make output file underneath DIR']
                                    ]
                                    $body: #Block[
                                       $param: #NameExpr['v']
                                       $body: #AssignExpr[
                                          $left: #Indexer[
                                             $base: #NameExpr['opts']
                                             $index: #List[
                                                $expression: #NameExpr['destdir']
                                             ]
                                          ]
                                          $right: #NameExpr['v']
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['opt']
                                    $recv: #NameExpr['on']
                                    $param: #List[
                                       $expression: #StringExpr['-V']
                                       $expression: #StringExpr['--[no-]verbose']
                                    ]
                                    $body: #Block[
                                       $param: #NameExpr['v']
                                       $body: #AssignExpr[
                                          $left: #Indexer[
                                             $base: #NameExpr['opts']
                                             $index: #List[
                                                $expression: #NameExpr['verbose']
                                             ]
                                          ]
                                          $right: #NameExpr['v']
                                       ]
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['vpath']
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['VPath']
                                       $recv: #NameExpr['new']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['vpath']
                                    $recv: #NameExpr['def_options']
                                    $param: #List[
                                       $expression: #NameExpr['opt']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['proc']
                                    $body: #Block[
                                       $body: #List[
                                          $statement: #AssignExpr[
                                             $left: #Indexer[
                                                $base: #NameExpr['opts']
                                                $index: #List[
                                                   $expression: #NameExpr['VPATH']
                                                ]
                                             ]
                                             $right: #NameExpr['vpath']
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['build']
                                             $param: #List[
                                                $expression: #NameExpr['opts']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #SFuncDecl[
                           $path: #Self['self']
                           $name: #NameExpr['build']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['opts']
                              ]
                              $param: #OptionalParam[
                                 $name: #NameExpr['vpath']
                                 $default: #Array[
                                    $index: #List[
                                       $expression: #StringExpr['./']
                                    ]
                                 ]
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #LOrAssign[
                                    $left: #Indexer[
                                       $base: #NameExpr['opts']
                                       $index: #List[
                                          $expression: #NameExpr['VPATH']
                                       ]
                                    ]
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['VPath']
                                       $recv: #NameExpr['new']
                                       $param: #List[
                                          $variadic: #Variadic[
                                             $base: #NameExpr['vpath']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $base: #Self['self']
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          $recv: #NameExpr['InstructionsLoader']
                                          $recv: #NameExpr['new']
                                          $param: #List[
                                             $expression: #NameExpr['opts']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
            ]
         ]
      ]
   ]
   #Comsumed['comsumed']
]
