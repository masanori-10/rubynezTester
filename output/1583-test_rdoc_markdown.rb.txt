#Source[
   #List[
      $statement: #ApplyExpr[
         #Self['self']
         $recv: #NameExpr['require']
         $param: #List[
            $expression: #StringExpr['rdoc/test_case']
         ]
      ]
      $statement: #ApplyExpr[
         #Self['self']
         $recv: #NameExpr['require']
         $param: #List[
            $expression: #StringExpr['rdoc/markup/block_quote']
         ]
      ]
      $statement: #ApplyExpr[
         #Self['self']
         $recv: #NameExpr['require']
         $param: #List[
            $expression: #StringExpr['rdoc/markdown']
         ]
      ]
      $statement: #Class[
         $name: #NameExpr['TestRDocMarkdown']
         $super: #Field[
            $recv: #NameExpr['RDoc']
            $name: #NameExpr['TestCase']
         ]
         $body: #BlockExpr[
            $main: #List[
               $statement: #FuncDecl[
                  $name: #NameExpr['setup']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@RM']
                           $right: #Field[
                              $recv: #NameExpr['RDoc']
                              $name: #NameExpr['Markup']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['@parser']
                           $right: #ApplyExpr[
                              $recv: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Markdown']
                              ]
                              $recv: #NameExpr['new']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['@to_html']
                           $right: #ApplyExpr[
                              $recv: #Field[
                                 $recv: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['Markup']
                                 ]
                                 $name: #NameExpr['ToHtml']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Options']
                                    ]
                                    $recv: #NameExpr['new']
                                 ]
                                 $expression: #Nil['nil']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_class_parse']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Markdown']
                              ]
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['hello\\n\\nworld']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['hello']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['world']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_emphasis']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['_word_']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@parser']
                                 $recv: #NameExpr['emphasis']
                                 $param: #List[
                                    $expression: #StringExpr['word']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['<em>two words</em>']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@parser']
                                 $recv: #NameExpr['emphasis']
                                 $param: #List[
                                    $expression: #StringExpr['two words']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['<em>*bold*</em>']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@parser']
                                 $recv: #NameExpr['emphasis']
                                 $param: #List[
                                    $expression: #StringExpr['*bold*']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_auto_link_email']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['Autolink: <nobody-0+_./!%~$@example>']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['Autolink: mailto:nobody-0+_./!%~$@example']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_auto_link_url']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['Autolink: <http://example>']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['Autolink: http://example']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_block_quote']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['> this is\n> a block quote\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['block']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['para']
                                          $param: #List[
                                             $expression: #StringExpr['this is\\na block quote']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_block_quote_continue']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['> this is\na block quote\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['block']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['para']
                                          $param: #List[
                                             $expression: #StringExpr['this is\\na block quote']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_block_quote_list']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['> text\n>\n> * one\n> * two\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['block']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['para']
                                          $param: #List[
                                             $expression: #StringExpr['text']
                                          ]
                                       ]
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['list']
                                          $param: #List[
                                             $expression: #NameExpr['BULLET']
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['item']
                                                $param: #List[
                                                   $expression: #Nil['nil']
                                                   $expression: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['para']
                                                      $param: #List[
                                                         $expression: #StringExpr['one']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['item']
                                                $param: #List[
                                                   $expression: #Nil['nil']
                                                   $expression: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['para']
                                                      $param: #List[
                                                         $expression: #StringExpr['two']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_block_quote_newline']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['> this is\na block quote\n\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['block']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['para']
                                          $param: #List[
                                             $expression: #StringExpr['this is\\na block quote']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_block_quote_separate']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['> this is\na block quote\n\n> that continues\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['block']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['para']
                                          $param: #List[
                                             $expression: #StringExpr['this is\\na block quote']
                                          ]
                                       ]
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['para']
                                          $param: #List[
                                             $expression: #StringExpr['that continues']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_char_entity']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['&pi; &nn;']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['π &nn;']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_code']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['Code: `text`']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['Code: <code>text</code>']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_code_github']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['Example:\n\n```\ncode goes here\n```\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['Example:']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['verb']
                                    $param: #List[
                                       $expression: #StringExpr['code goes here\\n']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_code_github_format']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['Example:\n\n``` ruby\ncode goes here\n```\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['code']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['verb']
                              $param: #List[
                                 $expression: #StringExpr['code goes here\\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['code']
                              $name: #NameExpr['format']
                           ]
                           $right: #NameExpr['ruby']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['Example:']
                                    ]
                                 ]
                                 $expression: #NameExpr['code']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_definition_list']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['one\n:   This is a definition\n\ntwo\n:   This is another definition\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['list']
                                    $param: #List[
                                       $expression: #NameExpr['NOTE']
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['item']
                                          $param: #List[
                                             $expression: #ParcentNotation['%w[one]']
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['para']
                                                $param: #List[
                                                   $expression: #StringExpr['This is a definition']
                                                ]
                                             ]
                                          ]
                                       ]
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['item']
                                          $param: #List[
                                             $expression: #ParcentNotation['%w[two]']
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['para']
                                                $param: #List[
                                                   $expression: #StringExpr['This is another definition']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_definition_list_indents']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['zero\n: Indented zero characters\n\none\n : Indented one characters\n\ntwo\n  : Indented two characters\n\nthree\n   : Indented three characters\n\nfour\n    : Indented four characters\n\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['list']
                                    $param: #List[
                                       $expression: #NameExpr['NOTE']
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['item']
                                          $param: #List[
                                             $expression: #ParcentNotation['%w[zero]']
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['para']
                                                $param: #List[
                                                   $expression: #StringExpr['Indented zero characters']
                                                ]
                                             ]
                                          ]
                                       ]
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['item']
                                          $param: #List[
                                             $expression: #ParcentNotation['%w[one]']
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['para']
                                                $param: #List[
                                                   $expression: #StringExpr['Indented one characters']
                                                ]
                                             ]
                                          ]
                                       ]
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['item']
                                          $param: #List[
                                             $expression: #ParcentNotation['%w[two]']
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['para']
                                                $param: #List[
                                                   $expression: #StringExpr['Indented two characters']
                                                ]
                                             ]
                                          ]
                                       ]
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['item']
                                          $param: #List[
                                             $expression: #ParcentNotation['%w[three]']
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['para']
                                                $param: #List[
                                                   $expression: #StringExpr['Indented three characters']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['four\\n : Indented four characters']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_definition_list_multi_description']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['label\n:   This is a definition\n\n:   This is another definition\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['list']
                                    $param: #List[
                                       $expression: #NameExpr['NOTE']
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['item']
                                          $param: #List[
                                             $expression: #ParcentNotation['%w[label]']
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['para']
                                                $param: #List[
                                                   $expression: #StringExpr['This is a definition']
                                                ]
                                             ]
                                          ]
                                       ]
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['item']
                                          $param: #List[
                                             $expression: #Nil['nil']
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['para']
                                                $param: #List[
                                                   $expression: #StringExpr['This is another definition']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_definition_list_multi_label']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['one\ntwo\n:   This is a definition\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['list']
                                    $param: #List[
                                       $expression: #NameExpr['NOTE']
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['item']
                                          $param: #List[
                                             $expression: #ParcentNotation['%w[one two]']
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['para']
                                                $param: #List[
                                                   $expression: #StringExpr['This is a definition']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_definition_list_multi_line']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['one\n:   This is a definition\nthat extends to two lines\n\ntwo\n:   This is another definition\nthat also extends to two lines\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['list']
                                    $param: #List[
                                       $expression: #NameExpr['NOTE']
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['item']
                                          $param: #List[
                                             $expression: #ParcentNotation['%w[one]']
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['para']
                                                $param: #List[
                                                   $expression: #StringExpr['This is a definition\\nthat extends to two lines']
                                                ]
                                             ]
                                          ]
                                       ]
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['item']
                                          $param: #List[
                                             $expression: #ParcentNotation['%w[two]']
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['para']
                                                $param: #List[
                                                   $expression: #StringExpr['This is another definition\\nthat also extends to two lines']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_definition_list_no']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['@parser']
                              $name: #NameExpr['definition_lists']
                           ]
                           $right: #FalseExpr['false']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['one\n:   This is a definition\n\ntwo\n:   This is another definition\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['one\\n: This is a definition']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['two\\n: This is another definition']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_entity_dec']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['Entity: &#65;']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['Entity: A']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_entity_hex']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['Entity: &#x41;']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['Entity: A']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_entity_named']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['Entity: &pi;']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['Entity: π']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_emphasis_star']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['it *works*\\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              $recv: #Field[
                                 $recv: #NameExpr['@RM']
                                 $name: #NameExpr['Document']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #Field[
                                       $recv: #NameExpr['@RM']
                                       $name: #NameExpr['Paragraph']
                                    ]
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #StringExpr['it _works_']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_emphasis_underscore']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['it _works_\\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['it _works_']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_emphasis_underscore_embedded']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['foo_bar bar_baz\\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['foo_bar bar_baz']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_emphasis_underscore_in_word']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['it foo_bar_baz\\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['it foo_bar_baz']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_escape']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['doc']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['para']
                                       $param: #List[
                                          $expression: #StringExpr['Backtick: `']
                                       ]
                                    ]
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['parse']
                                 $param: #List[
                                    $expression: #StringExpr['Backtick: \\\\`']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['doc']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['para']
                                       $param: #List[
                                          $expression: #StringExpr['Backslash: \\\\']
                                       ]
                                    ]
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['parse']
                                 $param: #List[
                                    $expression: #StringExpr['Backslash: \\\\\\\\']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['doc']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['para']
                                       $param: #List[
                                          $expression: #StringExpr['Colon: :']
                                       ]
                                    ]
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['parse']
                                 $param: #List[
                                    $expression: #StringExpr['Colon: \\\\:']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_heading_atx']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['# heading\\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              $recv: #Field[
                                 $recv: #NameExpr['@RM']
                                 $name: #NameExpr['Document']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #Field[
                                       $recv: #NameExpr['@RM']
                                       $name: #NameExpr['Heading']
                                    ]
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #IntExpr['1']
                                       $expression: #StringExpr['heading']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_heading_setext_dash']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['heading\n---\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              $recv: #Field[
                                 $recv: #NameExpr['@RM']
                                 $name: #NameExpr['Document']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #Field[
                                       $recv: #NameExpr['@RM']
                                       $name: #NameExpr['Heading']
                                    ]
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #IntExpr['2']
                                       $expression: #StringExpr['heading']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_heading_setext_equals']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['heading\n===\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              $recv: #Field[
                                 $recv: #NameExpr['@RM']
                                 $name: #NameExpr['Document']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #Field[
                                       $recv: #NameExpr['@RM']
                                       $name: #NameExpr['Heading']
                                    ]
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #IntExpr['1']
                                       $expression: #StringExpr['heading']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_html']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['@parser']
                              $name: #NameExpr['html']
                           ]
                           $right: #TrueExpr['true']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['<address>Links here</address>\\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #Field[
                                       $recv: #NameExpr['@RM']
                                       $name: #NameExpr['Raw']
                                    ]
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #StringExpr['<address>Links here</address>']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_html_hr']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['@parser']
                              $name: #NameExpr['html']
                           ]
                           $right: #TrueExpr['true']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['<hr>\\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['raw']
                                    $param: #List[
                                       $expression: #StringExpr['<hr>']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_html_no_html']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['@parser']
                              $name: #NameExpr['html']
                           ]
                           $right: #FalseExpr['false']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['<address>Links here</address>\\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #Empty['']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_image']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['image ![alt text](path/to/image.jpg)']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['image rdoc-image:path/to/image.jpg']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_image_link']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['@parser']
                              $name: #NameExpr['html']
                           ]
                           $right: #TrueExpr['true']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['[![alt text](path/to/image.jpg)](http://example.com)']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['{rdoc-image:path/to/image.jpg}[http://example.com]']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_line_break']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['Some text  \\nwith extra lines']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['Some text']
                                       $expression: #NameExpr['hard_break']
                                       $expression: #StringExpr['with extra lines']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_link_reference_id']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['This is [an example][id] reference-style link.\n\n[id]: http://example.com "Optional Title Here"\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['This is {an example}[http://example.com] reference-style link.']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_link_reference_id_adjacent']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['[this] [this] should work\n\n[this]: example\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['{this}[example] should work']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_link_reference_id_eof']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['This is [an example][id] reference-style link.\n\n[id]: http://example.com "Optional Title Here"\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['This is {an example}[http://example.com] reference-style link.']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_link_reference_id_many']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['This is [an example][id] reference-style link.\n\nAnd [another][id].\n\n[id]: http://example.com "Optional Title Here"\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['This is {an example}[http://example.com] reference-style link.']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['And {another}[http://example.com].']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_link_reference_implicit']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['This is [an example][] reference-style link.\n\n[an example]: http://example.com "Optional Title Here"\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['This is {an example}[http://example.com] reference-style link.']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_list_bullet']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['* one\n* two\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['list']
                                    $param: #List[
                                       $expression: #NameExpr['BULLET']
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['item']
                                          $param: #List[
                                             $expression: #Nil['nil']
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['para']
                                                $param: #List[
                                                   $expression: #StringExpr['one']
                                                ]
                                             ]
                                          ]
                                       ]
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['item']
                                          $param: #List[
                                             $expression: #Nil['nil']
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['para']
                                                $param: #List[
                                                   $expression: #StringExpr['two']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_list_bullet_auto_link']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['* <http://example/>\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['list']
                                    $param: #List[
                                       $expression: #NameExpr['BULLET']
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['item']
                                          $param: #List[
                                             $expression: #Nil['nil']
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['para']
                                                $param: #List[
                                                   $expression: #StringExpr['http://example/']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_list_bullet_continue']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['* one\n\n* two\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['list']
                                    $param: #List[
                                       $expression: #NameExpr['BULLET']
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['item']
                                          $param: #List[
                                             $expression: #Nil['nil']
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['para']
                                                $param: #List[
                                                   $expression: #StringExpr['one']
                                                ]
                                             ]
                                          ]
                                       ]
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['item']
                                          $param: #List[
                                             $expression: #Nil['nil']
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['para']
                                                $param: #List[
                                                   $expression: #StringExpr['two']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_list_bullet_multiline']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['* one\n  two\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['list']
                                    $param: #List[
                                       $expression: #NameExpr['BULLET']
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['item']
                                          $param: #List[
                                             $expression: #Nil['nil']
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['para']
                                                $param: #List[
                                                   $expression: #StringExpr['one\\n two']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_list_bullet_nest']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['* outer\n    * inner\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['list']
                                    $param: #List[
                                       $expression: #NameExpr['BULLET']
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['item']
                                          $param: #List[
                                             $expression: #Nil['nil']
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['para']
                                                $param: #List[
                                                   $expression: #StringExpr['outer']
                                                ]
                                             ]
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['list']
                                                $param: #List[
                                                   $expression: #NameExpr['BULLET']
                                                   $expression: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['item']
                                                      $param: #List[
                                                         $expression: #Nil['nil']
                                                         $expression: #ApplyExpr[
                                                            #Self['self']
                                                            $recv: #NameExpr['para']
                                                            $param: #List[
                                                               $expression: #StringExpr['inner']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_list_bullet_nest_loose']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['* outer\n\n    * inner\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['list']
                                    $param: #List[
                                       $expression: #NameExpr['BULLET']
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['item']
                                          $param: #List[
                                             $expression: #Nil['nil']
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['para']
                                                $param: #List[
                                                   $expression: #StringExpr['outer']
                                                ]
                                             ]
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['list']
                                                $param: #List[
                                                   $expression: #NameExpr['BULLET']
                                                   $expression: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['item']
                                                      $param: #List[
                                                         $expression: #Nil['nil']
                                                         $expression: #ApplyExpr[
                                                            #Self['self']
                                                            $recv: #NameExpr['para']
                                                            $param: #List[
                                                               $expression: #StringExpr['inner']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_list_bullet_nest_continue']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['* outer\n    * inner\n  continue inner\n* outer 2\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['list']
                                    $param: #List[
                                       $expression: #NameExpr['BULLET']
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['item']
                                          $param: #List[
                                             $expression: #Nil['nil']
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['para']
                                                $param: #List[
                                                   $expression: #StringExpr['outer']
                                                ]
                                             ]
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['list']
                                                $param: #List[
                                                   $expression: #NameExpr['BULLET']
                                                   $expression: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['item']
                                                      $param: #List[
                                                         $expression: #Nil['nil']
                                                         $expression: #ApplyExpr[
                                                            #Self['self']
                                                            $recv: #NameExpr['para']
                                                            $param: #List[
                                                               $expression: #StringExpr['inner\\n continue inner']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['item']
                                          $param: #List[
                                             $expression: #Nil['nil']
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['para']
                                                $param: #List[
                                                   $expression: #StringExpr['outer 2']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_list_number']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['1. one\n1. two\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['list']
                                    $param: #List[
                                       $expression: #NameExpr['NUMBER']
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['item']
                                          $param: #List[
                                             $expression: #Nil['nil']
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['para']
                                                $param: #List[
                                                   $expression: #StringExpr['one']
                                                ]
                                             ]
                                          ]
                                       ]
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['item']
                                          $param: #List[
                                             $expression: #Nil['nil']
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['para']
                                                $param: #List[
                                                   $expression: #StringExpr['two']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_list_number_continue']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['1. one\n\n1. two\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['list']
                                    $param: #List[
                                       $expression: #NameExpr['NUMBER']
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['item']
                                          $param: #List[
                                             $expression: #Nil['nil']
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['para']
                                                $param: #List[
                                                   $expression: #StringExpr['one']
                                                ]
                                             ]
                                          ]
                                       ]
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['item']
                                          $param: #List[
                                             $expression: #Nil['nil']
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['para']
                                                $param: #List[
                                                   $expression: #StringExpr['two']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_note']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['@parser']
                              $name: #NameExpr['notes']
                           ]
                           $right: #TrueExpr['true']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['Some text.[^1]\n\n[^1]: With a footnote\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['Some text.{*1}[rdoc-label:foottext-1:footmark-1]']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    $recv: #Field[
                                       $recv: #NameExpr['@RM']
                                       $name: #NameExpr['Rule']
                                    ]
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #IntExpr['1']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['{^1}[rdoc-label:footmark-1:foottext-1] With a footnote']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_note_indent']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['@parser']
                              $name: #NameExpr['notes']
                           ]
                           $right: #TrueExpr['true']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['Some text.[^1]\n\n[^1]: With a footnote\n\n    more\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['Some text.{*1}[rdoc-label:foottext-1:footmark-1]']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['rule']
                                    $param: #List[
                                       $expression: #IntExpr['1']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['{^1}[rdoc-label:footmark-1:foottext-1] With a footnote\\n\\nmore']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_note_inline']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['@parser']
                              $name: #NameExpr['notes']
                           ]
                           $right: #TrueExpr['true']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['Some text. ^[With a footnote]\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['Some text. {*1}[rdoc-label:foottext-1:footmark-1]']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    $recv: #Field[
                                       $recv: #NameExpr['@RM']
                                       $name: #NameExpr['Rule']
                                    ]
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #IntExpr['1']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['{^1}[rdoc-label:footmark-1:foottext-1] With a footnote']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_note_no_notes']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['@parser']
                              $name: #NameExpr['notes']
                           ]
                           $right: #FalseExpr['false']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raises']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['RuntimeError']
                                 $body: #Block[
                                    $body: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['parse']
                                       $param: #List[
                                          $expression: #StringExpr['Some text.[^1]']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_note_multiple']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['@parser']
                              $name: #NameExpr['notes']
                           ]
                           $right: #TrueExpr['true']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['Some text[^1]\nwith inline notes^[like this]\nand an extra note.[^2]\n\n[^1]: With a footnote\n\n[^2]: Which should be numbered correctly\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #AddExpr[
                                          $left: #AddExpr[
                                             $left: #StringExpr['Some text{*1}[rdoc-label:foottext-1:footmark-1]\\n']
                                             $right: #StringExpr['with inline notes{*2}[rdoc-label:foottext-2:footmark-2]\\n']
                                          ]
                                          $right: #StringExpr['and an extra note.{*3}[rdoc-label:foottext-3:footmark-3]']
                                       ]
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['rule']
                                    $param: #List[
                                       $expression: #IntExpr['1']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['{^1}[rdoc-label:footmark-1:foottext-1] With a footnote']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['{^2}[rdoc-label:footmark-2:foottext-2] like this']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #AddExpr[
                                          $left: #StringExpr['{^3}[rdoc-label:footmark-3:foottext-3] ']
                                          $right: #StringExpr['Which should be numbered correctly']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_paragraph']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['it worked\\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['it worked']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_paragraph_break_on_newline']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['@parser']
                              $name: #NameExpr['break_on_newline']
                           ]
                           $right: #TrueExpr['true']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['one\\ntwo\\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['one']
                                       $expression: #NameExpr['hard_break']
                                       $expression: #StringExpr['two']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['one  \\ntwo\\nthree\\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['one']
                                       $expression: #NameExpr['hard_break']
                                       $expression: #StringExpr['two']
                                       $expression: #NameExpr['hard_break']
                                       $expression: #StringExpr['three']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_paragraph_stars']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['it worked ****\\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              $recv: #Field[
                                 $recv: #NameExpr['@RM']
                                 $name: #NameExpr['Document']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #Field[
                                       $recv: #NameExpr['@RM']
                                       $name: #NameExpr['Paragraph']
                                    ]
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #StringExpr['it worked ****']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_paragraph_html']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['@parser']
                              $name: #NameExpr['html']
                           ]
                           $right: #TrueExpr['true']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['<address>Links here</address>']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['raw']
                                    $param: #List[
                                       $expression: #StringExpr['<address>Links here</address>']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_paragraph_html_no_html']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['@parser']
                              $name: #NameExpr['html']
                           ]
                           $right: #FalseExpr['false']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['<address>Links here</address>']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #Empty['']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_paragraph_indent_one']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument[' text\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['text']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_paragraph_indent_two']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['  text\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['text']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_paragraph_indent_three']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['   text\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['text']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_paragraph_multiline']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['one\\ntwo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['one\\ntwo']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_paragraph_two']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['one\\n\\ntwo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              $recv: #Field[
                                 $recv: #NameExpr['@RM']
                                 $name: #NameExpr['Document']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #Field[
                                       $recv: #NameExpr['@RM']
                                       $name: #NameExpr['Paragraph']
                                    ]
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #StringExpr['one']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    $recv: #Field[
                                       $recv: #NameExpr['@RM']
                                       $name: #NameExpr['Paragraph']
                                    ]
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #StringExpr['two']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_plain']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['it worked']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              $recv: #Field[
                                 $recv: #NameExpr['@RM']
                                 $name: #NameExpr['Document']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #Field[
                                       $recv: #NameExpr['@RM']
                                       $name: #NameExpr['Paragraph']
                                    ]
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #StringExpr['it worked']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_reference_link_embedded_bracket']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['With [embedded [brackets]] [b].\\n\\n[b]: /url/\\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['para']
                                    $param: #List[
                                       $expression: #StringExpr['With {embedded [brackets]}[/url/].']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_rule_dash']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['- - -\\n\\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              $recv: #Field[
                                 $recv: #NameExpr['@RM']
                                 $name: #NameExpr['Document']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #Field[
                                       $recv: #NameExpr['@RM']
                                       $name: #NameExpr['Rule']
                                    ]
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #IntExpr['1']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_rule_underscore']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['_ _ _\\n\\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              $recv: #Field[
                                 $recv: #NameExpr['@RM']
                                 $name: #NameExpr['Document']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #Field[
                                       $recv: #NameExpr['@RM']
                                       $name: #NameExpr['Rule']
                                    ]
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #IntExpr['1']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_rule_star']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['* * *\\n\\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              $recv: #Field[
                                 $recv: #NameExpr['@RM']
                                 $name: #NameExpr['Document']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #Field[
                                       $recv: #NameExpr['@RM']
                                       $name: #NameExpr['Rule']
                                    ]
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #IntExpr['1']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_strong_star']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['it **works**\\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              $recv: #Field[
                                 $recv: #NameExpr['@RM']
                                 $name: #NameExpr['Document']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #Field[
                                       $recv: #NameExpr['@RM']
                                       $name: #NameExpr['Paragraph']
                                    ]
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #StringExpr['it *works*']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_strong_underscore']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['it __works__\\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              $recv: #Field[
                                 $recv: #NameExpr['@RM']
                                 $name: #NameExpr['Document']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #Field[
                                       $recv: #NameExpr['@RM']
                                       $name: #NameExpr['Paragraph']
                                    ]
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #StringExpr['it *works*']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_strong_emphasis_star']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['it ***works***\\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              $recv: #Field[
                                 $recv: #NameExpr['@RM']
                                 $name: #NameExpr['Document']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #Field[
                                       $recv: #NameExpr['@RM']
                                       $name: #NameExpr['Paragraph']
                                    ]
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #StringExpr['it <b>_works_</b>']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_strong_emphasis_underscore']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['it ___works___\\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              $recv: #Field[
                                 $recv: #NameExpr['@RM']
                                 $name: #NameExpr['Document']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #Field[
                                       $recv: #NameExpr['@RM']
                                       $name: #NameExpr['Paragraph']
                                    ]
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #StringExpr['it <b>_works_</b>']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_style']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['@parser']
                              $name: #NameExpr['css']
                           ]
                           $right: #TrueExpr['true']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['<style>h1 { color: red }</style>\\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #Field[
                                       $recv: #NameExpr['@RM']
                                       $name: #NameExpr['Raw']
                                    ]
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #StringExpr['<style>h1 { color: red }</style>']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_style_disabled']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['<style>h1 { color: red }</style>\\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #Empty['']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_verbatim']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #HereDocument['    text\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['verb']
                                    $param: #List[
                                       $expression: #StringExpr['text\\n']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_verbatim_eof']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['doc']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #StringExpr['    text']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['verb']
                                    $param: #List[
                                       $expression: #StringExpr['text\\n']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['doc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_strong']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['*word*']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@parser']
                                 $recv: #NameExpr['strong']
                                 $param: #List[
                                    $expression: #StringExpr['word']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['<b>two words</b>']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@parser']
                                 $recv: #NameExpr['strong']
                                 $param: #List[
                                    $expression: #StringExpr['two words']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['<b>_emphasis_</b>']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@parser']
                                 $recv: #NameExpr['strong']
                                 $param: #List[
                                    $expression: #StringExpr['_emphasis_']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['parse']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['text']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $base: #NameExpr['@parser']
                        $recv: #NameExpr['parse']
                        $param: #List[
                           $expression: #NameExpr['text']
                        ]
                     ]
                  ]
               ]
            ]
         ]
      ]
   ]
   #Comsumed['comsumed']
]
