#Source[
   #List[
      $statement: #ApplyExpr[
         #Self['self']
         $recv: #NameExpr['require']
         $param: #List[
            $expression: #StringExpr['uri/rfc2396_parser']
         ]
      ]
      $statement: #ApplyExpr[
         #Self['self']
         $recv: #NameExpr['require']
         $param: #List[
            $expression: #StringExpr['uri/rfc3986_parser']
         ]
      ]
      $statement: #Module[
         $name: #NameExpr['URI']
         $body: #BlockExpr[
            $main: #List[
               $statement: #AssignExpr[
                  $left: #NameExpr['REGEXP']
                  $right: #NameExpr['RFC2396_REGEXP']
               ]
               $statement: #AssignExpr[
                  $left: #NameExpr['Parser']
                  $right: #NameExpr['RFC2396_Parser']
               ]
               $statement: #AssignExpr[
                  $left: #NameExpr['RFC3986_PARSER']
                  $right: #ApplyExpr[
                     $recv: #NameExpr['RFC3986_Parser']
                     $recv: #NameExpr['new']
                  ]
               ]
               $statement: #AssignExpr[
                  $left: #NameExpr['DEFAULT_PARSER']
                  $right: #ApplyExpr[
                     $recv: #NameExpr['Parser']
                     $recv: #NameExpr['new']
                  ]
               ]
               $statement: #ApplyExpr[
                  $recv: #ApplyExpr[
                     $recv: #NameExpr['DEFAULT_PARSER']
                     $recv: #NameExpr['pattern']
                  ]
                  $recv: #NameExpr['each_pair']
                  $body: #Block[
                     $param: #MultipleLeftHandSideExpression[
                        $item: #NameExpr['sym']
                        $item: #NameExpr['str']
                     ]
                     $body: #Unless[
                        $cond: #ApplyExpr[
                           $recv: #Field[
                              $recv: #NameExpr['REGEXP']
                              $name: #NameExpr['PATTERN']
                           ]
                           $recv: #NameExpr['const_defined?']
                           $param: #List[
                              $expression: #NameExpr['sym']
                           ]
                        ]
                        $then: #ApplyExpr[
                           $recv: #Field[
                              $recv: #NameExpr['REGEXP']
                              $name: #NameExpr['PATTERN']
                           ]
                           $recv: #NameExpr['const_set']
                           $param: #List[
                              $expression: #NameExpr['sym']
                              $expression: #NameExpr['str']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #ApplyExpr[
                  $recv: #ApplyExpr[
                     $recv: #NameExpr['DEFAULT_PARSER']
                     $recv: #NameExpr['regexp']
                  ]
                  $recv: #NameExpr['each_pair']
                  $body: #Block[
                     $param: #MultipleLeftHandSideExpression[
                        $item: #NameExpr['sym']
                        $item: #NameExpr['str']
                     ]
                     $body: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['const_set']
                        $param: #List[
                           $expression: #NameExpr['sym']
                           $expression: #NameExpr['str']
                        ]
                     ]
                  ]
               ]
               $statement: #Module[
                  $name: #NameExpr['Util']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #FuncDecl[
                           $name: #NameExpr['make_components_hash']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['klass']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['array_hash']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['tmp']
                                    $right: #List['{}']
                                 ]
                                 $statement: #IfExpr[
                                    $cond: #LAnd[
                                       $left: #ApplyExpr[
                                          $recv: #NameExpr['array_hash']
                                          $recv: #NameExpr['kind_of?']
                                          $param: #List[
                                             $expression: #NameExpr['Array']
                                          ]
                                       ]
                                       $right: #EqExpr[
                                          $left: #ApplyExpr[
                                             $recv: #NameExpr['array_hash']
                                             $recv: #NameExpr['size']
                                          ]
                                          $right: #SubExpr[
                                             $left: #ApplyExpr[
                                                $recv: #ApplyExpr[
                                                   $recv: #NameExpr['klass']
                                                   $recv: #NameExpr['component']
                                                ]
                                                $recv: #NameExpr['size']
                                             ]
                                             $right: #IntExpr['1']
                                          ]
                                       ]
                                    ]
                                    $then: #ApplyExpr[
                                       $recv: #Indexer[
                                          $recv: #ApplyExpr[
                                             $recv: #NameExpr['klass']
                                             $recv: #NameExpr['component']
                                          ]
                                          $index: #List[
                                             $expression: #ClosedRange[
                                                #IntExpr['1']
                                                #MinusExpr[
                                                   $expr: #IntExpr['1']
                                                ]
                                             ]
                                          ]
                                       ]
                                       $recv: #NameExpr['each_index']
                                       $body: #Block[
                                          $param: #NameExpr['i']
                                          $body: #ExceptionBlock[
                                             $main: #AssignExpr[
                                                $left: #Indexer[
                                                   $base: #NameExpr['tmp']
                                                   $index: #List[
                                                      $expression: #Indexer[
                                                         $recv: #ApplyExpr[
                                                            $recv: #NameExpr['klass']
                                                            $recv: #NameExpr['component']
                                                         ]
                                                         $index: #List[
                                                            $expression: #AddExpr[
                                                               $left: #NameExpr['i']
                                                               $right: #IntExpr['1']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                                $right: #ApplyExpr[
                                                   $recv: #Indexer[
                                                      $recv: #NameExpr['array_hash']
                                                      $index: #List[
                                                         $expression: #NameExpr['i']
                                                      ]
                                                   ]
                                                   $recv: #NameExpr['clone']
                                                ]
                                             ]
                                             $rescue: #List[
                                                $rescue: #Rescue[
                                                   $class: #NameExpr['TypeError']
                                                   $then: #AssignExpr[
                                                      $left: #Indexer[
                                                         $base: #NameExpr['tmp']
                                                         $index: #List[
                                                            $expression: #Indexer[
                                                               $recv: #ApplyExpr[
                                                                  $recv: #NameExpr['klass']
                                                                  $recv: #NameExpr['component']
                                                               ]
                                                               $index: #List[
                                                                  $expression: #AddExpr[
                                                                     $left: #NameExpr['i']
                                                                     $right: #IntExpr['1']
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $right: #Indexer[
                                                         $recv: #NameExpr['array_hash']
                                                         $index: #List[
                                                            $expression: #NameExpr['i']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                    $else: #IfExpr[
                                       $cond: #ApplyExpr[
                                          $recv: #NameExpr['array_hash']
                                          $recv: #NameExpr['kind_of?']
                                          $param: #List[
                                             $expression: #NameExpr['Hash']
                                          ]
                                       ]
                                       $then: #ApplyExpr[
                                          $recv: #NameExpr['array_hash']
                                          $recv: #NameExpr['each']
                                          $body: #Block[
                                             $param: #MultipleLeftHandSideExpression[
                                                $item: #NameExpr['key']
                                                $item: #NameExpr['value']
                                             ]
                                             $body: #ExceptionBlock[
                                                $main: #AssignExpr[
                                                   $left: #Indexer[
                                                      $base: #NameExpr['tmp']
                                                      $index: #List[
                                                         $expression: #NameExpr['key']
                                                      ]
                                                   ]
                                                   $right: #ApplyExpr[
                                                      $recv: #NameExpr['value']
                                                      $recv: #NameExpr['clone']
                                                   ]
                                                ]
                                                $rescue: #List[
                                                   $rescue: #Rescue[
                                                      $class: #NameExpr['TypeError']
                                                      $then: #AssignExpr[
                                                         $left: #Indexer[
                                                            $base: #NameExpr['tmp']
                                                            $index: #List[
                                                               $expression: #NameExpr['key']
                                                            ]
                                                         ]
                                                         $right: #NameExpr['value']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                       $else: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['raise']
                                          $param: #List[
                                             $expression: #NameExpr['ArgumentError']
                                             $expression: #StringExpr[
                                                $inner: #NameExpr['klass']
                                                $inner: #ApplyExpr[
                                                   $recv: #Indexer[
                                                      $recv: #ApplyExpr[
                                                         $recv: #NameExpr['klass']
                                                         $recv: #NameExpr['component']
                                                      ]
                                                      $index: #List[
                                                         $expression: #ClosedRange[
                                                            #IntExpr['1']
                                                            #MinusExpr[
                                                               $expr: #IntExpr['1']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $recv: #NameExpr['join']
                                                   $param: #List[
                                                      $expression: #StringExpr[', ']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #Indexer[
                                       $base: #NameExpr['tmp']
                                       $index: #List[
                                          $expression: #NameExpr['scheme']
                                       ]
                                    ]
                                    $right: #ApplyExpr[
                                       $recv: #ApplyExpr[
                                          $recv: #ApplyExpr[
                                             $recv: #NameExpr['klass']
                                             $recv: #NameExpr['to_s']
                                          ]
                                          $recv: #NameExpr['sub']
                                          $param: #List[
                                             $expression: #Regex['/\\A.*::/']
                                             $expression: #StringExpr['']
                                          ]
                                       ]
                                       $recv: #NameExpr['downcase']
                                    ]
                                 ]
                                 $statement: #RReturnStmt[
                                    $expr: #List[
                                       $expression: #NameExpr['tmp']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['module_function']
                           $param: #List[
                              $expression: #NameExpr['make_components_hash']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #Module[
                  $name: #NameExpr['Escape']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #FuncDecl[
                           $name: #NameExpr['escape']
                           $param: #List[
                              $param: #VariadicParam[
                                 $name: #NameExpr['arg']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #IfExpr[
                                    $then: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['warn']
                                       $param: #List[
                                          $expression: #StringExpr[
                                             $inner: #Indexer[
                                                $recv: #ApplyExpr[
                                                   #Self['self']
                                                   $recv: #NameExpr['caller']
                                                   $param: #List[
                                                      $expression: #IntExpr['1']
                                                   ]
                                                ]
                                                $index: #List[
                                                   $expression: #IntExpr['0']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                    $cond: #NameExpr['$VERBOSE']
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['DEFAULT_PARSER']
                                    $recv: #NameExpr['escape']
                                    $param: #List[
                                       $variadic: #Variadic[
                                          $base: #NameExpr['arg']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #Alias[
                           $newname: #NameExpr['encode']
                           $target: #NameExpr['escape']
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['unescape']
                           $param: #List[
                              $param: #VariadicParam[
                                 $name: #NameExpr['arg']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #IfExpr[
                                    $then: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['warn']
                                       $param: #List[
                                          $expression: #StringExpr[
                                             $inner: #Indexer[
                                                $recv: #ApplyExpr[
                                                   #Self['self']
                                                   $recv: #NameExpr['caller']
                                                   $param: #List[
                                                      $expression: #IntExpr['1']
                                                   ]
                                                ]
                                                $index: #List[
                                                   $expression: #IntExpr['0']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                    $cond: #NameExpr['$VERBOSE']
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['DEFAULT_PARSER']
                                    $recv: #NameExpr['unescape']
                                    $param: #List[
                                       $variadic: #Variadic[
                                          $base: #NameExpr['arg']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #Alias[
                           $newname: #NameExpr['decode']
                           $target: #NameExpr['unescape']
                        ]
                     ]
                  ]
               ]
               $statement: #ApplyExpr[
                  #Self['self']
                  $recv: #NameExpr['extend']
                  $param: #List[
                     $expression: #NameExpr['Escape']
                  ]
               ]
               $statement: #ApplyExpr[
                  #Self['self']
                  $recv: #NameExpr['include']
                  $param: #List[
                     $expression: #NameExpr['REGEXP']
                  ]
               ]
               $statement: #AssignExpr[
                  $left: #NameExpr['@@schemes']
                  $right: #List['{}']
               ]
               $statement: #SFuncDecl[
                  $path: #Self['self']
                  $name: #NameExpr['scheme_list']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #NameExpr['@@schemes']
                  ]
               ]
               $statement: #Class[
                  $name: #NameExpr['Error']
                  $super: #NameExpr['StandardError']
                  $body: #BlockExpr[
                     $main: #Empty['']
                  ]
               ]
               $statement: #Class[
                  $name: #NameExpr['InvalidURIError']
                  $super: #NameExpr['Error']
                  $body: #BlockExpr[
                     $main: #Empty['']
                  ]
               ]
               $statement: #Class[
                  $name: #NameExpr['InvalidComponentError']
                  $super: #NameExpr['Error']
                  $body: #BlockExpr[
                     $main: #Empty['']
                  ]
               ]
               $statement: #Class[
                  $name: #NameExpr['BadURIError']
                  $super: #NameExpr['Error']
                  $body: #BlockExpr[
                     $main: #Empty['']
                  ]
               ]
               $statement: #SFuncDecl[
                  $path: #Self['self']
                  $name: #NameExpr['split']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['uri']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $recv: #NameExpr['RFC3986_PARSER']
                        $recv: #NameExpr['split']
                        $param: #List[
                           $expression: #NameExpr['uri']
                        ]
                     ]
                  ]
               ]
               $statement: #SFuncDecl[
                  $path: #Self['self']
                  $name: #NameExpr['parse']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['uri']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $recv: #NameExpr['RFC3986_PARSER']
                        $recv: #NameExpr['parse']
                        $param: #List[
                           $expression: #NameExpr['uri']
                        ]
                     ]
                  ]
               ]
               $statement: #SFuncDecl[
                  $path: #Self['self']
                  $name: #NameExpr['join']
                  $param: #List[
                     $param: #VariadicParam[
                        $name: #NameExpr['str']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $recv: #NameExpr['RFC3986_PARSER']
                        $recv: #NameExpr['join']
                        $param: #List[
                           $variadic: #Variadic[
                              $base: #NameExpr['str']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #SFuncDecl[
                  $path: #Self['self']
                  $name: #NameExpr['extract']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['str']
                     ]
                     $param: #OptionalParam[
                        $name: #NameExpr['schemes']
                        $default: #Nil['nil']
                     ]
                     $param: #ProcedureParam[
                        $name: #NameExpr['block']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #IfExpr[
                           $then: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['warn']
                              $param: #List[
                                 $expression: #StringExpr[
                                    $inner: #Indexer[
                                       $recv: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['caller']
                                          $param: #List[
                                             $expression: #IntExpr['1']
                                          ]
                                       ]
                                       $index: #List[
                                          $expression: #IntExpr['0']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                           $cond: #NameExpr['$VERBOSE']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['DEFAULT_PARSER']
                           $recv: #NameExpr['extract']
                           $param: #List[
                              $expression: #NameExpr['str']
                              $expression: #NameExpr['schemes']
                              $procedure: #Procedure[
                                 $base: #NameExpr['block']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #SFuncDecl[
                  $path: #Self['self']
                  $name: #NameExpr['regexp']
                  $param: #List[
                     $param: #OptionalParam[
                        $name: #NameExpr['schemes']
                        $default: #Nil['nil']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #IfExpr[
                           $then: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['warn']
                              $param: #List[
                                 $expression: #StringExpr[
                                    $inner: #Indexer[
                                       $recv: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['caller']
                                          $param: #List[
                                             $expression: #IntExpr['1']
                                          ]
                                       ]
                                       $index: #List[
                                          $expression: #IntExpr['0']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                           $cond: #NameExpr['$VERBOSE']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['DEFAULT_PARSER']
                           $recv: #NameExpr['make_regexp']
                           $param: #List[
                              $expression: #NameExpr['schemes']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #AssignExpr[
                  $left: #NameExpr['TBLENCWWWCOMP_']
                  $right: #List['{}']
               ]
               $statement: #ApplyExpr[
                  $recv: #IntExpr['256']
                  $recv: #NameExpr['times']
                  $body: #Block[
                     $param: #NameExpr['i']
                     $body: #AssignExpr[
                        $left: #Indexer[
                           $base: #NameExpr['TBLENCWWWCOMP_']
                           $index: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['i']
                                 $recv: #NameExpr['chr']
                              ]
                           ]
                        ]
                        $right: #ModExpr[
                           $left: #StringExpr['%%%02X']
                           $right: #NameExpr['i']
                        ]
                     ]
                  ]
               ]
               $statement: #AssignExpr[
                  $left: #Indexer[
                     $base: #NameExpr['TBLENCWWWCOMP_']
                     $index: #List[
                        $expression: #StringExpr[' ']
                     ]
                  ]
                  $right: #StringExpr['+']
               ]
               $statement: #ApplyExpr[
                  $recv: #NameExpr['TBLENCWWWCOMP_']
                  $recv: #NameExpr['freeze']
               ]
               $statement: #AssignExpr[
                  $left: #NameExpr['TBLDECWWWCOMP_']
                  $right: #List['{}']
               ]
               $statement: #ApplyExpr[
                  $recv: #IntExpr['256']
                  $recv: #NameExpr['times']
                  $body: #Block[
                     $param: #NameExpr['i']
                     $body: #List[
                        $statement: #MultipleAssign[
                           $left: #MultipleLeftHandSideExpression[
                              $item: #NameExpr['h']
                              $item: #NameExpr['l']
                           ]
                           $right: #MultipleRightHandSideExpression[
                              $expression: #RShiftExpr[
                                 $left: #NameExpr['i']
                                 $right: #IntExpr['4']
                              ]
                              $expression: #AndExpr[
                                 $left: #NameExpr['i']
                                 $right: #IntExpr['15']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Indexer[
                              $base: #NameExpr['TBLDECWWWCOMP_']
                              $index: #List[
                                 $expression: #ModExpr[
                                    $left: #StringExpr['%%%X%X']
                                    $right: #Array[
                                       $index: #List[
                                          $expression: #NameExpr['h']
                                          $expression: #NameExpr['l']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                           $right: #ApplyExpr[
                              $recv: #NameExpr['i']
                              $recv: #NameExpr['chr']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Indexer[
                              $base: #NameExpr['TBLDECWWWCOMP_']
                              $index: #List[
                                 $expression: #ModExpr[
                                    $left: #StringExpr['%%%x%X']
                                    $right: #Array[
                                       $index: #List[
                                          $expression: #NameExpr['h']
                                          $expression: #NameExpr['l']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                           $right: #ApplyExpr[
                              $recv: #NameExpr['i']
                              $recv: #NameExpr['chr']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Indexer[
                              $base: #NameExpr['TBLDECWWWCOMP_']
                              $index: #List[
                                 $expression: #ModExpr[
                                    $left: #StringExpr['%%%X%x']
                                    $right: #Array[
                                       $index: #List[
                                          $expression: #NameExpr['h']
                                          $expression: #NameExpr['l']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                           $right: #ApplyExpr[
                              $recv: #NameExpr['i']
                              $recv: #NameExpr['chr']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Indexer[
                              $base: #NameExpr['TBLDECWWWCOMP_']
                              $index: #List[
                                 $expression: #ModExpr[
                                    $left: #StringExpr['%%%x%x']
                                    $right: #Array[
                                       $index: #List[
                                          $expression: #NameExpr['h']
                                          $expression: #NameExpr['l']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                           $right: #ApplyExpr[
                              $recv: #NameExpr['i']
                              $recv: #NameExpr['chr']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #AssignExpr[
                  $left: #Indexer[
                     $base: #NameExpr['TBLDECWWWCOMP_']
                     $index: #List[
                        $expression: #StringExpr['+']
                     ]
                  ]
                  $right: #StringExpr[' ']
               ]
               $statement: #ApplyExpr[
                  $recv: #NameExpr['TBLDECWWWCOMP_']
                  $recv: #NameExpr['freeze']
               ]
               $statement: #AssignExpr[
                  $left: #NameExpr['HTML5ASCIIINCOMPAT']
                  $right: #ApplyExpr[
                     #Self['self']
                     $recv: #NameExpr['defined?']
                     $param: #List[
                        $expression: #Conditional[
                           $cond: #Field[
                              $recv: #NameExpr['Encoding']
                              $name: #NameExpr['UTF_7']
                           ]
                           $then: #Array[
                              $index: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['Encoding']
                                    $name: #NameExpr['UTF_7']
                                 ]
                                 $expression: #Field[
                                    $recv: #NameExpr['Encoding']
                                    $name: #NameExpr['UTF_16BE']
                                 ]
                                 $expression: #Field[
                                    $recv: #NameExpr['Encoding']
                                    $name: #NameExpr['UTF_16LE']
                                 ]
                                 $expression: #Field[
                                    $recv: #NameExpr['Encoding']
                                    $name: #NameExpr['UTF_32BE']
                                 ]
                                 $expression: #Field[
                                    $recv: #NameExpr['Encoding']
                                    $name: #NameExpr['UTF_32LE']
                                 ]
                              ]
                           ]
                           $else: #Array['[]']
                        ]
                     ]
                  ]
               ]
               $statement: #SFuncDecl[
                  $path: #Self['self']
                  $name: #NameExpr['encode_www_form_component']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['str']
                     ]
                     $param: #OptionalParam[
                        $name: #NameExpr['enc']
                        $default: #Nil['nil']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['str']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['str']
                                 $recv: #NameExpr['to_s']
                              ]
                              $recv: #NameExpr['dup']
                           ]
                        ]
                        $statement: #IfExpr[
                           $cond: #NeExpr[
                              $left: #ApplyExpr[
                                 $recv: #NameExpr['str']
                                 $recv: #NameExpr['encoding']
                              ]
                              $right: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['ASCII_8BIT']
                              ]
                           ]
                           $then: #List[
                              $statement: #IfExpr[
                                 $cond: #ApplyExpr[
                                    $base: #NameExpr['enc']
                                    $recv: #NameExpr['&']
                                    $param: #List[
                                       $expression: #NeExpr[
                                          $left: #NameExpr['enc']
                                          $right: #Field[
                                             $recv: #NameExpr['Encoding']
                                             $name: #NameExpr['ASCII_8BIT']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $then: #List[
                                    $statement: #ApplyExpr[
                                       $recv: #NameExpr['str']
                                       $recv: #NameExpr['encode!']
                                       $param: #List[
                                          $expression: #Field[
                                             $recv: #NameExpr['Encoding']
                                             $name: #NameExpr['UTF_8']
                                          ]
                                          $hash: #Hash[
                                             $key: #NameExpr['invalid']
                                             $value: #NameExpr['replace']
                                          ]
                                          $hash: #Hash[
                                             $key: #NameExpr['undef']
                                             $value: #NameExpr['replace']
                                          ]
                                       ]
                                    ]
                                    $statement: #ApplyExpr[
                                       $recv: #NameExpr['str']
                                       $recv: #NameExpr['encode!']
                                       $param: #List[
                                          $expression: #NameExpr['enc']
                                          $hash: #Hash[
                                             $key: #NameExpr['fallback']
                                             $value: #Lambda[
                                                $param: #List[
                                                   $param: #Param[
                                                      $param: #NameExpr['x']
                                                   ]
                                                ]
                                                $body: #Block[
                                                   $body: #StringExpr[
                                                      $inner: #ApplyExpr[
                                                         $recv: #NameExpr['x']
                                                         $recv: #NameExpr['ord']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 $recv: #NameExpr['str']
                                 $recv: #NameExpr['force_encoding']
                                 $param: #List[
                                    $expression: #Field[
                                       $recv: #NameExpr['Encoding']
                                       $name: #NameExpr['ASCII_8BIT']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['str']
                           $recv: #NameExpr['gsub!']
                           $param: #List[
                              $expression: #Regex['/[^*\\-.0-9A-Z_a-z]/']
                              $expression: #NameExpr['TBLENCWWWCOMP_']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['str']
                           $recv: #NameExpr['force_encoding']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['US_ASCII']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #SFuncDecl[
                  $path: #Self['self']
                  $name: #NameExpr['decode_www_form_component']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['str']
                     ]
                     $param: #OptionalParam[
                        $name: #NameExpr['enc']
                        $default: #Field[
                           $recv: #NameExpr['Encoding']
                           $name: #NameExpr['UTF_8']
                        ]
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #IfExpr[
                           $then: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['raise']
                              $param: #List[
                                 $expression: #NameExpr['ArgumentError']
                                 $expression: #StringExpr[
                                    $inner: #NameExpr['str']
                                 ]
                              ]
                           ]
                           $cond: #Match[
                              $left: #Regex['/%(?!\\h\\h)/']
                              $right: #NameExpr['str']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['str']
                                 $recv: #NameExpr['b']
                              ]
                              $recv: #NameExpr['gsub']
                              $param: #List[
                                 $expression: #Regex['/\\+|%\\h\\h/']
                                 $expression: #NameExpr['TBLDECWWWCOMP_']
                              ]
                           ]
                           $recv: #NameExpr['force_encoding']
                           $param: #List[
                              $expression: #NameExpr['enc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #SFuncDecl[
                  $path: #Self['self']
                  $name: #NameExpr['encode_www_form']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['enum']
                     ]
                     $param: #OptionalParam[
                        $name: #NameExpr['enc']
                        $default: #Nil['nil']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $recv: #ApplyExpr[
                           $recv: #NameExpr['enum']
                           $recv: #NameExpr['map']
                           $body: #Block[
                              $param: #MultipleLeftHandSideExpression[
                                 $item: #NameExpr['k']
                                 $item: #NameExpr['v']
                              ]
                              $body: #IfExpr[
                                 $cond: #ApplyExpr[
                                    $recv: #NameExpr['v']
                                    $recv: #NameExpr['nil?']
                                 ]
                                 $then: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['encode_www_form_component']
                                    $param: #List[
                                       $expression: #NameExpr['k']
                                       $expression: #NameExpr['enc']
                                    ]
                                 ]
                                 $else: #IfExpr[
                                    $cond: #ApplyExpr[
                                       $recv: #NameExpr['v']
                                       $recv: #NameExpr['respond_to?']
                                       $param: #List[
                                          $expression: #NameExpr['to_ary']
                                       ]
                                    ]
                                    $then: #ApplyExpr[
                                       $recv: #ApplyExpr[
                                          $recv: #ApplyExpr[
                                             $recv: #NameExpr['v']
                                             $recv: #NameExpr['to_ary']
                                          ]
                                          $recv: #NameExpr['map']
                                          $body: #Block[
                                             $param: #NameExpr['w']
                                             $body: #List[
                                                $statement: #AssignExpr[
                                                   $left: #NameExpr['str']
                                                   $right: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['encode_www_form_component']
                                                      $param: #List[
                                                         $expression: #NameExpr['k']
                                                         $expression: #NameExpr['enc']
                                                      ]
                                                   ]
                                                ]
                                                $statement: #Unless[
                                                   $cond: #ApplyExpr[
                                                      $recv: #NameExpr['w']
                                                      $recv: #NameExpr['nil?']
                                                   ]
                                                   $then: #List[
                                                      $statement: #LShiftExpr[
                                                         $left: #NameExpr['str']
                                                         $right: #StringExpr['=']
                                                      ]
                                                      $statement: #LShiftExpr[
                                                         $left: #NameExpr['str']
                                                         $right: #ApplyExpr[
                                                            #Self['self']
                                                            $recv: #NameExpr['encode_www_form_component']
                                                            $param: #List[
                                                               $expression: #NameExpr['w']
                                                               $expression: #NameExpr['enc']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                       $recv: #NameExpr['join']
                                       $param: #List[
                                          $expression: #StringExpr['&']
                                       ]
                                    ]
                                    $else: #List[
                                       $statement: #AssignExpr[
                                          $left: #NameExpr['str']
                                          $right: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['encode_www_form_component']
                                             $param: #List[
                                                $expression: #NameExpr['k']
                                                $expression: #NameExpr['enc']
                                             ]
                                          ]
                                       ]
                                       $statement: #LShiftExpr[
                                          $left: #NameExpr['str']
                                          $right: #StringExpr['=']
                                       ]
                                       $statement: #LShiftExpr[
                                          $left: #NameExpr['str']
                                          $right: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['encode_www_form_component']
                                             $param: #List[
                                                $expression: #NameExpr['v']
                                                $expression: #NameExpr['enc']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $recv: #NameExpr['join']
                        $param: #List[
                           $expression: #StringExpr['&']
                        ]
                     ]
                  ]
               ]
               $statement: #SFuncDecl[
                  $path: #Self['self']
                  $name: #NameExpr['decode_www_form']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['str']
                     ]
                     $param: #OptionalParam[
                        $name: #NameExpr['enc']
                        $default: #Field[
                           $recv: #NameExpr['Encoding']
                           $name: #NameExpr['UTF_8']
                        ]
                     ]
                     $param: #KeywordParam[
                        $name: #NameExpr['separator']
                        $default: #StringExpr['&']
                     ]
                     $param: #KeywordParam[
                        $name: #NameExpr['use__charset_']
                        $default: #FalseExpr['false']
                     ]
                     $param: #KeywordParam[
                        $name: #NameExpr['isindex']
                        $default: #FalseExpr['false']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #Unless[
                           $then: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['raise']
                              $param: #List[
                                 $expression: #NameExpr['ArgumentError']
                                 $expression: #StringExpr[
                                    $inner: #ApplyExpr[
                                       $recv: #Self['self']
                                       $recv: #NameExpr['name']
                                    ]
                                    $inner: #NameExpr['__method__']
                                 ]
                              ]
                           ]
                           $cond: #ApplyExpr[
                              $recv: #NameExpr['str']
                              $recv: #NameExpr['ascii_only?']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['ary']
                           $right: #Array['[]']
                        ]
                        $statement: #IfExpr[
                           $then: #RReturnStmt[
                              $expr: #List[
                                 $expression: #NameExpr['ary']
                              ]
                           ]
                           $cond: #ApplyExpr[
                              $recv: #NameExpr['str']
                              $recv: #NameExpr['empty?']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['enc']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Encoding']
                              $recv: #NameExpr['find']
                              $param: #List[
                                 $expression: #NameExpr['enc']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #ApplyExpr[
                              $recv: #NameExpr['str']
                              $recv: #NameExpr['b']
                           ]
                           $recv: #NameExpr['each_line']
                           $param: #List[
                              $expression: #NameExpr['separator']
                           ]
                           $body: #Block[
                              $param: #NameExpr['string']
                              $body: #List[
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['string']
                                    $recv: #NameExpr['chomp!']
                                    $param: #List[
                                       $expression: #NameExpr['separator']
                                    ]
                                 ]
                                 $statement: #MultipleAssign[
                                    $left: #MultipleLeftHandSideExpression[
                                       $item: #NameExpr['key']
                                       $item: #NameExpr['sep']
                                       $item: #NameExpr['val']
                                    ]
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['string']
                                       $recv: #NameExpr['partition']
                                       $param: #List[
                                          $expression: #StringExpr['=']
                                       ]
                                    ]
                                 ]
                                 $statement: #IfExpr[
                                    $cond: #NameExpr['isindex']
                                    $then: #List[
                                       $statement: #IfExpr[
                                          $cond: #ApplyExpr[
                                             $recv: #NameExpr['sep']
                                             $recv: #NameExpr['empty?']
                                          ]
                                          $then: #List[
                                             $statement: #AssignExpr[
                                                $left: #NameExpr['val']
                                                $right: #NameExpr['key']
                                             ]
                                             $statement: #AssignExpr[
                                                $left: #NameExpr['key']
                                                $right: #StringExpr['']
                                             ]
                                          ]
                                       ]
                                       $statement: #AssignExpr[
                                          $left: #NameExpr['isindex']
                                          $right: #FalseExpr['false']
                                       ]
                                    ]
                                 ]
                                 $statement: #IfExpr[
                                    $cond: #AndExpr[
                                       $left: #AndExpr[
                                          $left: #NameExpr['use__charset_']
                                          $right: #EqExpr[
                                             $left: #NameExpr['key']
                                             $right: #StringExpr['_charset_']
                                          ]
                                       ]
                                       $right: #AssignExpr[
                                          $left: #NameExpr['e']
                                          $right: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['get_encoding']
                                             $param: #List[
                                                $expression: #NameExpr['val']
                                             ]
                                          ]
                                       ]
                                    ]
                                    $then: #List[
                                       $statement: #AssignExpr[
                                          $left: #NameExpr['enc']
                                          $right: #NameExpr['e']
                                       ]
                                       $statement: #AssignExpr[
                                          $left: #NameExpr['use__charset_']
                                          $right: #FalseExpr['false']
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['key']
                                    $recv: #NameExpr['gsub!']
                                    $param: #List[
                                       $expression: #Regex['/\\+|%\\h\\h/']
                                       $expression: #NameExpr['TBLDECWWWCOMP_']
                                    ]
                                 ]
                                 $statement: #IfExpr[
                                    $cond: #NameExpr['val']
                                    $then: #ApplyExpr[
                                       $recv: #NameExpr['val']
                                       $recv: #NameExpr['gsub!']
                                       $param: #List[
                                          $expression: #Regex['/\\+|%\\h\\h/']
                                          $expression: #NameExpr['TBLDECWWWCOMP_']
                                       ]
                                    ]
                                    $else: #AssignExpr[
                                       $left: #NameExpr['val']
                                       $right: #StringExpr['']
                                    ]
                                 ]
                                 $statement: #LShiftExpr[
                                    $left: #NameExpr['ary']
                                    $right: #Array[
                                       $index: #List[
                                          $expression: #NameExpr['key']
                                          $expression: #NameExpr['val']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['ary']
                           $recv: #NameExpr['each']
                           $body: #Block[
                              $param: #MultipleLeftHandSideExpression[
                                 $item: #NameExpr['k']
                                 $item: #NameExpr['v']
                              ]
                              $body: #List[
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['k']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #NameExpr['enc']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['k']
                                    $recv: #NameExpr['scrub!']
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['v']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #NameExpr['enc']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['v']
                                    $recv: #NameExpr['scrub!']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #NameExpr['ary']
                     ]
                  ]
               ]
               $statement: #NameExpr['private']
               $statement: #AssignExpr[
                  $left: #NameExpr['WEB_ENCODINGS_']
                  $right: #List[
                     $hash: #Hash[
                        $key: #StringExpr['unicode-1-1-utf-8']
                        $value: #StringExpr['utf-8']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['utf-8']
                        $value: #StringExpr['utf-8']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['utf8']
                        $value: #StringExpr['utf-8']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['866']
                        $value: #StringExpr['ibm866']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['cp866']
                        $value: #StringExpr['ibm866']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['csibm866']
                        $value: #StringExpr['ibm866']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['ibm866']
                        $value: #StringExpr['ibm866']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['csisolatin2']
                        $value: #StringExpr['iso-8859-2']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-8859-2']
                        $value: #StringExpr['iso-8859-2']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-ir-101']
                        $value: #StringExpr['iso-8859-2']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso8859-2']
                        $value: #StringExpr['iso-8859-2']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso88592']
                        $value: #StringExpr['iso-8859-2']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso_8859-2']
                        $value: #StringExpr['iso-8859-2']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso_8859-2:1987']
                        $value: #StringExpr['iso-8859-2']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['l2']
                        $value: #StringExpr['iso-8859-2']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['latin2']
                        $value: #StringExpr['iso-8859-2']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['csisolatin3']
                        $value: #StringExpr['iso-8859-3']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-8859-3']
                        $value: #StringExpr['iso-8859-3']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-ir-109']
                        $value: #StringExpr['iso-8859-3']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso8859-3']
                        $value: #StringExpr['iso-8859-3']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso88593']
                        $value: #StringExpr['iso-8859-3']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso_8859-3']
                        $value: #StringExpr['iso-8859-3']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso_8859-3:1988']
                        $value: #StringExpr['iso-8859-3']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['l3']
                        $value: #StringExpr['iso-8859-3']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['latin3']
                        $value: #StringExpr['iso-8859-3']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['csisolatin4']
                        $value: #StringExpr['iso-8859-4']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-8859-4']
                        $value: #StringExpr['iso-8859-4']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-ir-110']
                        $value: #StringExpr['iso-8859-4']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso8859-4']
                        $value: #StringExpr['iso-8859-4']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso88594']
                        $value: #StringExpr['iso-8859-4']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso_8859-4']
                        $value: #StringExpr['iso-8859-4']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso_8859-4:1988']
                        $value: #StringExpr['iso-8859-4']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['l4']
                        $value: #StringExpr['iso-8859-4']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['latin4']
                        $value: #StringExpr['iso-8859-4']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['csisolatincyrillic']
                        $value: #StringExpr['iso-8859-5']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['cyrillic']
                        $value: #StringExpr['iso-8859-5']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-8859-5']
                        $value: #StringExpr['iso-8859-5']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-ir-144']
                        $value: #StringExpr['iso-8859-5']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso8859-5']
                        $value: #StringExpr['iso-8859-5']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso88595']
                        $value: #StringExpr['iso-8859-5']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso_8859-5']
                        $value: #StringExpr['iso-8859-5']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso_8859-5:1988']
                        $value: #StringExpr['iso-8859-5']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['arabic']
                        $value: #StringExpr['iso-8859-6']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['asmo-708']
                        $value: #StringExpr['iso-8859-6']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['csiso88596e']
                        $value: #StringExpr['iso-8859-6']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['csiso88596i']
                        $value: #StringExpr['iso-8859-6']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['csisolatinarabic']
                        $value: #StringExpr['iso-8859-6']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['ecma-114']
                        $value: #StringExpr['iso-8859-6']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-8859-6']
                        $value: #StringExpr['iso-8859-6']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-8859-6-e']
                        $value: #StringExpr['iso-8859-6']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-8859-6-i']
                        $value: #StringExpr['iso-8859-6']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-ir-127']
                        $value: #StringExpr['iso-8859-6']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso8859-6']
                        $value: #StringExpr['iso-8859-6']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso88596']
                        $value: #StringExpr['iso-8859-6']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso_8859-6']
                        $value: #StringExpr['iso-8859-6']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso_8859-6:1987']
                        $value: #StringExpr['iso-8859-6']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['csisolatingreek']
                        $value: #StringExpr['iso-8859-7']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['ecma-118']
                        $value: #StringExpr['iso-8859-7']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['elot_928']
                        $value: #StringExpr['iso-8859-7']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['greek']
                        $value: #StringExpr['iso-8859-7']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['greek8']
                        $value: #StringExpr['iso-8859-7']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-8859-7']
                        $value: #StringExpr['iso-8859-7']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-ir-126']
                        $value: #StringExpr['iso-8859-7']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso8859-7']
                        $value: #StringExpr['iso-8859-7']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso88597']
                        $value: #StringExpr['iso-8859-7']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso_8859-7']
                        $value: #StringExpr['iso-8859-7']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso_8859-7:1987']
                        $value: #StringExpr['iso-8859-7']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['sun_eu_greek']
                        $value: #StringExpr['iso-8859-7']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['csiso88598e']
                        $value: #StringExpr['iso-8859-8']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['csisolatinhebrew']
                        $value: #StringExpr['iso-8859-8']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['hebrew']
                        $value: #StringExpr['iso-8859-8']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-8859-8']
                        $value: #StringExpr['iso-8859-8']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-8859-8-e']
                        $value: #StringExpr['iso-8859-8']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-ir-138']
                        $value: #StringExpr['iso-8859-8']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso8859-8']
                        $value: #StringExpr['iso-8859-8']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso88598']
                        $value: #StringExpr['iso-8859-8']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso_8859-8']
                        $value: #StringExpr['iso-8859-8']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso_8859-8:1988']
                        $value: #StringExpr['iso-8859-8']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['visual']
                        $value: #StringExpr['iso-8859-8']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['csisolatin6']
                        $value: #StringExpr['iso-8859-10']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-8859-10']
                        $value: #StringExpr['iso-8859-10']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-ir-157']
                        $value: #StringExpr['iso-8859-10']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso8859-10']
                        $value: #StringExpr['iso-8859-10']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso885910']
                        $value: #StringExpr['iso-8859-10']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['l6']
                        $value: #StringExpr['iso-8859-10']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['latin6']
                        $value: #StringExpr['iso-8859-10']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-8859-13']
                        $value: #StringExpr['iso-8859-13']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso8859-13']
                        $value: #StringExpr['iso-8859-13']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso885913']
                        $value: #StringExpr['iso-8859-13']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-8859-14']
                        $value: #StringExpr['iso-8859-14']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso8859-14']
                        $value: #StringExpr['iso-8859-14']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso885914']
                        $value: #StringExpr['iso-8859-14']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['csisolatin9']
                        $value: #StringExpr['iso-8859-15']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-8859-15']
                        $value: #StringExpr['iso-8859-15']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso8859-15']
                        $value: #StringExpr['iso-8859-15']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso885915']
                        $value: #StringExpr['iso-8859-15']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso_8859-15']
                        $value: #StringExpr['iso-8859-15']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['l9']
                        $value: #StringExpr['iso-8859-15']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-8859-16']
                        $value: #StringExpr['iso-8859-16']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['cskoi8r']
                        $value: #StringExpr['koi8-r']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['koi']
                        $value: #StringExpr['koi8-r']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['koi8']
                        $value: #StringExpr['koi8-r']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['koi8-r']
                        $value: #StringExpr['koi8-r']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['koi8_r']
                        $value: #StringExpr['koi8-r']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['koi8-u']
                        $value: #StringExpr['koi8-u']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['dos-874']
                        $value: #StringExpr['windows-874']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-8859-11']
                        $value: #StringExpr['windows-874']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso8859-11']
                        $value: #StringExpr['windows-874']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso885911']
                        $value: #StringExpr['windows-874']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['tis-620']
                        $value: #StringExpr['windows-874']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['windows-874']
                        $value: #StringExpr['windows-874']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['cp1250']
                        $value: #StringExpr['windows-1250']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['windows-1250']
                        $value: #StringExpr['windows-1250']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['x-cp1250']
                        $value: #StringExpr['windows-1250']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['cp1251']
                        $value: #StringExpr['windows-1251']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['windows-1251']
                        $value: #StringExpr['windows-1251']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['x-cp1251']
                        $value: #StringExpr['windows-1251']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['ansi_x3.4-1968']
                        $value: #StringExpr['windows-1252']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['ascii']
                        $value: #StringExpr['windows-1252']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['cp1252']
                        $value: #StringExpr['windows-1252']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['cp819']
                        $value: #StringExpr['windows-1252']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['csisolatin1']
                        $value: #StringExpr['windows-1252']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['ibm819']
                        $value: #StringExpr['windows-1252']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-8859-1']
                        $value: #StringExpr['windows-1252']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-ir-100']
                        $value: #StringExpr['windows-1252']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso8859-1']
                        $value: #StringExpr['windows-1252']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso88591']
                        $value: #StringExpr['windows-1252']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso_8859-1']
                        $value: #StringExpr['windows-1252']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso_8859-1:1987']
                        $value: #StringExpr['windows-1252']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['l1']
                        $value: #StringExpr['windows-1252']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['latin1']
                        $value: #StringExpr['windows-1252']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['us-ascii']
                        $value: #StringExpr['windows-1252']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['windows-1252']
                        $value: #StringExpr['windows-1252']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['x-cp1252']
                        $value: #StringExpr['windows-1252']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['cp1253']
                        $value: #StringExpr['windows-1253']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['windows-1253']
                        $value: #StringExpr['windows-1253']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['x-cp1253']
                        $value: #StringExpr['windows-1253']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['cp1254']
                        $value: #StringExpr['windows-1254']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['csisolatin5']
                        $value: #StringExpr['windows-1254']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-8859-9']
                        $value: #StringExpr['windows-1254']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-ir-148']
                        $value: #StringExpr['windows-1254']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso8859-9']
                        $value: #StringExpr['windows-1254']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso88599']
                        $value: #StringExpr['windows-1254']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso_8859-9']
                        $value: #StringExpr['windows-1254']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso_8859-9:1989']
                        $value: #StringExpr['windows-1254']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['l5']
                        $value: #StringExpr['windows-1254']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['latin5']
                        $value: #StringExpr['windows-1254']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['windows-1254']
                        $value: #StringExpr['windows-1254']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['x-cp1254']
                        $value: #StringExpr['windows-1254']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['cp1255']
                        $value: #StringExpr['windows-1255']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['windows-1255']
                        $value: #StringExpr['windows-1255']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['x-cp1255']
                        $value: #StringExpr['windows-1255']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['cp1256']
                        $value: #StringExpr['windows-1256']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['windows-1256']
                        $value: #StringExpr['windows-1256']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['x-cp1256']
                        $value: #StringExpr['windows-1256']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['cp1257']
                        $value: #StringExpr['windows-1257']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['windows-1257']
                        $value: #StringExpr['windows-1257']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['x-cp1257']
                        $value: #StringExpr['windows-1257']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['cp1258']
                        $value: #StringExpr['windows-1258']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['windows-1258']
                        $value: #StringExpr['windows-1258']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['x-cp1258']
                        $value: #StringExpr['windows-1258']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['x-mac-cyrillic']
                        $value: #StringExpr['macCyrillic']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['x-mac-ukrainian']
                        $value: #StringExpr['macCyrillic']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['chinese']
                        $value: #StringExpr['gbk']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['csgb2312']
                        $value: #StringExpr['gbk']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['csiso58gb231280']
                        $value: #StringExpr['gbk']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['gb2312']
                        $value: #StringExpr['gbk']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['gb_2312']
                        $value: #StringExpr['gbk']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['gb_2312-80']
                        $value: #StringExpr['gbk']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['gbk']
                        $value: #StringExpr['gbk']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-ir-58']
                        $value: #StringExpr['gbk']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['x-gbk']
                        $value: #StringExpr['gbk']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['gb18030']
                        $value: #StringExpr['gb18030']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['big5']
                        $value: #StringExpr['big5']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['big5-hkscs']
                        $value: #StringExpr['big5']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['cn-big5']
                        $value: #StringExpr['big5']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['csbig5']
                        $value: #StringExpr['big5']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['x-x-big5']
                        $value: #StringExpr['big5']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['cseucpkdfmtjapanese']
                        $value: #StringExpr['cp51932']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['euc-jp']
                        $value: #StringExpr['cp51932']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['x-euc-jp']
                        $value: #StringExpr['cp51932']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['csiso2022jp']
                        $value: #StringExpr['cp50221']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-2022-jp']
                        $value: #StringExpr['cp50221']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['csshiftjis']
                        $value: #StringExpr['Windows-31J']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['ms_kanji']
                        $value: #StringExpr['Windows-31J']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['shift-jis']
                        $value: #StringExpr['Windows-31J']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['shift_jis']
                        $value: #StringExpr['Windows-31J']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['sjis']
                        $value: #StringExpr['Windows-31J']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['windows-31j']
                        $value: #StringExpr['Windows-31J']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['x-sjis']
                        $value: #StringExpr['Windows-31J']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['cseuckr']
                        $value: #StringExpr['euc-kr']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['csksc56011987']
                        $value: #StringExpr['euc-kr']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['euc-kr']
                        $value: #StringExpr['euc-kr']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['iso-ir-149']
                        $value: #StringExpr['euc-kr']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['korean']
                        $value: #StringExpr['euc-kr']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['ks_c_5601-1987']
                        $value: #StringExpr['euc-kr']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['ks_c_5601-1989']
                        $value: #StringExpr['euc-kr']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['ksc5601']
                        $value: #StringExpr['euc-kr']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['ksc_5601']
                        $value: #StringExpr['euc-kr']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['windows-949']
                        $value: #StringExpr['euc-kr']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['utf-16be']
                        $value: #StringExpr['utf-16be']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['utf-16']
                        $value: #StringExpr['utf-16le']
                     ]
                     $hash: #Hash[
                        $key: #StringExpr['utf-16le']
                        $value: #StringExpr['utf-16le']
                     ]
                  ]
               ]
               $statement: #SFuncDecl[
                  $path: #Self['self']
                  $name: #NameExpr['get_encoding']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['label']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #Rescue[
                        $body: #ApplyExpr[
                           $recv: #NameExpr['Encoding']
                           $recv: #NameExpr['find']
                           $param: #List[
                              $expression: #Indexer[
                                 $recv: #NameExpr['WEB_ENCODINGS_']
                                 $index: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #ApplyExpr[
                                          $recv: #ApplyExpr[
                                             $recv: #NameExpr['label']
                                             $recv: #NameExpr['to_str']
                                          ]
                                          $recv: #NameExpr['strip']
                                       ]
                                       $recv: #NameExpr['downcase']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $rescue: #Nil['nil']
                     ]
                  ]
               ]
            ]
         ]
      ]
      $statement: #Module[
         $name: #NameExpr['Kernel']
         $body: #BlockExpr[
            $main: #List[
               $statement: #FuncDecl[
                  $name: #NameExpr['URI']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['uri']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #IfExpr[
                        $cond: #ApplyExpr[
                           $recv: #NameExpr['uri']
                           $recv: #NameExpr['is_a?']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['URI']
                                 $name: #NameExpr['Generic']
                              ]
                           ]
                        ]
                        $then: #NameExpr['uri']
                        $else: #IfExpr[
                           $cond: #AssignExpr[
                              $left: #NameExpr['uri']
                              $right: #ApplyExpr[
                                 $recv: #NameExpr['String']
                                 $recv: #NameExpr['try_convert']
                                 $param: #List[
                                    $expression: #NameExpr['uri']
                                 ]
                              ]
                           ]
                           $then: #ApplyExpr[
                              $recv: #NameExpr['URI']
                              $recv: #NameExpr['parse']
                              $param: #List[
                                 $expression: #NameExpr['uri']
                              ]
                           ]
                           $else: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['raise']
                              $param: #List[
                                 $expression: #NameExpr['ArgumentError']
                                 $expression: #StringExpr['bad argument (expected URI object or URI string)']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #ApplyExpr[
                  #Self['self']
                  $recv: #NameExpr['module_function']
                  $param: #List[
                     $expression: #NameExpr['URI']
                  ]
               ]
            ]
         ]
      ]
   ]
   #Comsumed['comsumed']
]
