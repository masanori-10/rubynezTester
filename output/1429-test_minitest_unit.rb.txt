#Source[
   #List[
      $statement: #ApplyExpr[
         #Self['self']
         $recv: #NameExpr['require']
         $param: #List[
            $expression: #StringExpr['pathname']
         ]
      ]
      $statement: #ApplyExpr[
         #Self['self']
         $recv: #NameExpr['require']
         $param: #List[
            $expression: #StringExpr['minitest/metametameta']
         ]
      ]
      $statement: #Module[
         $name: #NameExpr['MyModule']
         $body: #BlockExpr[
            $main: #Empty['']
         ]
      ]
      $statement: #Class[
         $name: #NameExpr['AnError']
         $super: #NameExpr['StandardError']
         $body: #BlockExpr[
            $main: #ApplyExpr[
               #Self['self']
               $recv: #NameExpr['include']
               $param: #List[
                  $expression: #NameExpr['MyModule']
               ]
            ]
         ]
      ]
      $statement: #Class[
         $name: #NameExpr['ImmutableString']
         $super: #NameExpr['String']
         $body: #BlockExpr[
            $main: #FuncDecl[
               $name: #NameExpr['inspect']
               $param: #List['']
               $body: #BlockExpr[
                  $main: #ApplyExpr[
                     $recv: #ApplyExpr[
                        #Self['self']
                        $recv: #Super['super']
                     ]
                     $recv: #NameExpr['freeze']
                  ]
               ]
            ]
         ]
      ]
      $statement: #Class[
         $name: #NameExpr['TestMiniTestUnit']
         $super: #NameExpr['MetaMetaMetaTestCase']
         $body: #BlockExpr[
            $main: #List[
               $statement: #AssignExpr[
                  $left: #NameExpr['pwd']
                  $right: #ApplyExpr[
                     $base: #NameExpr['Pathname']
                     $recv: #NameExpr['new']
                     $param: #List[
                        $command: #ApplyExpr[
                           $base: #NameExpr['File']
                           $recv: #NameExpr['expand_path']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Dir']
                                 $recv: #NameExpr['pwd']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #AssignExpr[
                  $left: #NameExpr['basedir']
                  $right: #AddExpr[
                     $left: #ApplyExpr[
                        $recv: #NameExpr['Pathname']
                        $recv: #NameExpr['new']
                        $param: #List[
                           $command: #ApplyExpr[
                              $base: #NameExpr['File']
                              $recv: #NameExpr['expand_path']
                              $param: #List[
                                 $expression: #StringExpr['lib/minitest']
                              ]
                           ]
                        ]
                     ]
                     $right: #StringExpr['mini']
                  ]
               ]
               $statement: #AssignExpr[
                  $left: #NameExpr['basedir']
                  $right: #ApplyExpr[
                     $recv: #ApplyExpr[
                        $recv: #NameExpr['basedir']
                        $recv: #NameExpr['relative_path_from']
                        $param: #List[
                           $expression: #NameExpr['pwd']
                        ]
                     ]
                     $recv: #NameExpr['to_s']
                  ]
               ]
               $statement: #AssignExpr[
                  $left: #NameExpr['MINITEST_BASE_DIR']
                  $right: #Conditional[
                     $cond: #Indexer[
                        $recv: #NameExpr['basedir']
                        $index: #List[
                           $expression: #Regex['/\\A\\./']
                        ]
                     ]
                     $then: #NameExpr['basedir']
                     $else: #StringExpr[
                        $inner: #NameExpr['basedir']
                     ]
                  ]
               ]
               $statement: #AssignExpr[
                  $left: #NameExpr['BT_MIDDLE']
                  $right: #Array[
                     $index: #List[
                        $expression: #StringExpr[
                           $inner: #NameExpr['MINITEST_BASE_DIR']
                        ]
                        $expression: #StringExpr[
                           $inner: #NameExpr['MINITEST_BASE_DIR']
                        ]
                        $expression: #StringExpr[
                           $inner: #NameExpr['MINITEST_BASE_DIR']
                        ]
                        $expression: #StringExpr[
                           $inner: #NameExpr['MINITEST_BASE_DIR']
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_class_puke_with_assertion_failed']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['exception']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['MiniTest']
                                 $name: #NameExpr['Assertion']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Oh no!']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['exception']
                           $recv: #NameExpr['set_backtrace']
                           $param: #List[
                              $expression: #Array[
                                 $index: #List[
                                    $expression: #StringExpr['unhappy']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['F']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@tu']
                                 $recv: #NameExpr['puke']
                                 $param: #List[
                                    $expression: #StringExpr['SomeClass']
                                    $expression: #StringExpr['method_name']
                                    $expression: #NameExpr['exception']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@tu']
                                 $recv: #NameExpr['failures']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_match']
                           $param: #List[
                              $expression: #Regex['/^Failure.*Oh no!/m']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@tu']
                                    $recv: #NameExpr['report']
                                 ]
                                 $recv: #NameExpr['first']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_match']
                           $param: #List[
                              $expression: #StringExpr['SomeClass#method_name [unhappy]']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@tu']
                                    $recv: #NameExpr['report']
                                 ]
                                 $recv: #NameExpr['first']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_class_puke_with_assertion_failed_and_long_backtrace']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['bt']
                           $right: #AddExpr[
                              $left: #AddExpr[
                                 $left: #Array[
                                    $index: #List[
                                       $expression: #StringExpr['test/test_some_class.rb:615:in `method_name\'']
                                       $expression: #StringExpr[
                                          $inner: #NameExpr['MINITEST_BASE_DIR']
                                       ]
                                       $expression: #StringExpr['test/test_some_class.rb:615:in `each\'']
                                       $expression: #StringExpr['test/test_some_class.rb:614:in `test_method_name\'']
                                       $expression: #StringExpr[
                                          $inner: #NameExpr['MINITEST_BASE_DIR']
                                       ]
                                    ]
                                 ]
                                 $right: #NameExpr['BT_MIDDLE']
                              ]
                              $right: #Array[
                                 $index: #List[
                                    $expression: #StringExpr[
                                       $inner: #NameExpr['MINITEST_BASE_DIR']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['bt']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['util_expand_bt']
                              $param: #List[
                                 $expression: #NameExpr['bt']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['ex_location']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['util_expand_bt']
                                 $param: #List[
                                    $expression: #Array[
                                       $index: #List[
                                          $expression: #StringExpr['test/test_some_class.rb:615']
                                       ]
                                    ]
                                 ]
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['exception']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['MiniTest']
                                 $name: #NameExpr['Assertion']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Oh no!']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['exception']
                           $recv: #NameExpr['set_backtrace']
                           $param: #List[
                              $expression: #NameExpr['bt']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['F']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@tu']
                                 $recv: #NameExpr['puke']
                                 $param: #List[
                                    $expression: #StringExpr['TestSomeClass']
                                    $expression: #StringExpr['test_method_name']
                                    $expression: #NameExpr['exception']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@tu']
                                 $recv: #NameExpr['failures']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_match']
                           $param: #List[
                              $expression: #Regex['/^Failure.*Oh no!/m']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@tu']
                                    $recv: #NameExpr['report']
                                 ]
                                 $recv: #NameExpr['first']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_match']
                           $param: #List[
                              $expression: #StringExpr[
                                 $inner: #NameExpr['ex_location']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@tu']
                                    $recv: #NameExpr['report']
                                 ]
                                 $recv: #NameExpr['first']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_class_puke_with_assertion_failed_and_user_defined_assertions']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['bt']
                           $right: #AddExpr[
                              $left: #AddExpr[
                                 $left: #Array[
                                    $index: #List[
                                       $expression: #StringExpr['lib/test/my/util.rb:16:in `another_method_name\'']
                                       $expression: #StringExpr[
                                          $inner: #NameExpr['MINITEST_BASE_DIR']
                                       ]
                                       $expression: #StringExpr['lib/test/my/util.rb:15:in `block in assert_something\'']
                                       $expression: #StringExpr['lib/test/my/util.rb:14:in `each\'']
                                       $expression: #StringExpr['lib/test/my/util.rb:14:in `assert_something\'']
                                       $expression: #StringExpr['test/test_some_class.rb:615:in `each\'']
                                       $expression: #StringExpr['test/test_some_class.rb:614:in `test_method_name\'']
                                       $expression: #StringExpr[
                                          $inner: #NameExpr['MINITEST_BASE_DIR']
                                       ]
                                    ]
                                 ]
                                 $right: #NameExpr['BT_MIDDLE']
                              ]
                              $right: #Array[
                                 $index: #List[
                                    $expression: #StringExpr[
                                       $inner: #NameExpr['MINITEST_BASE_DIR']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['bt']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['util_expand_bt']
                              $param: #List[
                                 $expression: #NameExpr['bt']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['ex_location']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['util_expand_bt']
                                 $param: #List[
                                    $expression: #Array[
                                       $index: #List[
                                          $expression: #StringExpr['test/test_some_class.rb:615']
                                       ]
                                    ]
                                 ]
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['exception']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['MiniTest']
                                 $name: #NameExpr['Assertion']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Oh no!']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['exception']
                           $recv: #NameExpr['set_backtrace']
                           $param: #List[
                              $expression: #NameExpr['bt']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['F']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@tu']
                                 $recv: #NameExpr['puke']
                                 $param: #List[
                                    $expression: #StringExpr['TestSomeClass']
                                    $expression: #StringExpr['test_method_name']
                                    $expression: #NameExpr['exception']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@tu']
                                 $recv: #NameExpr['failures']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_match']
                           $param: #List[
                              $expression: #Regex['/^Failure.*Oh no!/m']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@tu']
                                    $recv: #NameExpr['report']
                                 ]
                                 $recv: #NameExpr['first']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_match']
                           $param: #List[
                              $expression: #StringExpr[
                                 $inner: #NameExpr['ex_location']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@tu']
                                    $recv: #NameExpr['report']
                                 ]
                                 $recv: #NameExpr['first']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_class_puke_with_failure_and_flunk_in_backtrace']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['exception']
                           $right: #ExceptionBlock[
                              $main: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #Field[
                                       $recv: #Field[
                                          $recv: #NameExpr['MiniTest']
                                          $name: #NameExpr['Unit']
                                       ]
                                       $name: #NameExpr['TestCase']
                                    ]
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #StringExpr['fake tc']
                                    ]
                                 ]
                                 $recv: #NameExpr['flunk']
                              ]
                              $rescue: #List[
                                 $rescue: #Rescue[
                                    $class: #Field[
                                       $recv: #NameExpr['MiniTest']
                                       $name: #NameExpr['Assertion']
                                    ]
                                    $target: #NameExpr['failure']
                                    $then: #NameExpr['failure']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['F']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@tu']
                                 $recv: #NameExpr['puke']
                                 $param: #List[
                                    $expression: #StringExpr['SomeClass']
                                    $expression: #StringExpr['method_name']
                                    $expression: #NameExpr['exception']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['refute']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@tu']
                                    $recv: #NameExpr['report']
                                 ]
                                 $recv: #NameExpr['any?']
                                 $body: #Block[
                                    $param: #NameExpr['line']
                                    $body: #AssignExpr[
                                       $left: #NameExpr['line']
                                       $right: #ComplExpr[
                                          $expr: #Regex['/in .flunk/']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_class_puke_with_flunk_and_user_defined_assertions']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['bt']
                           $right: #AddExpr[
                              $left: #AddExpr[
                                 $left: #Array[
                                    $index: #List[
                                       $expression: #StringExpr['lib/test/my/util.rb:16:in `flunk\'']
                                       $expression: #StringExpr[
                                          $inner: #NameExpr['MINITEST_BASE_DIR']
                                       ]
                                       $expression: #StringExpr['lib/test/my/util.rb:15:in `block in assert_something\'']
                                       $expression: #StringExpr['lib/test/my/util.rb:14:in `each\'']
                                       $expression: #StringExpr['lib/test/my/util.rb:14:in `assert_something\'']
                                       $expression: #StringExpr['test/test_some_class.rb:615:in `each\'']
                                       $expression: #StringExpr['test/test_some_class.rb:614:in `test_method_name\'']
                                       $expression: #StringExpr[
                                          $inner: #NameExpr['MINITEST_BASE_DIR']
                                       ]
                                    ]
                                 ]
                                 $right: #NameExpr['BT_MIDDLE']
                              ]
                              $right: #Array[
                                 $index: #List[
                                    $expression: #StringExpr[
                                       $inner: #NameExpr['MINITEST_BASE_DIR']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['bt']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['util_expand_bt']
                              $param: #List[
                                 $expression: #NameExpr['bt']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['ex_location']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['util_expand_bt']
                                 $param: #List[
                                    $expression: #Array[
                                       $index: #List[
                                          $expression: #StringExpr['test/test_some_class.rb:615']
                                       ]
                                    ]
                                 ]
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['exception']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['MiniTest']
                                 $name: #NameExpr['Assertion']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Oh no!']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['exception']
                           $recv: #NameExpr['set_backtrace']
                           $param: #List[
                              $expression: #NameExpr['bt']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['F']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@tu']
                                 $recv: #NameExpr['puke']
                                 $param: #List[
                                    $expression: #StringExpr['TestSomeClass']
                                    $expression: #StringExpr['test_method_name']
                                    $expression: #NameExpr['exception']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@tu']
                                 $recv: #NameExpr['failures']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_match']
                           $param: #List[
                              $expression: #Regex['/^Failure.*Oh no!/m']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@tu']
                                    $recv: #NameExpr['report']
                                 ]
                                 $recv: #NameExpr['first']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_match']
                           $param: #List[
                              $expression: #StringExpr[
                                 $inner: #NameExpr['ex_location']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@tu']
                                    $recv: #NameExpr['report']
                                 ]
                                 $recv: #NameExpr['first']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_class_puke_with_non_failure_exception']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['exception']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Exception']
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Oh no again!']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['E']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@tu']
                                 $recv: #NameExpr['puke']
                                 $param: #List[
                                    $expression: #StringExpr['SomeClass']
                                    $expression: #StringExpr['method_name']
                                    $expression: #NameExpr['exception']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@tu']
                                 $recv: #NameExpr['errors']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_match']
                           $param: #List[
                              $expression: #Regex['/^Exception.*Oh no again!/m']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@tu']
                                    $recv: #NameExpr['report']
                                 ]
                                 $recv: #NameExpr['first']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_filter_backtrace']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['bt']
                           $right: #AddExpr[
                              $left: #AddExpr[
                                 $left: #Array[
                                    $index: #List[
                                       $expression: #StringExpr['lib/autotest.rb:571:in `add_exception\'']
                                       $expression: #StringExpr['test/test_autotest.rb:62:in `test_add_exception\'']
                                       $expression: #StringExpr[
                                          $inner: #NameExpr['MINITEST_BASE_DIR']
                                       ]
                                    ]
                                 ]
                                 $right: #NameExpr['BT_MIDDLE']
                              ]
                              $right: #Array[
                                 $index: #List[
                                    $expression: #StringExpr[
                                       $inner: #NameExpr['MINITEST_BASE_DIR']
                                    ]
                                    $expression: #StringExpr['test/test_autotest.rb:422']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['bt']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['util_expand_bt']
                              $param: #List[
                                 $expression: #NameExpr['bt']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['ex']
                           $right: #Array[
                              $index: #List[
                                 $expression: #StringExpr['lib/autotest.rb:571:in `add_exception\'']
                                 $expression: #StringExpr['test/test_autotest.rb:62:in `test_add_exception\'']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['ex']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['util_expand_bt']
                              $param: #List[
                                 $expression: #NameExpr['ex']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['fu']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['MiniTest']
                              $recv: #NameExpr['filter_backtrace']
                              $param: #List[
                                 $expression: #NameExpr['bt']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['ex']
                              $expression: #NameExpr['fu']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_filter_backtrace_all_unit']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['bt']
                           $right: #AddExpr[
                              $left: #AddExpr[
                                 $left: #Array[
                                    $index: #List[
                                       $expression: #StringExpr[
                                          $inner: #NameExpr['MINITEST_BASE_DIR']
                                       ]
                                    ]
                                 ]
                                 $right: #NameExpr['BT_MIDDLE']
                              ]
                              $right: #Array[
                                 $index: #List[
                                    $expression: #StringExpr[
                                       $inner: #NameExpr['MINITEST_BASE_DIR']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['ex']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['bt']
                              $recv: #NameExpr['clone']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['fu']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['MiniTest']
                              $recv: #NameExpr['filter_backtrace']
                              $param: #List[
                                 $expression: #NameExpr['bt']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['ex']
                              $expression: #NameExpr['fu']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_filter_backtrace_unit_starts']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['bt']
                           $right: #AddExpr[
                              $left: #AddExpr[
                                 $left: #Array[
                                    $index: #List[
                                       $expression: #StringExpr[
                                          $inner: #NameExpr['MINITEST_BASE_DIR']
                                       ]
                                    ]
                                 ]
                                 $right: #NameExpr['BT_MIDDLE']
                              ]
                              $right: #Array[
                                 $index: #List[
                                    $expression: #StringExpr[
                                       $inner: #NameExpr['MINITEST_BASE_DIR']
                                    ]
                                    $expression: #StringExpr['-e:1']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['bt']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['util_expand_bt']
                              $param: #List[
                                 $expression: #NameExpr['bt']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['ex']
                           $right: #Array[
                              $index: #List[
                                 $expression: #StringExpr['-e:1']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['fu']
                           $right: #ApplyExpr[
                              $base: #NameExpr['MiniTest']
                              $recv: #NameExpr['filter_backtrace']
                              $param: #List[
                                 $expression: #NameExpr['bt']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['ex']
                              $expression: #NameExpr['fu']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_default_runner_is_minitest_unit']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['assert_instance_of']
                        $param: #List[
                           $expression: #Field[
                              $recv: #NameExpr['MiniTest']
                              $name: #NameExpr['Unit']
                           ]
                           $expression: #ApplyExpr[
                              $recv: #Field[
                                 $recv: #NameExpr['MiniTest']
                                 $name: #NameExpr['Unit']
                              ]
                              $recv: #NameExpr['runner']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_passed_eh_teardown_good']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['test_class']
                           $right: #ApplyExpr[
                              $base: #NameExpr['Class']
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['MiniTest']
                                       $name: #NameExpr['Unit']
                                    ]
                                    $name: #NameExpr['TestCase']
                                 ]
                              ]
                              $body: #Block[
                                 $body: #List[
                                    $statement: #FuncDecl[
                                       $name: #NameExpr['teardown']
                                       $param: #List['']
                                       $body: #BlockExpr[
                                          $main: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['assert']
                                             $param: #List[
                                                $expression: #TrueExpr['true']
                                             ]
                                          ]
                                       ]
                                    ]
                                    $statement: #FuncDecl[
                                       $name: #NameExpr['test_omg']
                                       $param: #List['']
                                       $body: #BlockExpr[
                                          $main: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['assert']
                                             $param: #List[
                                                $expression: #TrueExpr['true']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['test']
                           $right: #ApplyExpr[
                              $base: #NameExpr['test_class']
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #NameExpr['test_omg']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['test']
                           $recv: #NameExpr['run']
                           $param: #List[
                              $expression: #NameExpr['@tu']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['test']
                                 $recv: #NameExpr['passed?']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_passed_eh_teardown_skipped']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['test_class']
                           $right: #ApplyExpr[
                              $base: #NameExpr['Class']
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['MiniTest']
                                       $name: #NameExpr['Unit']
                                    ]
                                    $name: #NameExpr['TestCase']
                                 ]
                              ]
                              $body: #Block[
                                 $body: #List[
                                    $statement: #FuncDecl[
                                       $name: #NameExpr['teardown']
                                       $param: #List['']
                                       $body: #BlockExpr[
                                          $main: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['assert']
                                             $param: #List[
                                                $expression: #TrueExpr['true']
                                             ]
                                          ]
                                       ]
                                    ]
                                    $statement: #FuncDecl[
                                       $name: #NameExpr['test_omg']
                                       $param: #List['']
                                       $body: #BlockExpr[
                                          $main: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['skip']
                                             $param: #List[
                                                $expression: #StringExpr['bork']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['test']
                           $right: #ApplyExpr[
                              $base: #NameExpr['test_class']
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #NameExpr['test_omg']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['test']
                           $recv: #NameExpr['run']
                           $param: #List[
                              $expression: #NameExpr['@tu']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['test']
                                 $recv: #NameExpr['passed?']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_passed_eh_teardown_flunked']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['test_class']
                           $right: #ApplyExpr[
                              $base: #NameExpr['Class']
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['MiniTest']
                                       $name: #NameExpr['Unit']
                                    ]
                                    $name: #NameExpr['TestCase']
                                 ]
                              ]
                              $body: #Block[
                                 $body: #List[
                                    $statement: #FuncDecl[
                                       $name: #NameExpr['teardown']
                                       $param: #List['']
                                       $body: #BlockExpr[
                                          $main: #NameExpr['flunk']
                                       ]
                                    ]
                                    $statement: #FuncDecl[
                                       $name: #NameExpr['test_omg']
                                       $param: #List['']
                                       $body: #BlockExpr[
                                          $main: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['assert']
                                             $param: #List[
                                                $expression: #TrueExpr['true']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['test']
                           $right: #ApplyExpr[
                              $base: #NameExpr['test_class']
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #NameExpr['test_omg']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['test']
                           $recv: #NameExpr['run']
                           $param: #List[
                              $expression: #NameExpr['@tu']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['refute']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['test']
                                 $recv: #NameExpr['passed?']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['util_expand_bt']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['bt']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $recv: #NameExpr['bt']
                        $recv: #NameExpr['map']
                        $body: #Block[
                           $param: #NameExpr['f']
                           $body: #Conditional[
                              $cond: #AssignExpr[
                                 $left: #NameExpr['f']
                                 $right: #ComplExpr[
                                    $expr: #Regex['/^\\./']
                                 ]
                              ]
                              $then: #ApplyExpr[
                                 $recv: #NameExpr['File']
                                 $recv: #NameExpr['expand_path']
                                 $param: #List[
                                    $expression: #NameExpr['f']
                                 ]
                              ]
                              $else: #NameExpr['f']
                           ]
                        ]
                     ]
                  ]
               ]
            ]
         ]
      ]
      $statement: #Class[
         $name: #NameExpr['TestMiniTestUnitInherited']
         $super: #NameExpr['MetaMetaMetaTestCase']
         $body: #BlockExpr[
            $main: #List[
               $statement: #FuncDecl[
                  $name: #NameExpr['with_overridden_include']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['Class']
                           $recv: #NameExpr['class_eval']
                           $body: #Block[
                              $body: #List[
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['inherited_with_hacks']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['klass']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['throw']
                                          $param: #List[
                                             $expression: #NameExpr['inherited_hook']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #Alias[
                                    $newname: #NameExpr['inherited_without_hacks']
                                    $target: #NameExpr['inherited']
                                 ]
                                 $statement: #Alias[
                                    $newname: #NameExpr['inherited']
                                    $target: #NameExpr['inherited_with_hacks']
                                 ]
                                 $statement: #Alias[
                                    $newname: #NameExpr['IGNORE_ME!']
                                    $target: #NameExpr['inherited']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #Yield['yield']
                     ]
                     $ensure: #List[
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['Class']
                           $recv: #NameExpr['class_eval']
                           $body: #Block[
                              $body: #List[
                                 $statement: #Alias[
                                    $newname: #NameExpr['inherited']
                                    $target: #NameExpr['inherited_without_hacks']
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['undef_method']
                                    $param: #List[
                                       $expression: #NameExpr['inherited_with_hacks']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['undef_method']
                                    $param: #List[
                                       $expression: #NameExpr['inherited_without_hacks']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['refute_respond_to']
                           $param: #List[
                              $expression: #NameExpr['Class']
                              $expression: #NameExpr['inherited_with_hacks']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['refute_respond_to']
                           $param: #List[
                              $expression: #NameExpr['Class']
                              $expression: #NameExpr['inherited_without_hacks']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_inherited_hook_plays_nice_with_others']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['with_overridden_include']
                        $body: #Block[
                           $body: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['assert_throws']
                              $param: #List[
                                 $expression: #NameExpr['inherited_hook']
                              ]
                              $body: #Block[
                                 $body: #ApplyExpr[
                                    $base: #NameExpr['Class']
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #Field[
                                          $recv: #Field[
                                             $recv: #NameExpr['MiniTest']
                                             $name: #NameExpr['Unit']
                                          ]
                                          $name: #NameExpr['TestCase']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
            ]
         ]
      ]
      $statement: #Class[
         $name: #NameExpr['TestMiniTestRunner']
         $super: #NameExpr['MetaMetaMetaTestCase']
         $body: #BlockExpr[
            $main: #List[
               $statement: #FuncDecl[
                  $name: #NameExpr['test_class_test_suites']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['0']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tc']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Class']
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['MiniTest']
                                       $name: #NameExpr['Unit']
                                    ]
                                    $name: #NameExpr['TestCase']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #Field[
                                       $recv: #Field[
                                          $recv: #NameExpr['MiniTest']
                                          $name: #NameExpr['Unit']
                                       ]
                                       $name: #NameExpr['TestCase']
                                    ]
                                    $recv: #NameExpr['test_suites']
                                 ]
                                 $recv: #NameExpr['size']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Array[
                                 $index: #List[
                                    $expression: #NameExpr['tc']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['MiniTest']
                                       $name: #NameExpr['Unit']
                                    ]
                                    $name: #NameExpr['TestCase']
                                 ]
                                 $recv: #NameExpr['test_suites']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_run_test']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           $base: #NameExpr['Class']
                           $recv: #NameExpr['new']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #NameExpr['MiniTest']
                                    $name: #NameExpr['Unit']
                                 ]
                                 $name: #NameExpr['TestCase']
                              ]
                           ]
                           $body: #Block[
                              $body: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['attr_reader']
                                    $param: #List[
                                       $expression: #NameExpr['foo']
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['run_test']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['name']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['@foo']
                                             $right: #StringExpr['hi mom!']
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #Super['super']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['@foo']
                                             $right: #StringExpr['okay']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['test_something']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['assert_equal']
                                          $param: #List[
                                             $expression: #StringExpr['hi mom!']
                                             $expression: #NameExpr['foo']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['clean']
                              $param: #List[
                                 $expression: #HereDocument['      .\n\n      Finished tests in 0.00\n\n      1 tests, 1 assertions, 0 failures, 0 errors, 0 skips\n']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_report']
                           $param: #List[
                              $expression: #NameExpr['expected']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_run_error']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           $base: #NameExpr['Class']
                           $recv: #NameExpr['new']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #NameExpr['MiniTest']
                                    $name: #NameExpr['Unit']
                                 ]
                                 $name: #NameExpr['TestCase']
                              ]
                           ]
                           $body: #Block[
                              $body: #List[
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['test_something']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['assert']
                                          $param: #List[
                                             $expression: #TrueExpr['true']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['test_error']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['raise']
                                          $param: #List[
                                             $expression: #StringExpr['unhandled exception']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['clean']
                              $param: #List[
                                 $expression: #HereDocument['      E.\n\n      Finished tests in 0.00\n\n        1) Error:\n      #<Class:0xXXX>#test_error:\n      RuntimeError: unhandled exception\n          FILE:LINE:in \\`test_error\\\'\n\n      2 tests, 1 assertions, 0 failures, 1 errors, 0 skips\n']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_report']
                           $param: #List[
                              $expression: #NameExpr['expected']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_run_error_teardown']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           $base: #NameExpr['Class']
                           $recv: #NameExpr['new']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #NameExpr['MiniTest']
                                    $name: #NameExpr['Unit']
                                 ]
                                 $name: #NameExpr['TestCase']
                              ]
                           ]
                           $body: #Block[
                              $body: #List[
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['test_something']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['assert']
                                          $param: #List[
                                             $expression: #TrueExpr['true']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['teardown']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['raise']
                                          $param: #List[
                                             $expression: #StringExpr['unhandled exception']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['clean']
                              $param: #List[
                                 $expression: #HereDocument['      E\n\n      Finished tests in 0.00\n\n        1) Error:\n      #<Class:0xXXX>#test_something:\n      RuntimeError: unhandled exception\n          FILE:LINE:in \\`teardown\\\'\n\n      1 tests, 1 assertions, 0 failures, 1 errors, 0 skips\n']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_report']
                           $param: #List[
                              $expression: #NameExpr['expected']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_run_failing']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           $base: #NameExpr['Class']
                           $recv: #NameExpr['new']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #NameExpr['MiniTest']
                                    $name: #NameExpr['Unit']
                                 ]
                                 $name: #NameExpr['TestCase']
                              ]
                           ]
                           $body: #Block[
                              $body: #List[
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['test_something']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['assert']
                                          $param: #List[
                                             $expression: #TrueExpr['true']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['test_failure']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['assert']
                                          $param: #List[
                                             $expression: #FalseExpr['false']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['clean']
                              $param: #List[
                                 $expression: #HereDocument['      F.\n\n      Finished tests in 0.00\n\n        1) Failure:\n      #<Class:0xXXX>#test_failure [FILE:LINE]:\n      Failed assertion, no message given.\n\n      2 tests, 2 assertions, 1 failures, 0 errors, 0 skips\n']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_report']
                           $param: #List[
                              $expression: #NameExpr['expected']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_run_failing_filtered']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           $base: #NameExpr['Class']
                           $recv: #NameExpr['new']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #NameExpr['MiniTest']
                                    $name: #NameExpr['Unit']
                                 ]
                                 $name: #NameExpr['TestCase']
                              ]
                           ]
                           $body: #Block[
                              $body: #List[
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['test_something']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['assert']
                                          $param: #List[
                                             $expression: #TrueExpr['true']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['test_failure']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['assert']
                                          $param: #List[
                                             $expression: #FalseExpr['false']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['clean']
                              $param: #List[
                                 $expression: #HereDocument['      .\n\n      Finished tests in 0.00\n\n      1 tests, 1 assertions, 0 failures, 0 errors, 0 skips\n']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_report']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #ParcentNotation['%w[--name /some|thing/ --seed 42]']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['assert_filtering']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['name']
                     ]
                     $param: #Param[
                        $param: #NameExpr['expected']
                     ]
                     $param: #OptionalParam[
                        $name: #NameExpr['a']
                        $default: #FalseExpr['false']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['args']
                           $right: #ParcentNotation['%W[--name #{name} --seed 42]']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['alpha']
                           $right: #ApplyExpr[
                              $base: #NameExpr['Class']
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['MiniTest']
                                       $name: #NameExpr['Unit']
                                    ]
                                    $name: #NameExpr['TestCase']
                                 ]
                              ]
                              $body: #Block[
                                 $body: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['define_method']
                                    $param: #List[
                                       $expression: #NameExpr['test_something']
                                    ]
                                    $body: #Block[
                                       $body: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['assert']
                                          $param: #List[
                                             $expression: #NameExpr['a']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['Object']
                           $recv: #NameExpr['const_set']
                           $param: #List[
                              $expression: #NameExpr['Alpha']
                              $expression: #NameExpr['alpha']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['beta']
                           $right: #ApplyExpr[
                              $base: #NameExpr['Class']
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['MiniTest']
                                       $name: #NameExpr['Unit']
                                    ]
                                    $name: #NameExpr['TestCase']
                                 ]
                              ]
                              $body: #Block[
                                 $body: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['define_method']
                                    $param: #List[
                                       $expression: #NameExpr['test_something']
                                    ]
                                    $body: #Block[
                                       $body: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['assert']
                                          $param: #List[
                                             $expression: #TrueExpr['true']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['Object']
                           $recv: #NameExpr['const_set']
                           $param: #List[
                              $expression: #NameExpr['Beta']
                              $expression: #NameExpr['beta']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_report']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['args']
                           ]
                        ]
                     ]
                     $ensure: #List[
                        $statement: #ApplyExpr[
                           $base: #NameExpr['Object']
                           $recv: #NameExpr['send']
                           $param: #List[
                              $expression: #NameExpr['remove_const']
                              $expression: #NameExpr['Alpha']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['Object']
                           $recv: #NameExpr['send']
                           $param: #List[
                              $expression: #NameExpr['remove_const']
                              $expression: #NameExpr['Beta']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_run_filtered_including_suite_name']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['clean']
                              $param: #List[
                                 $expression: #HereDocument['      .\n\n      Finished tests in 0.00\n\n      1 tests, 1 assertions, 0 failures, 0 errors, 0 skips\n']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_filtering']
                           $param: #List[
                              $expression: #StringExpr['/Beta#test_something/']
                              $expression: #NameExpr['expected']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_run_filtered_including_suite_name_string']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['clean']
                              $param: #List[
                                 $expression: #HereDocument['      .\n\n      Finished tests in 0.00\n\n      1 tests, 1 assertions, 0 failures, 0 errors, 0 skips\n']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_filtering']
                           $param: #List[
                              $expression: #StringExpr['Beta#test_something']
                              $expression: #NameExpr['expected']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_run_filtered_string_method_only']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['clean']
                              $param: #List[
                                 $expression: #HereDocument['      ..\n\n      Finished tests in 0.00\n\n      2 tests, 2 assertions, 0 failures, 0 errors, 0 skips\n']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_filtering']
                           $param: #List[
                              $expression: #StringExpr['test_something']
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['pass']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_run_passing']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           $base: #NameExpr['Class']
                           $recv: #NameExpr['new']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #NameExpr['MiniTest']
                                    $name: #NameExpr['Unit']
                                 ]
                                 $name: #NameExpr['TestCase']
                              ]
                           ]
                           $body: #Block[
                              $body: #FuncDecl[
                                 $name: #NameExpr['test_something']
                                 $param: #List['']
                                 $body: #BlockExpr[
                                    $main: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['assert']
                                       $param: #List[
                                          $expression: #TrueExpr['true']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['clean']
                              $param: #List[
                                 $expression: #HereDocument['      .\n\n      Finished tests in 0.00\n\n      1 tests, 1 assertions, 0 failures, 0 errors, 0 skips\n']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_report']
                           $param: #List[
                              $expression: #NameExpr['expected']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_run_skip']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           $base: #NameExpr['Class']
                           $recv: #NameExpr['new']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #NameExpr['MiniTest']
                                    $name: #NameExpr['Unit']
                                 ]
                                 $name: #NameExpr['TestCase']
                              ]
                           ]
                           $body: #Block[
                              $body: #List[
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['test_something']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['assert']
                                          $param: #List[
                                             $expression: #TrueExpr['true']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['test_skip']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['skip']
                                          $param: #List[
                                             $expression: #StringExpr['not yet']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['clean']
                              $param: #List[
                                 $expression: #HereDocument['      S.\n\n      Finished tests in 0.00\n\n      2 tests, 1 assertions, 0 failures, 0 errors, 1 skips\n']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_report']
                           $param: #List[
                              $expression: #NameExpr['expected']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_run_skip_verbose']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           $base: #NameExpr['Class']
                           $recv: #NameExpr['new']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #NameExpr['MiniTest']
                                    $name: #NameExpr['Unit']
                                 ]
                                 $name: #NameExpr['TestCase']
                              ]
                           ]
                           $body: #Block[
                              $body: #List[
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['test_something']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['assert']
                                          $param: #List[
                                             $expression: #TrueExpr['true']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['test_skip']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['skip']
                                          $param: #List[
                                             $expression: #StringExpr['not yet']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['clean']
                              $param: #List[
                                 $expression: #HereDocument['      #<Class:0xXXX>#test_skip = 0.00 s = S\n      #<Class:0xXXX>#test_something = 0.00 s = .\n\n\n      Finished tests in 0.00\n\n        1) Skipped:\n      #<Class:0xXXX>#test_skip [FILE:LINE]:\n      not yet\n\n      2 tests, 1 assertions, 0 failures, 0 errors, 1 skips\n']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_report']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #ParcentNotation['%w[--seed 42 --verbose]']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_run_with_other_runner']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #Field[
                                 $recv: #NameExpr['MiniTest']
                                 $name: #NameExpr['Unit']
                              ]
                              $name: #NameExpr['runner']
                           ]
                           $right: #ApplyExpr[
                              $base: #ApplyExpr[
                                 $base: #NameExpr['Class']
                                 $recv: #NameExpr['new']
                                 $param: #List[
                                    $expression: #Field[
                                       $recv: #NameExpr['MiniTest']
                                       $name: #NameExpr['Unit']
                                    ]
                                 ]
                                 $body: #Block[
                                    $body: #FuncDecl[
                                       $name: #NameExpr['_run_suite']
                                       $param: #List[
                                          $param: #Param[
                                             $param: #NameExpr['suite']
                                          ]
                                          $param: #Param[
                                             $param: #NameExpr['type']
                                          ]
                                       ]
                                       $body: #BlockExpr[
                                          $main: #List[
                                             $statement: #ApplyExpr[
                                                $recv: #NameExpr['suite']
                                                $recv: #NameExpr['before_suite']
                                             ]
                                             $statement: #Super[
                                                $param: #List[
                                                   $expression: #NameExpr['suite']
                                                   $expression: #NameExpr['type']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $recv: #NameExpr['new']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['Class']
                           $recv: #NameExpr['new']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #NameExpr['MiniTest']
                                    $name: #NameExpr['Unit']
                                 ]
                                 $name: #NameExpr['TestCase']
                              ]
                           ]
                           $body: #Block[
                              $body: #List[
                                 $statement: #SFuncDecl[
                                    $path: #Self['self']
                                    $name: #NameExpr['name']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #StringExpr['wacky!']
                                    ]
                                 ]
                                 $statement: #SFuncDecl[
                                    $path: #Self['self']
                                    $name: #NameExpr['before_suite']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #ApplyExpr[
                                             $base: #ApplyExpr[
                                                $recv: #Field[
                                                   $recv: #NameExpr['MiniTest']
                                                   $name: #NameExpr['Unit']
                                                ]
                                                $recv: #NameExpr['output']
                                             ]
                                             $recv: #NameExpr['puts']
                                             $param: #List[
                                                $expression: #StringExpr[
                                                   $inner: #ApplyExpr[
                                                      $recv: #Self['self']
                                                      $recv: #NameExpr['name']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['@@foo']
                                             $right: #IntExpr['1']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['test_something']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['assert_equal']
                                          $param: #List[
                                             $expression: #IntExpr['1']
                                             $expression: #NameExpr['@@foo']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['test_something_else']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['assert_equal']
                                          $param: #List[
                                             $expression: #IntExpr['1']
                                             $expression: #NameExpr['@@foo']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['clean']
                              $param: #List[
                                 $expression: #HereDocument['      Running wacky! tests\n      ..\n\n      Finished tests in 0.00\n\n      2 tests, 2 assertions, 0 failures, 0 errors, 0 skips\n']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_report']
                           $param: #List[
                              $expression: #NameExpr['expected']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #ApplyExpr[
                  #Self['self']
                  $recv: #NameExpr['require']
                  $param: #List[
                     $expression: #StringExpr['monitor']
                  ]
               ]
               $statement: #Class[
                  $name: #NameExpr['Latch']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #FuncDecl[
                           $name: #NameExpr['initialize']
                           $param: #List[
                              $param: #OptionalParam[
                                 $name: #NameExpr['count']
                                 $default: #IntExpr['1']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@count']
                                    $right: #NameExpr['count']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@lock']
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['Monitor']
                                       $recv: #NameExpr['new']
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@cv']
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['@lock']
                                       $recv: #NameExpr['new_cond']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['release']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #ApplyExpr[
                                 $recv: #NameExpr['@lock']
                                 $recv: #NameExpr['synchronize']
                                 $body: #Block[
                                    $body: #List[
                                       $statement: #IfExpr[
                                          $then: #SubAssign[
                                             $left: #NameExpr['@count']
                                             $right: #IntExpr['1']
                                          ]
                                          $cond: #GtExpr[
                                             $left: #NameExpr['@count']
                                             $right: #IntExpr['0']
                                          ]
                                       ]
                                       $statement: #IfExpr[
                                          $then: #ApplyExpr[
                                             $recv: #NameExpr['@cv']
                                             $recv: #NameExpr['broadcast']
                                          ]
                                          $cond: #EqExpr[
                                             $left: #NameExpr['@count']
                                             $right: #IntExpr['0']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['await']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #ApplyExpr[
                                 $recv: #NameExpr['@lock']
                                 $recv: #NameExpr['synchronize']
                                 $body: #Block[
                                    $body: #ApplyExpr[
                                       $recv: #NameExpr['@cv']
                                       $recv: #NameExpr['wait_while']
                                       $body: #Block[
                                          $body: #GtExpr[
                                             $left: #NameExpr['@count']
                                             $right: #IntExpr['0']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
            ]
         ]
      ]
      $statement: #Class[
         $name: #NameExpr['TestMiniTestUnitOrder']
         $super: #NameExpr['MetaMetaMetaTestCase']
         $body: #BlockExpr[
            $main: #List[
               $statement: #FuncDecl[
                  $name: #NameExpr['test_before_setup']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['call_order']
                           $right: #Array['[]']
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['Class']
                           $recv: #NameExpr['new']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #NameExpr['MiniTest']
                                    $name: #NameExpr['Unit']
                                 ]
                                 $name: #NameExpr['TestCase']
                              ]
                           ]
                           $body: #Block[
                              $body: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['define_method']
                                    $param: #List[
                                       $expression: #NameExpr['setup']
                                    ]
                                    $body: #Block[
                                       $body: #List[
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #Super['super']
                                             $param: #Empty['']
                                          ]
                                          $statement: #LShiftExpr[
                                             $left: #NameExpr['call_order']
                                             $right: #NameExpr['setup']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['define_method']
                                    $param: #List[
                                       $expression: #NameExpr['before_setup']
                                    ]
                                    $body: #Block[
                                       $body: #LShiftExpr[
                                          $left: #NameExpr['call_order']
                                          $right: #NameExpr['before_setup']
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['test_omg']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['assert']
                                          $param: #List[
                                             $expression: #TrueExpr['true']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['with_output']
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $base: #NameExpr['@tu']
                                 $recv: #NameExpr['run']
                                 $param: #List[
                                    $expression: #ParcentNotation['%w[--seed 42]']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #Array[
                              $index: #List[
                                 $expression: #NameExpr['before_setup']
                                 $expression: #NameExpr['setup']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['call_order']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_after_teardown']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['call_order']
                           $right: #Array['[]']
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['Class']
                           $recv: #NameExpr['new']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #NameExpr['MiniTest']
                                    $name: #NameExpr['Unit']
                                 ]
                                 $name: #NameExpr['TestCase']
                              ]
                           ]
                           $body: #Block[
                              $body: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['define_method']
                                    $param: #List[
                                       $expression: #NameExpr['teardown']
                                    ]
                                    $body: #Block[
                                       $body: #List[
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #Super['super']
                                             $param: #Empty['']
                                          ]
                                          $statement: #LShiftExpr[
                                             $left: #NameExpr['call_order']
                                             $right: #NameExpr['teardown']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['define_method']
                                    $param: #List[
                                       $expression: #NameExpr['after_teardown']
                                    ]
                                    $body: #Block[
                                       $body: #LShiftExpr[
                                          $left: #NameExpr['call_order']
                                          $right: #NameExpr['after_teardown']
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['test_omg']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['assert']
                                          $param: #List[
                                             $expression: #TrueExpr['true']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['with_output']
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $base: #NameExpr['@tu']
                                 $recv: #NameExpr['run']
                                 $param: #List[
                                    $expression: #ParcentNotation['%w[--seed 42]']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #Array[
                              $index: #List[
                                 $expression: #NameExpr['teardown']
                                 $expression: #NameExpr['after_teardown']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['call_order']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_all_teardowns_are_guaranteed_to_run']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['call_order']
                           $right: #Array['[]']
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['Class']
                           $recv: #NameExpr['new']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #NameExpr['MiniTest']
                                    $name: #NameExpr['Unit']
                                 ]
                                 $name: #NameExpr['TestCase']
                              ]
                           ]
                           $body: #Block[
                              $body: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['define_method']
                                    $param: #List[
                                       $expression: #NameExpr['after_teardown']
                                    ]
                                    $body: #Block[
                                       $body: #List[
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #Super['super']
                                             $param: #Empty['']
                                          ]
                                          $statement: #LShiftExpr[
                                             $left: #NameExpr['call_order']
                                             $right: #NameExpr['after_teardown']
                                          ]
                                          $statement: #NameExpr['raise']
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['define_method']
                                    $param: #List[
                                       $expression: #NameExpr['teardown']
                                    ]
                                    $body: #Block[
                                       $body: #List[
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #Super['super']
                                             $param: #Empty['']
                                          ]
                                          $statement: #LShiftExpr[
                                             $left: #NameExpr['call_order']
                                             $right: #NameExpr['teardown']
                                          ]
                                          $statement: #NameExpr['raise']
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['define_method']
                                    $param: #List[
                                       $expression: #NameExpr['before_teardown']
                                    ]
                                    $body: #Block[
                                       $body: #List[
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #Super['super']
                                             $param: #Empty['']
                                          ]
                                          $statement: #LShiftExpr[
                                             $left: #NameExpr['call_order']
                                             $right: #NameExpr['before_teardown']
                                          ]
                                          $statement: #NameExpr['raise']
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['test_omg']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['assert']
                                          $param: #List[
                                             $expression: #TrueExpr['true']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['with_output']
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $base: #NameExpr['@tu']
                                 $recv: #NameExpr['run']
                                 $param: #List[
                                    $expression: #ParcentNotation['%w[--seed 42]']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #Array[
                              $index: #List[
                                 $expression: #NameExpr['before_teardown']
                                 $expression: #NameExpr['teardown']
                                 $expression: #NameExpr['after_teardown']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['call_order']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_setup_and_teardown_survive_inheritance']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['call_order']
                           $right: #Array['[]']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['parent']
                           $right: #ApplyExpr[
                              $base: #NameExpr['Class']
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['MiniTest']
                                       $name: #NameExpr['Unit']
                                    ]
                                    $name: #NameExpr['TestCase']
                                 ]
                              ]
                              $body: #Block[
                                 $body: #List[
                                    $statement: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['define_method']
                                       $param: #List[
                                          $expression: #NameExpr['setup']
                                       ]
                                       $body: #Block[
                                          $body: #LShiftExpr[
                                             $left: #NameExpr['call_order']
                                             $right: #NameExpr['setup_method']
                                          ]
                                       ]
                                    ]
                                    $statement: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['define_method']
                                       $param: #List[
                                          $expression: #NameExpr['teardown']
                                       ]
                                       $body: #Block[
                                          $body: #LShiftExpr[
                                             $left: #NameExpr['call_order']
                                             $right: #NameExpr['teardown_method']
                                          ]
                                       ]
                                    ]
                                    $statement: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['define_method']
                                       $param: #List[
                                          $expression: #NameExpr['test_something']
                                       ]
                                       $body: #Block[
                                          $body: #LShiftExpr[
                                             $left: #NameExpr['call_order']
                                             $right: #NameExpr['test']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['_']
                           $right: #ApplyExpr[
                              $base: #NameExpr['Class']
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #NameExpr['parent']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['with_output']
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $base: #NameExpr['@tu']
                                 $recv: #NameExpr['run']
                                 $param: #List[
                                    $expression: #ParcentNotation['%w[--seed 42]']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #MulExpr[
                              $left: #Array[
                                 $index: #List[
                                    $expression: #NameExpr['setup_method']
                                    $expression: #NameExpr['test']
                                    $expression: #NameExpr['teardown_method']
                                 ]
                              ]
                              $right: #IntExpr['2']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['call_order']
                           ]
                        ]
                     ]
                  ]
               ]
            ]
         ]
      ]
      $statement: #Class[
         $name: #NameExpr['TestMiniTestUnitTestCase']
         $super: #Field[
            $recv: #Field[
               $recv: #NameExpr['MiniTest']
               $name: #NameExpr['Unit']
            ]
            $name: #NameExpr['TestCase']
         ]
         $body: #BlockExpr[
            $main: #List[
               $statement: #AssignExpr[
                  $left: #NameExpr['RUBY18']
                  $right: #NotExpr[
                     $expr: #Defined[
                        $base: #NameExpr['Encoding']
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['setup']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #Super['super']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #Field[
                              $recv: #Field[
                                 $recv: #NameExpr['MiniTest']
                                 $name: #NameExpr['Unit']
                              ]
                              $name: #NameExpr['TestCase']
                           ]
                           $recv: #NameExpr['reset']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['@tc']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #Field[
                                    $recv: #NameExpr['MiniTest']
                                    $name: #NameExpr['Unit']
                                 ]
                                 $name: #NameExpr['TestCase']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['fake tc']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['@zomg']
                           $right: #StringExpr['zomg ponies!']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['1']
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['teardown']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #IfExpr[
                        $then: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@assertion_count']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@tc']
                                 $recv: #NameExpr['_assertions']
                              ]
                              $expression: #StringExpr[
                                 $inner: #NameExpr['@assertion_count']
                                 $inner: #ApplyExpr[
                                    $recv: #NameExpr['@tc']
                                    $recv: #NameExpr['_assertions']
                                 ]
                              ]
                           ]
                        ]
                        $cond: #ApplyExpr[
                           $recv: #NameExpr['@tc']
                           $recv: #NameExpr['passed?']
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['non_verbose']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['orig_verbose']
                           $right: #NameExpr['$VERBOSE']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['$VERBOSE']
                           $right: #FalseExpr['false']
                        ]
                        $statement: #Yield['yield']
                     ]
                     $ensure: #AssignExpr[
                        $left: #NameExpr['$VERBOSE']
                        $right: #NameExpr['orig_verbose']
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['2']
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@tc']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #TrueExpr['true']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@tc']
                                 $recv: #NameExpr['assert']
                                 $param: #List[
                                    $expression: #TrueExpr['true']
                                 ]
                              ]
                              $expression: #StringExpr['returns true on success']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert__triggered']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #StringExpr['Failed assertion, no message given.']
                        ]
                        $body: #Block[
                           $body: #ApplyExpr[
                              $base: #NameExpr['@tc']
                              $recv: #NameExpr['assert']
                              $param: #List[
                                 $expression: #FalseExpr['false']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert__triggered_message']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #NameExpr['@zomg']
                        ]
                        $body: #Block[
                           $body: #ApplyExpr[
                              $base: #NameExpr['@tc']
                              $recv: #NameExpr['assert']
                              $param: #List[
                                 $expression: #FalseExpr['false']
                                 $expression: #NameExpr['@zomg']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_empty']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['2']
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@tc']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #Array['[]']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_empty_triggered']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['2']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_assert_triggered']
                           $param: #List[
                              $expression: #StringExpr['Expected [1] to be empty.']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $base: #NameExpr['@tc']
                                 $recv: #NameExpr['assert_empty']
                                 $param: #List[
                                    $expression: #Array[
                                       $index: #List[
                                          $expression: #IntExpr['1']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_equal']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $base: #NameExpr['@tc']
                        $recv: #NameExpr['assert_equal']
                        $param: #List[
                           $expression: #IntExpr['1']
                           $expression: #IntExpr['1']
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_equal_different_collection_array_hex_invisible']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['object1']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Object']
                              $recv: #NameExpr['new']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['object2']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Object']
                              $recv: #NameExpr['new']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['msg']
                           $right: #ApplyExpr[
                              $recv: #StringExpr['No visible difference in the Array#inspect output.\n           You should look at the implementation of #== on Array or its members.\n           [#<Object:0xXXXXXX>]']
                              $recv: #NameExpr['gsub']
                              $param: #List[
                                 $expression: #Regex['/^ +/']
                                 $expression: #StringExpr['']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_assert_triggered']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['msg']
                                 $body: #Block[
                                    $body: #ApplyExpr[
                                       $base: #NameExpr['@tc']
                                       $recv: #NameExpr['assert_equal']
                                       $param: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #NameExpr['object1']
                                             ]
                                          ]
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #NameExpr['object2']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_equal_different_collection_hash_hex_invisible']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #MultipleAssign[
                           $left: #MultipleLeftHandSideExpression[
                              $item: #NameExpr['h1']
                              $item: #NameExpr['h2']
                           ]
                           $right: #MultipleRightHandSideExpression[
                              $expression: #List['{}']
                              $expression: #List['{}']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Indexer[
                              $base: #NameExpr['h1']
                              $index: #List[
                                 $expression: #IntExpr['1']
                              ]
                           ]
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Object']
                              $recv: #NameExpr['new']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Indexer[
                              $base: #NameExpr['h2']
                              $index: #List[
                                 $expression: #IntExpr['1']
                              ]
                           ]
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Object']
                              $recv: #NameExpr['new']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['msg']
                           $right: #ApplyExpr[
                              $recv: #StringExpr['No visible difference in the Hash#inspect output.\n           You should look at the implementation of #== on Hash or its members.\n           {1=>#<Object:0xXXXXXX>}']
                              $recv: #NameExpr['gsub']
                              $param: #List[
                                 $expression: #Regex['/^ +/']
                                 $expression: #StringExpr['']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_assert_triggered']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['msg']
                                 $body: #Block[
                                    $body: #ApplyExpr[
                                       $base: #NameExpr['@tc']
                                       $recv: #NameExpr['assert_equal']
                                       $param: #List[
                                          $expression: #NameExpr['h1']
                                          $expression: #NameExpr['h2']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_equal_different_diff_deactivated']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #IfExpr[
                           $then: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['skip']
                              $param: #List[
                                 $expression: #StringExpr['https://github.com/MagLev/maglev/issues/209']
                              ]
                           ]
                           $cond: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['maglev?']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['without_diff']
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['util_assert_triggered']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['util_msg']
                                       $param: #List[
                                          $expression: #MulExpr[
                                             $left: #StringExpr['haha']
                                             $right: #IntExpr['10']
                                          ]
                                          $expression: #MulExpr[
                                             $left: #StringExpr['blah']
                                             $right: #IntExpr['10']
                                          ]
                                       ]
                                       $body: #Block[
                                          $body: #List[
                                             $statement: #AssignExpr[
                                                $left: #NameExpr['o1']
                                                $right: #MulExpr[
                                                   $left: #StringExpr['haha']
                                                   $right: #IntExpr['10']
                                                ]
                                             ]
                                             $statement: #AssignExpr[
                                                $left: #NameExpr['o2']
                                                $right: #MulExpr[
                                                   $left: #StringExpr['blah']
                                                   $right: #IntExpr['10']
                                                ]
                                             ]
                                             $statement: #ApplyExpr[
                                                $base: #NameExpr['@tc']
                                                $recv: #NameExpr['assert_equal']
                                                $param: #List[
                                                   $expression: #NameExpr['o1']
                                                   $expression: #NameExpr['o2']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_equal_different_hex']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['c']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Class']
                              $recv: #NameExpr['new']
                              $body: #Block[
                                 $body: #FuncDecl[
                                    $name: #NameExpr['initialize']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['s']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #AssignExpr[
                                          $left: #NameExpr['@name']
                                          $right: #NameExpr['s']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['o1']
                           $right: #ApplyExpr[
                              $base: #NameExpr['c']
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['a']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['o2']
                           $right: #ApplyExpr[
                              $base: #NameExpr['c']
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['b']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['msg']
                           $right: #ApplyExpr[
                              $recv: #StringExpr['--- expected\n           +++ actual\n           @@ -1 +1 @@\n           -#<#<Class:0xXXXXXX>:0xXXXXXX @name=\\"a\\">\n           +#<#<Class:0xXXXXXX>:0xXXXXXX @name=\\"b\\">\n           ']
                              $recv: #NameExpr['gsub']
                              $param: #List[
                                 $expression: #Regex['/^ +/']
                                 $expression: #StringExpr['']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_assert_triggered']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['msg']
                                 $body: #Block[
                                    $body: #ApplyExpr[
                                       $base: #NameExpr['@tc']
                                       $recv: #NameExpr['assert_equal']
                                       $param: #List[
                                          $expression: #NameExpr['o1']
                                          $expression: #NameExpr['o2']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_equal_different_hex_invisible']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['o1']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Object']
                              $recv: #NameExpr['new']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['o2']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Object']
                              $recv: #NameExpr['new']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['msg']
                           $right: #ApplyExpr[
                              $recv: #StringExpr['No visible difference in the Object#inspect output.\n           You should look at the implementation of #== on Object or its members.\n           #<Object:0xXXXXXX>']
                              $recv: #NameExpr['gsub']
                              $param: #List[
                                 $expression: #Regex['/^ +/']
                                 $expression: #StringExpr['']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_assert_triggered']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['msg']
                                 $body: #Block[
                                    $body: #ApplyExpr[
                                       $base: #NameExpr['@tc']
                                       $recv: #NameExpr['assert_equal']
                                       $param: #List[
                                          $expression: #NameExpr['o1']
                                          $expression: #NameExpr['o2']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_equal_different_long']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['msg']
                           $right: #ApplyExpr[
                              $recv: #StringExpr['--- expected\n           +++ actual\n           @@ -1 +1 @@\n           -\\"hahahahahahahahahahahahahahahahahahahaha\\"\n           +\\"blahblahblahblahblahblahblahblahblahblah\\"\n           ']
                              $recv: #NameExpr['gsub']
                              $param: #List[
                                 $expression: #Regex['/^ +/']
                                 $expression: #StringExpr['']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_assert_triggered']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['msg']
                                 $body: #Block[
                                    $body: #List[
                                       $statement: #AssignExpr[
                                          $left: #NameExpr['o1']
                                          $right: #MulExpr[
                                             $left: #StringExpr['haha']
                                             $right: #IntExpr['10']
                                          ]
                                       ]
                                       $statement: #AssignExpr[
                                          $left: #NameExpr['o2']
                                          $right: #MulExpr[
                                             $left: #StringExpr['blah']
                                             $right: #IntExpr['10']
                                          ]
                                       ]
                                       $statement: #ApplyExpr[
                                          $base: #NameExpr['@tc']
                                          $recv: #NameExpr['assert_equal']
                                          $param: #List[
                                             $expression: #NameExpr['o1']
                                             $expression: #NameExpr['o2']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_equal_different_long_invisible']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['msg']
                           $right: #ApplyExpr[
                              $recv: #StringExpr['No visible difference in the String#inspect output.\n           You should look at the implementation of #== on String or its members.\n           \\"blahblahblahblahblahblahblahblahblahblah\\"']
                              $recv: #NameExpr['gsub']
                              $param: #List[
                                 $expression: #Regex['/^ +/']
                                 $expression: #StringExpr['']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_assert_triggered']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['msg']
                                 $body: #Block[
                                    $body: #List[
                                       $statement: #AssignExpr[
                                          $left: #NameExpr['o1']
                                          $right: #MulExpr[
                                             $left: #StringExpr['blah']
                                             $right: #IntExpr['10']
                                          ]
                                       ]
                                       $statement: #AssignExpr[
                                          $left: #NameExpr['o2']
                                          $right: #MulExpr[
                                             $left: #StringExpr['blah']
                                             $right: #IntExpr['10']
                                          ]
                                       ]
                                       $statement: #SFuncDecl[
                                          $path: #NameExpr['o1']
                                          $name: #NameExpr['==']
                                          $param: #List[
                                             $param: #Param[
                                                $param: #NameExpr['o']
                                             ]
                                          ]
                                          $body: #BlockExpr[
                                             $main: #FalseExpr['false']
                                          ]
                                       ]
                                       $statement: #ApplyExpr[
                                          $base: #NameExpr['@tc']
                                          $recv: #NameExpr['assert_equal']
                                          $param: #List[
                                             $expression: #NameExpr['o1']
                                             $expression: #NameExpr['o2']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_equal_different_long_msg']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['msg']
                           $right: #ApplyExpr[
                              $recv: #StringExpr['message.\n           --- expected\n           +++ actual\n           @@ -1 +1 @@\n           -\\"hahahahahahahahahahahahahahahahahahahaha\\"\n           +\\"blahblahblahblahblahblahblahblahblahblah\\"\n           ']
                              $recv: #NameExpr['gsub']
                              $param: #List[
                                 $expression: #Regex['/^ +/']
                                 $expression: #StringExpr['']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_assert_triggered']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['msg']
                                 $body: #Block[
                                    $body: #List[
                                       $statement: #AssignExpr[
                                          $left: #NameExpr['o1']
                                          $right: #MulExpr[
                                             $left: #StringExpr['haha']
                                             $right: #IntExpr['10']
                                          ]
                                       ]
                                       $statement: #AssignExpr[
                                          $left: #NameExpr['o2']
                                          $right: #MulExpr[
                                             $left: #StringExpr['blah']
                                             $right: #IntExpr['10']
                                          ]
                                       ]
                                       $statement: #ApplyExpr[
                                          $base: #NameExpr['@tc']
                                          $recv: #NameExpr['assert_equal']
                                          $param: #List[
                                             $expression: #NameExpr['o1']
                                             $expression: #NameExpr['o2']
                                             $expression: #StringExpr['message']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_equal_different_short']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['util_msg']
                              $param: #List[
                                 $expression: #IntExpr['1']
                                 $expression: #IntExpr['2']
                              ]
                              $body: #Block[
                                 $body: #ApplyExpr[
                                    $base: #NameExpr['@tc']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #IntExpr['1']
                                       $expression: #IntExpr['2']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_equal_different_short_msg']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['util_msg']
                              $param: #List[
                                 $expression: #IntExpr['1']
                                 $expression: #IntExpr['2']
                                 $expression: #StringExpr['message']
                              ]
                              $body: #Block[
                                 $body: #ApplyExpr[
                                    $base: #NameExpr['@tc']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #IntExpr['1']
                                       $expression: #IntExpr['2']
                                       $expression: #StringExpr['message']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_equal_different_short_multiline']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['msg']
                           $right: #StringExpr['--- expected\\n+++ actual\\n@@ -1,2 +1,2 @@\\n \\"a\\n-b\\"\\n+c\\"\\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_assert_triggered']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['msg']
                                 $body: #Block[
                                    $body: #ApplyExpr[
                                       $base: #NameExpr['@tc']
                                       $recv: #NameExpr['assert_equal']
                                       $param: #List[
                                          $expression: #StringExpr['a\\nb']
                                          $expression: #StringExpr['a\\nc']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_in_delta']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $base: #NameExpr['@tc']
                        $recv: #NameExpr['assert_in_delta']
                        $param: #List[
                           $expression: #FloatExpr['0.0']
                           $expression: #DivExpr[
                              $left: #FloatExpr['1.0']
                              $right: #IntExpr['1000']
                           ]
                           $expression: #FloatExpr['0.1']
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_delta_consistency']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@tc']
                           $recv: #NameExpr['assert_in_delta']
                           $param: #List[
                              $expression: #IntExpr['0']
                              $expression: #IntExpr['1']
                              $expression: #IntExpr['1']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_assert_triggered']
                           $param: #List[
                              $expression: #StringExpr['Expected |0 - 1| (1) to not be <= 1.']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $base: #NameExpr['@tc']
                                 $recv: #NameExpr['refute_in_delta']
                                 $param: #List[
                                    $expression: #IntExpr['0']
                                    $expression: #IntExpr['1']
                                    $expression: #IntExpr['1']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_in_delta_triggered']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['x']
                           $right: #Conditional[
                              $cond: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['maglev?']
                              ]
                              $then: #StringExpr['9.999999xxxe-07']
                              $else: #StringExpr['1.0e-06']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_assert_triggered']
                           $param: #List[
                              $expression: #StringExpr[
                                 $inner: #NameExpr['x']
                              ]
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $base: #NameExpr['@tc']
                                 $recv: #NameExpr['assert_in_delta']
                                 $param: #List[
                                    $expression: #FloatExpr['0.0']
                                    $expression: #DivExpr[
                                       $left: #FloatExpr['1.0']
                                       $right: #IntExpr['1000']
                                    ]
                                    $expression: #FloatExpr['0.000001']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_in_epsilon']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['10']
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@tc']
                           $recv: #NameExpr['assert_in_epsilon']
                           $param: #List[
                              $expression: #IntExpr['10000']
                              $expression: #IntExpr['9991']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@tc']
                           $recv: #NameExpr['assert_in_epsilon']
                           $param: #List[
                              $expression: #IntExpr['9991']
                              $expression: #IntExpr['10000']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@tc']
                           $recv: #NameExpr['assert_in_epsilon']
                           $param: #List[
                              $expression: #FloatExpr['1.0']
                              $expression: #FloatExpr['1.001']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@tc']
                           $recv: #NameExpr['assert_in_epsilon']
                           $param: #List[
                              $expression: #FloatExpr['1.001']
                              $expression: #FloatExpr['1.0']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@tc']
                           $recv: #NameExpr['assert_in_epsilon']
                           $param: #List[
                              $expression: #IntExpr['10000']
                              $expression: #FloatExpr['9999.1']
                              $expression: #FloatExpr['0.0001']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@tc']
                           $recv: #NameExpr['assert_in_epsilon']
                           $param: #List[
                              $expression: #FloatExpr['9999.1']
                              $expression: #IntExpr['10000']
                              $expression: #FloatExpr['0.0001']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@tc']
                           $recv: #NameExpr['assert_in_epsilon']
                           $param: #List[
                              $expression: #FloatExpr['1.0']
                              $expression: #FloatExpr['1.0001']
                              $expression: #FloatExpr['0.0001']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@tc']
                           $recv: #NameExpr['assert_in_epsilon']
                           $param: #List[
                              $expression: #FloatExpr['1.0001']
                              $expression: #FloatExpr['1.0']
                              $expression: #FloatExpr['0.0001']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@tc']
                           $recv: #NameExpr['assert_in_epsilon']
                           $param: #List[
                              $expression: #MinusExpr[
                                 $expr: #IntExpr['1']
                              ]
                              $expression: #MinusExpr[
                                 $expr: #IntExpr['1']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@tc']
                           $recv: #NameExpr['assert_in_epsilon']
                           $param: #List[
                              $expression: #MinusExpr[
                                 $expr: #IntExpr['10000']
                              ]
                              $expression: #MinusExpr[
                                 $expr: #IntExpr['9991']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_epsilon_consistency']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@tc']
                           $recv: #NameExpr['assert_in_epsilon']
                           $param: #List[
                              $expression: #FloatExpr['1.0']
                              $expression: #FloatExpr['1.001']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['msg']
                           $right: #StringExpr['Expected |1.0 - 1.001| (0.000999xxx) to not be <= 0.001.']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_assert_triggered']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['msg']
                                 $body: #Block[
                                    $body: #ApplyExpr[
                                       $base: #NameExpr['@tc']
                                       $recv: #NameExpr['refute_in_epsilon']
                                       $param: #List[
                                          $expression: #FloatExpr['1.0']
                                          $expression: #FloatExpr['1.001']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_in_epsilon_triggered']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #StringExpr['Expected |10000 - 9990| (10) to be <= 9.99.']
                        ]
                        $body: #Block[
                           $body: #ApplyExpr[
                              $base: #NameExpr['@tc']
                              $recv: #NameExpr['assert_in_epsilon']
                              $param: #List[
                                 $expression: #IntExpr['10000']
                                 $expression: #IntExpr['9990']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_in_epsilon_triggered_negative_case']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['x']
                           $right: #Conditional[
                              $cond: #AndExpr[
                                 $left: #NameExpr['RUBY18']
                                 $right: #[
                                    $base: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['maglev?']
                                    ]
                                 ]
                              ]
                              $then: #StringExpr['0.1']
                              $else: #StringExpr['0.100000xxx']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['y']
                           $right: #Conditional[
                              $cond: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['maglev?']
                              ]
                              $then: #StringExpr['0.100000xxx']
                              $else: #StringExpr['0.1']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_assert_triggered']
                           $param: #List[
                              $expression: #StringExpr[
                                 $inner: #NameExpr['x']
                                 $inner: #NameExpr['y']
                              ]
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #NameExpr['@tc']
                                 $recv: #NameExpr['assert_in_epsilon']
                                 $param: #List[
                                    $expression: #MinusExpr[
                                       $expr: #FloatExpr['1.1']
                                    ]
                                    $expression: #MinusExpr[
                                       $expr: #IntExpr['1']
                                    ]
                                    $expression: #FloatExpr['0.1']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_includes']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['2']
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@tc']
                           $recv: #NameExpr['assert_includes']
                           $param: #List[
                              $expression: #Array[
                                 $index: #List[
                                    $expression: #TrueExpr['true']
                                 ]
                              ]
                              $expression: #TrueExpr['true']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_includes_triggered']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['3']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['e']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@tc']
                              $recv: #NameExpr['assert_raises']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['MiniTest']
                                    $name: #NameExpr['Assertion']
                                 ]
                              ]
                              $body: #Block[
                                 $body: #ApplyExpr[
                                    $base: #NameExpr['@tc']
                                    $recv: #NameExpr['assert_includes']
                                    $param: #List[
                                       $expression: #Array[
                                          $index: #List[
                                             $expression: #TrueExpr['true']
                                          ]
                                       ]
                                       $expression: #FalseExpr['false']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #StringExpr['Expected [true] to include false.']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['e']
                                 $recv: #NameExpr['message']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_instance_of']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $base: #NameExpr['@tc']
                        $recv: #NameExpr['assert_instance_of']
                        $param: #List[
                           $expression: #NameExpr['String']
                           $expression: #StringExpr['blah']
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_instance_of_triggered']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #StringExpr['Expected "blah" to be an instance of Array, not String.']
                        ]
                        $body: #Block[
                           $body: #ApplyExpr[
                              $base: #NameExpr['@tc']
                              $recv: #NameExpr['assert_instance_of']
                              $param: #List[
                                 $expression: #NameExpr['Array']
                                 $expression: #StringExpr['blah']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_kind_of']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $base: #NameExpr['@tc']
                        $recv: #NameExpr['assert_kind_of']
                        $param: #List[
                           $expression: #NameExpr['String']
                           $expression: #StringExpr['blah']
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_kind_of_triggered']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #StringExpr['Expected "blah" to be a kind of Array, not String.']
                        ]
                        $body: #Block[
                           $body: #ApplyExpr[
                              $base: #NameExpr['@tc']
                              $recv: #NameExpr['assert_kind_of']
                              $param: #List[
                                 $expression: #NameExpr['Array']
                                 $expression: #StringExpr['blah']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_match']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['2']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@tc']
                           $recv: #NameExpr['assert_match']
                           $param: #List[
                              $expression: #Regex['/\\w+/']
                              $expression: #StringExpr['blah blah blah']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_match_matcher_object']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['2']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['pattern']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Object']
                              $recv: #NameExpr['new']
                           ]
                        ]
                        $statement: #SFuncDecl[
                           $path: #NameExpr['pattern']
                           $name: #NameExpr['=~']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['other']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #TrueExpr['true']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@tc']
                           $recv: #NameExpr['assert_match']
                           $param: #List[
                              $expression: #NameExpr['pattern']
                              $expression: #IntExpr['5']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_match_matchee_to_str']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['2']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['obj']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Object']
                              $recv: #NameExpr['new']
                           ]
                        ]
                        $statement: #SFuncDecl[
                           $path: #NameExpr['obj']
                           $name: #NameExpr['to_str']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #StringExpr['blah']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@tc']
                           $recv: #NameExpr['assert_match']
                           $param: #List[
                              $expression: #StringExpr['blah']
                              $expression: #NameExpr['obj']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_match_object_triggered']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['2']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['pattern']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Object']
                              $recv: #NameExpr['new']
                           ]
                        ]
                        $statement: #SFuncDecl[
                           $path: #NameExpr['pattern']
                           $name: #NameExpr['=~']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['other']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #FalseExpr['false']
                           ]
                        ]
                        $statement: #SFuncDecl[
                           $path: #NameExpr['pattern']
                           $name: #NameExpr['inspect']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #StringExpr['[Object]']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_assert_triggered']
                           $param: #List[
                              $expression: #StringExpr['Expected [Object] to match 5.']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $base: #NameExpr['@tc']
                                 $recv: #NameExpr['assert_match']
                                 $param: #List[
                                    $expression: #NameExpr['pattern']
                                    $expression: #IntExpr['5']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_match_triggered']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['2']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_assert_triggered']
                           $param: #List[
                              $expression: #StringExpr['Expected /\\d+/ to match "blah blah blah".']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #NameExpr['@tc']
                                 $recv: #NameExpr['assert_match']
                                 $param: #List[
                                    $expression: #Regex['/\\d+/']
                                    $expression: #StringExpr['blah blah blah']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_nil']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $base: #NameExpr['@tc']
                        $recv: #NameExpr['assert_nil']
                        $param: #List[
                           $expression: #Nil['nil']
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_nil_triggered']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #StringExpr['Expected 42 to be nil.']
                        ]
                        $body: #Block[
                           $body: #ApplyExpr[
                              $base: #NameExpr['@tc']
                              $recv: #NameExpr['assert_nil']
                              $param: #List[
                                 $expression: #IntExpr['42']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_operator']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $base: #NameExpr['@tc']
                        $recv: #NameExpr['assert_operator']
                        $param: #List[
                           $expression: #IntExpr['2']
                           $expression: #NameExpr['>']
                           $expression: #IntExpr['1']
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_operator_bad_object']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['bad']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Object']
                              $recv: #NameExpr['new']
                           ]
                        ]
                        $statement: #SFuncDecl[
                           $path: #NameExpr['bad']
                           $name: #NameExpr['==']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['other']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #TrueExpr['true']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@tc']
                           $recv: #NameExpr['assert_operator']
                           $param: #List[
                              $expression: #NameExpr['bad']
                              $expression: #NameExpr['equal?']
                              $expression: #NameExpr['bad']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_operator_triggered']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #StringExpr['Expected 2 to be < 1.']
                        ]
                        $body: #Block[
                           $body: #ApplyExpr[
                              $base: #NameExpr['@tc']
                              $recv: #NameExpr['assert_operator']
                              $param: #List[
                                 $expression: #IntExpr['2']
                                 $expression: #NameExpr['<']
                                 $expression: #IntExpr['1']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_output_both']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['2']
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@tc']
                           $recv: #NameExpr['assert_output']
                           $param: #List[
                              $expression: #StringExpr['yay']
                              $expression: #StringExpr['blah']
                           ]
                           $body: #Block[
                              $body: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['print']
                                    $param: #List[
                                       $expression: #StringExpr['yay']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $base: #NameExpr['$stderr']
                                    $recv: #NameExpr['print']
                                    $param: #List[
                                       $expression: #StringExpr['blah']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_output_both_regexps']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['4']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@tc']
                           $recv: #NameExpr['assert_output']
                           $param: #List[
                              $expression: #Regex['/y.y/']
                              $expression: #Regex['/bl.h/']
                           ]
                           $body: #Block[
                              $body: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['print']
                                    $param: #List[
                                       $expression: #StringExpr['yay']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $base: #NameExpr['$stderr']
                                    $recv: #NameExpr['print']
                                    $param: #List[
                                       $expression: #StringExpr['blah']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_output_err']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $base: #NameExpr['@tc']
                        $recv: #NameExpr['assert_output']
                        $param: #List[
                           $expression: #Nil['nil']
                           $expression: #StringExpr['blah']
                        ]
                        $body: #Block[
                           $body: #ApplyExpr[
                              $base: #NameExpr['$stderr']
                              $recv: #NameExpr['print']
                              $param: #List[
                                 $expression: #StringExpr['blah']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_output_neither']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['0']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@tc']
                           $recv: #NameExpr['assert_output']
                           $body: #Block[
                              $body: #Empty['']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_output_out']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $base: #NameExpr['@tc']
                        $recv: #NameExpr['assert_output']
                        $param: #List[
                           $expression: #StringExpr['blah']
                        ]
                        $body: #Block[
                           $body: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['print']
                              $param: #List[
                                 $expression: #StringExpr['blah']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_output_triggered_both']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['util_msg']
                              $param: #List[
                                 $expression: #StringExpr['blah']
                                 $expression: #StringExpr['blah blah']
                                 $expression: #StringExpr['In stderr']
                              ]
                              $body: #Block[
                                 $body: #ApplyExpr[
                                    $base: #NameExpr['@tc']
                                    $recv: #NameExpr['assert_output']
                                    $param: #List[
                                       $expression: #StringExpr['yay']
                                       $expression: #StringExpr['blah']
                                    ]
                                    $body: #Block[
                                       $body: #List[
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['print']
                                             $param: #List[
                                                $expression: #StringExpr['boo']
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             $base: #NameExpr['$stderr']
                                             $recv: #NameExpr['print']
                                             $param: #List[
                                                $expression: #StringExpr['blah blah']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_output_triggered_err']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['util_msg']
                              $param: #List[
                                 $expression: #StringExpr['blah']
                                 $expression: #StringExpr['blah blah']
                                 $expression: #StringExpr['In stderr']
                              ]
                              $body: #Block[
                                 $body: #ApplyExpr[
                                    $base: #NameExpr['@tc']
                                    $recv: #NameExpr['assert_output']
                                    $param: #List[
                                       $expression: #Nil['nil']
                                       $expression: #StringExpr['blah']
                                    ]
                                    $body: #Block[
                                       $body: #ApplyExpr[
                                          $base: #NameExpr['$stderr']
                                          $recv: #NameExpr['print']
                                          $param: #List[
                                             $expression: #StringExpr['blah blah']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_output_triggered_out']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['util_msg']
                              $param: #List[
                                 $expression: #StringExpr['blah']
                                 $expression: #StringExpr['blah blah']
                                 $expression: #StringExpr['In stdout']
                              ]
                              $body: #Block[
                                 $body: #ApplyExpr[
                                    $base: #NameExpr['@tc']
                                    $recv: #NameExpr['assert_output']
                                    $param: #List[
                                       $expression: #StringExpr['blah']
                                    ]
                                    $body: #Block[
                                       $body: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['print']
                                          $param: #List[
                                             $expression: #StringExpr['blah blah']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_predicate']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $base: #NameExpr['@tc']
                        $recv: #NameExpr['assert_predicate']
                        $param: #List[
                           $expression: #StringExpr['']
                           $expression: #NameExpr['empty?']
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_predicate_triggered']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #StringExpr['Expected "blah" to be empty?.']
                        ]
                        $body: #Block[
                           $body: #ApplyExpr[
                              $base: #NameExpr['@tc']
                              $recv: #NameExpr['assert_predicate']
                              $param: #List[
                                 $expression: #StringExpr['blah']
                                 $expression: #NameExpr['empty?']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_raises']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $base: #NameExpr['@tc']
                        $recv: #NameExpr['assert_raises']
                        $param: #List[
                           $expression: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['RuntimeError']
                              $body: #Block[
                                 $body: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['raise']
                                    $param: #List[
                                       $expression: #StringExpr['blah']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_raises_module']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $base: #NameExpr['@tc']
                        $recv: #NameExpr['assert_raises']
                        $param: #List[
                           $expression: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['MyModule']
                              $body: #Block[
                                 $body: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['raise']
                                    $param: #List[
                                       $expression: #NameExpr['AnError']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_raises_skip']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['0']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_assert_triggered']
                           $param: #List[
                              $expression: #StringExpr['skipped']
                              $expression: #Field[
                                 $recv: #NameExpr['MiniTest']
                                 $name: #NameExpr['Skip']
                              ]
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $base: #NameExpr['@tc']
                                 $recv: #NameExpr['assert_raises']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['ArgumentError']
                                       $body: #Block[
                                          $body: #ExceptionBlock[
                                             $main: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['raise']
                                                $param: #List[
                                                   $expression: #StringExpr['blah']
                                                ]
                                             ]
                                             $rescue: #List[
                                                $rescue: #Rescue[
                                                   $then: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['skip']
                                                      $param: #List[
                                                         $expression: #StringExpr['skipped']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_raises_triggered_different']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['e']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['assert_raises']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['MiniTest']
                                    $name: #NameExpr['Assertion']
                                 ]
                              ]
                              $body: #Block[
                                 $body: #ApplyExpr[
                                    $base: #NameExpr['@tc']
                                    $recv: #NameExpr['assert_raises']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['RuntimeError']
                                          $body: #Block[
                                             $body: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['raise']
                                                $param: #List[
                                                   $expression: #NameExpr['SyntaxError']
                                                   $expression: #StringExpr['icky']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['clean']
                              $param: #List[
                                 $expression: #HereDocument['      [RuntimeError] exception expected, not\n      Class: <SyntaxError>\n      Message: <\\"icky\\">\n      ---Backtrace---\n      FILE:LINE:in \\`test_assert_raises_triggered_different\\\'\n      ---------------\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['actual']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['e']
                                 $recv: #NameExpr['message']
                              ]
                              $recv: #NameExpr['gsub']
                              $param: #List[
                                 $expression: #Regex['/^.+:\\d+/']
                                 $expression: #StringExpr['FILE:LINE']
                              ]
                           ]
                        ]
                        $statement: #IfExpr[
                           $then: #ApplyExpr[
                              $recv: #NameExpr['actual']
                              $recv: #NameExpr['gsub!']
                              $param: #List[
                                 $expression: #Regex['/block \\(\\d+ levels\\) in /']
                                 $expression: #StringExpr['']
                              ]
                           ]
                           $cond: #GteExpt[
                              $left: #NameExpr['RUBY_VERSION']
                              $right: #StringExpr['1.9.0']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['actual']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_raises_triggered_different_msg']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['e']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['assert_raises']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['MiniTest']
                                    $name: #NameExpr['Assertion']
                                 ]
                              ]
                              $body: #Block[
                                 $body: #ApplyExpr[
                                    $base: #NameExpr['@tc']
                                    $recv: #NameExpr['assert_raises']
                                    $param: #List[
                                       $expression: #NameExpr['RuntimeError']
                                       $expression: #StringExpr['XXX']
                                    ]
                                    $body: #Block[
                                       $body: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['raise']
                                          $param: #List[
                                             $expression: #NameExpr['SyntaxError']
                                             $expression: #StringExpr['icky']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['clean']
                              $param: #List[
                                 $expression: #HereDocument['      XXX.\n      [RuntimeError] exception expected, not\n      Class: <SyntaxError>\n      Message: <\\"icky\\">\n      ---Backtrace---\n      FILE:LINE:in \\`test_assert_raises_triggered_different_msg\\\'\n      ---------------\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['actual']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['e']
                                 $recv: #NameExpr['message']
                              ]
                              $recv: #NameExpr['gsub']
                              $param: #List[
                                 $expression: #Regex['/^.+:\\d+/']
                                 $expression: #StringExpr['FILE:LINE']
                              ]
                           ]
                        ]
                        $statement: #IfExpr[
                           $then: #ApplyExpr[
                              $recv: #NameExpr['actual']
                              $recv: #NameExpr['gsub!']
                              $param: #List[
                                 $expression: #Regex['/block \\(\\d+ levels\\) in /']
                                 $expression: #StringExpr['']
                              ]
                           ]
                           $cond: #GteExpt[
                              $left: #NameExpr['RUBY_VERSION']
                              $right: #StringExpr['1.9.0']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['expected']
                                 $recv: #NameExpr['chomp']
                              ]
                              $expression: #NameExpr['actual']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_raises_triggered_none']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['e']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['assert_raises']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['MiniTest']
                                    $name: #NameExpr['Assertion']
                                 ]
                              ]
                              $body: #Block[
                                 $body: #ApplyExpr[
                                    $base: #NameExpr['@tc']
                                    $recv: #NameExpr['assert_raises']
                                    $param: #List[
                                       $expression: #Field[
                                          $recv: #NameExpr['MiniTest']
                                          $name: #NameExpr['Assertion']
                                       ]
                                    ]
                                    $body: #Block[
                                       $body: #Empty['']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #StringExpr['MiniTest::Assertion expected but nothing was raised.']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['e']
                                 $recv: #NameExpr['message']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_raises_triggered_none_msg']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['e']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['assert_raises']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['MiniTest']
                                    $name: #NameExpr['Assertion']
                                 ]
                              ]
                              $body: #Block[
                                 $body: #ApplyExpr[
                                    $base: #NameExpr['@tc']
                                    $recv: #NameExpr['assert_raises']
                                    $param: #List[
                                       $expression: #Field[
                                          $recv: #NameExpr['MiniTest']
                                          $name: #NameExpr['Assertion']
                                       ]
                                       $expression: #StringExpr['XXX']
                                    ]
                                    $body: #Block[
                                       $body: #Empty['']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #StringExpr['XXX.\\nMiniTest::Assertion expected but nothing was raised.']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['e']
                                 $recv: #NameExpr['message']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_raises_triggered_subclass']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['e']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['assert_raises']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['MiniTest']
                                    $name: #NameExpr['Assertion']
                                 ]
                              ]
                              $body: #Block[
                                 $body: #ApplyExpr[
                                    $base: #NameExpr['@tc']
                                    $recv: #NameExpr['assert_raises']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['StandardError']
                                          $body: #Block[
                                             $body: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['raise']
                                                $param: #List[
                                                   $expression: #NameExpr['AnError']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['clean']
                              $param: #List[
                                 $expression: #HereDocument['      [StandardError] exception expected, not\n      Class: <AnError>\n      Message: <\\"AnError\\">\n      ---Backtrace---\n      FILE:LINE:in \\`test_assert_raises_triggered_subclass\\\'\n      ---------------\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['actual']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['e']
                                 $recv: #NameExpr['message']
                              ]
                              $recv: #NameExpr['gsub']
                              $param: #List[
                                 $expression: #Regex['/^.+:\\d+/']
                                 $expression: #StringExpr['FILE:LINE']
                              ]
                           ]
                        ]
                        $statement: #IfExpr[
                           $then: #ApplyExpr[
                              $recv: #NameExpr['actual']
                              $recv: #NameExpr['gsub!']
                              $param: #List[
                                 $expression: #Regex['/block \\(\\d+ levels\\) in /']
                                 $expression: #StringExpr['']
                              ]
                           ]
                           $cond: #GteExpt[
                              $left: #NameExpr['RUBY_VERSION']
                              $right: #StringExpr['1.9.0']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['actual']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_respond_to']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $base: #NameExpr['@tc']
                        $recv: #NameExpr['assert_respond_to']
                        $param: #List[
                           $expression: #StringExpr['blah']
                           $expression: #NameExpr['empty?']
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_respond_to_triggered']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #StringExpr['Expected "blah" (String) to respond to #rawr!.']
                        ]
                        $body: #Block[
                           $body: #ApplyExpr[
                              $base: #NameExpr['@tc']
                              $recv: #NameExpr['assert_respond_to']
                              $param: #List[
                                 $expression: #StringExpr['blah']
                                 $expression: #NameExpr['rawr!']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_same']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['3']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['o']
                           $right: #StringExpr['blah']
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@tc']
                           $recv: #NameExpr['assert_same']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #IntExpr['1']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@tc']
                           $recv: #NameExpr['assert_same']
                           $param: #List[
                              $expression: #NameExpr['blah']
                              $expression: #NameExpr['blah']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@tc']
                           $recv: #NameExpr['assert_same']
                           $param: #List[
                              $expression: #NameExpr['o']
                              $expression: #NameExpr['o']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_same_triggered']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['2']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_assert_triggered']
                           $param: #List[
                              $expression: #StringExpr['Expected 2 (oid=N) to be the same as 1 (oid=N).']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $base: #NameExpr['@tc']
                                 $recv: #NameExpr['assert_same']
                                 $param: #List[
                                    $expression: #IntExpr['1']
                                    $expression: #IntExpr['2']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s1']
                           $right: #StringExpr['blah']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s2']
                           $right: #StringExpr['blah']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_assert_triggered']
                           $param: #List[
                              $expression: #StringExpr['Expected "blah" (oid=N) to be the same as "blah" (oid=N).']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $base: #NameExpr['@tc']
                                 $recv: #NameExpr['assert_same']
                                 $param: #List[
                                    $expression: #NameExpr['s1']
                                    $expression: #NameExpr['s2']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_send']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $base: #NameExpr['@tc']
                        $recv: #NameExpr['assert_send']
                        $param: #List[
                           $expression: #Array[
                              $index: #List[
                                 $expression: #IntExpr['1']
                                 $expression: #NameExpr['<']
                                 $expression: #IntExpr['2']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_send_bad']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #StringExpr['Expected 1.>(*[2]) to return true.']
                        ]
                        $body: #Block[
                           $body: #ApplyExpr[
                              $base: #NameExpr['@tc']
                              $recv: #NameExpr['assert_send']
                              $param: #List[
                                 $expression: #Array[
                                    $index: #List[
                                       $expression: #IntExpr['1']
                                       $expression: #NameExpr['>']
                                       $expression: #IntExpr['2']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_silent']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['2']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@tc']
                           $recv: #NameExpr['assert_silent']
                           $body: #Block[
                              $body: #Empty['']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_silent_triggered_err']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['util_msg']
                              $param: #List[
                                 $expression: #StringExpr['']
                                 $expression: #StringExpr['blah blah']
                                 $expression: #StringExpr['In stderr']
                              ]
                              $body: #Block[
                                 $body: #ApplyExpr[
                                    $recv: #NameExpr['@tc']
                                    $recv: #NameExpr['assert_silent']
                                    $body: #Block[
                                       $body: #ApplyExpr[
                                          $base: #NameExpr['$stderr']
                                          $recv: #NameExpr['print']
                                          $param: #List[
                                             $expression: #StringExpr['blah blah']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_silent_triggered_out']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['2']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_assert_triggered']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['util_msg']
                                 $param: #List[
                                    $expression: #StringExpr['']
                                    $expression: #StringExpr['blah blah']
                                    $expression: #StringExpr['In stdout']
                                 ]
                                 $body: #Block[
                                    $body: #ApplyExpr[
                                       $recv: #NameExpr['@tc']
                                       $recv: #NameExpr['assert_silent']
                                       $body: #Block[
                                          $body: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['print']
                                             $param: #List[
                                                $expression: #StringExpr['blah blah']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_throws']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $base: #NameExpr['@tc']
                        $recv: #NameExpr['assert_throws']
                        $param: #List[
                           $expression: #NameExpr['blah']
                        ]
                        $body: #Block[
                           $body: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['throw']
                              $param: #List[
                                 $expression: #NameExpr['blah']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_throws_different']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #StringExpr['Expected :blah to have been thrown, not :not_blah.']
                        ]
                        $body: #Block[
                           $body: #ApplyExpr[
                              $base: #NameExpr['@tc']
                              $recv: #NameExpr['assert_throws']
                              $param: #List[
                                 $expression: #NameExpr['blah']
                              ]
                              $body: #Block[
                                 $body: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['throw']
                                    $param: #List[
                                       $expression: #NameExpr['not_blah']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_assert_throws_unthrown']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #StringExpr['Expected :blah to have been thrown.']
                        ]
                        $body: #Block[
                           $body: #ApplyExpr[
                              $base: #NameExpr['@tc']
                              $recv: #NameExpr['assert_throws']
                              $param: #List[
                                 $expression: #NameExpr['blah']
                              ]
                              $body: #Block[
                                 $body: #Empty['']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_capture_io']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['0']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['non_verbose']
                           $body: #Block[
                              $body: #List[
                                 $statement: #MultipleAssign[
                                    $left: #MultipleLeftHandSideExpression[
                                       $item: #NameExpr['out']
                                       $item: #NameExpr['err']
                                    ]
                                    $right: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['capture_io']
                                       $body: #Block[
                                          $body: #List[
                                             $statement: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['puts']
                                                $param: #List[
                                                   $expression: #StringExpr['hi']
                                                ]
                                             ]
                                             $statement: #ApplyExpr[
                                                $base: #NameExpr['$stderr']
                                                $recv: #NameExpr['puts']
                                                $param: #List[
                                                   $expression: #StringExpr['bye!']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #StringExpr['hi\\n']
                                       $expression: #NameExpr['out']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #StringExpr['bye!\\n']
                                       $expression: #NameExpr['err']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_capture_subprocess_io']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['0']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['non_verbose']
                           $body: #Block[
                              $body: #List[
                                 $statement: #MultipleAssign[
                                    $left: #MultipleLeftHandSideExpression[
                                       $item: #NameExpr['out']
                                       $item: #NameExpr['err']
                                    ]
                                    $right: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['capture_subprocess_io']
                                       $body: #Block[
                                          $body: #List[
                                             $statement: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['system']
                                                $param: #List[
                                                   $expression: #StringExpr['echo']
                                                   $expression: #StringExpr['hi']
                                                ]
                                             ]
                                             $statement: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['system']
                                                $param: #List[
                                                   $expression: #StringExpr['echo']
                                                   $expression: #StringExpr['bye!']
                                                   $hash: #Hash[
                                                      $key: #NameExpr['out']
                                                      $value: #NameExpr['err']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #StringExpr['hi\\n']
                                       $expression: #NameExpr['out']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #StringExpr['bye!\\n']
                                       $expression: #NameExpr['err']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_class_asserts_match_refutes']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['0']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['methods']
                           $right: #ApplyExpr[
                              $recv: #Field[
                                 $recv: #NameExpr['MiniTest']
                                 $name: #NameExpr['Assertions']
                              ]
                              $recv: #NameExpr['public_instance_methods']
                           ]
                        ]
                        $statement: #IfExpr[
                           $then: #ApplyExpr[
                              $recv: #NameExpr['methods']
                              $recv: #NameExpr['map!']
                              $body: #Block[
                                 $param: #NameExpr['m']
                                 $body: #ApplyExpr[
                                    $recv: #NameExpr['m']
                                    $recv: #NameExpr['to_s']
                                 ]
                              ]
                           ]
                           $cond: #StrictEquals[
                              $left: #NameExpr['Symbol']
                              $right: #ApplyExpr[
                                 $recv: #NameExpr['methods']
                                 $recv: #NameExpr['first']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['ignores']
                           $right: #ParcentNotation['%w[assert_output assert_raises assert_send\n                 assert_silent assert_throws]']
                        ]
                        $statement: #AddAssign[
                           $left: #NameExpr['ignores']
                           $right: #ParcentNotation['%w[assert_no_match assert_not_equal assert_not_nil\n                  assert_not_same assert_nothing_raised\n                  assert_nothing_thrown assert_raise]']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['asserts']
                           $right: #SubExpr[
                              $left: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['methods']
                                    $recv: #NameExpr['grep']
                                    $param: #List[
                                       $expression: #Regex['/^assert/']
                                    ]
                                 ]
                                 $recv: #NameExpr['sort']
                              ]
                              $right: #NameExpr['ignores']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['refutes']
                           $right: #SubExpr[
                              $left: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['methods']
                                    $recv: #NameExpr['grep']
                                    $param: #List[
                                       $expression: #Regex['/^refute/']
                                    ]
                                 ]
                                 $recv: #NameExpr['sort']
                              ]
                              $right: #NameExpr['ignores']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #SubExpr[
                                 $left: #ApplyExpr[
                                    $recv: #NameExpr['refutes']
                                    $recv: #NameExpr['map']
                                    $body: #Block[
                                       $param: #NameExpr['n']
                                       $body: #ApplyExpr[
                                          $recv: #NameExpr['n']
                                          $recv: #NameExpr['sub']
                                          $param: #List[
                                             $expression: #Regex['/^refute/']
                                             $expression: #StringExpr['assert']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $right: #NameExpr['asserts']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #SubExpr[
                                 $left: #ApplyExpr[
                                    $recv: #NameExpr['asserts']
                                    $recv: #NameExpr['map']
                                    $body: #Block[
                                       $param: #NameExpr['n']
                                       $body: #ApplyExpr[
                                          $recv: #NameExpr['n']
                                          $recv: #NameExpr['sub']
                                          $param: #List[
                                             $expression: #Regex['/^assert/']
                                             $expression: #StringExpr['refute']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $right: #NameExpr['refutes']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_flunk']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #StringExpr['Epic Fail!']
                        ]
                        $body: #Block[
                           $body: #ApplyExpr[
                              $recv: #NameExpr['@tc']
                              $recv: #NameExpr['flunk']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_flunk_message']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #NameExpr['@zomg']
                        ]
                        $body: #Block[
                           $body: #ApplyExpr[
                              $base: #NameExpr['@tc']
                              $recv: #NameExpr['flunk']
                              $param: #List[
                                 $expression: #NameExpr['@zomg']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_message']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['0']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['blah2.']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@tc']
                                    $recv: #NameExpr['message']
                                    $body: #Block[
                                       $body: #StringExpr['blah2']
                                    ]
                                 ]
                                 $recv: #NameExpr['call']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['blah2.']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@tc']
                                    $recv: #NameExpr['message']
                                    $param: #List[
                                       $expression: #StringExpr['']
                                    ]
                                    $body: #Block[
                                       $body: #StringExpr['blah2']
                                    ]
                                 ]
                                 $recv: #NameExpr['call']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['blah1.\\nblah2.']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@tc']
                                    $recv: #NameExpr['message']
                                    $param: #List[
                                       $expression: #NameExpr['blah1']
                                    ]
                                    $body: #Block[
                                       $body: #StringExpr['blah2']
                                    ]
                                 ]
                                 $recv: #NameExpr['call']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['blah1.\\nblah2.']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@tc']
                                    $recv: #NameExpr['message']
                                    $param: #List[
                                       $expression: #StringExpr['blah1']
                                    ]
                                    $body: #Block[
                                       $body: #StringExpr['blah2']
                                    ]
                                 ]
                                 $recv: #NameExpr['call']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['message']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['proc']
                              $body: #Block[
                                 $body: #StringExpr['blah1']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['blah1.\\nblah2.']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@tc']
                                    $recv: #NameExpr['message']
                                    $param: #List[
                                       $expression: #NameExpr['message']
                                    ]
                                    $body: #Block[
                                       $body: #StringExpr['blah2']
                                    ]
                                 ]
                                 $recv: #NameExpr['call']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['message']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@tc']
                              $recv: #NameExpr['message']
                              $body: #Block[
                                 $body: #StringExpr['blah1']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['blah1.\\nblah2.']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@tc']
                                    $recv: #NameExpr['message']
                                    $param: #List[
                                       $expression: #NameExpr['message']
                                    ]
                                    $body: #Block[
                                       $body: #StringExpr['blah2']
                                    ]
                                 ]
                                 $recv: #NameExpr['call']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_message_message']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #StringExpr['whoops.\\nExpected: 1\\n  Actual: 2']
                        ]
                        $body: #Block[
                           $body: #ApplyExpr[
                              $base: #NameExpr['@tc']
                              $recv: #NameExpr['assert_equal']
                              $param: #List[
                                 $expression: #IntExpr['1']
                                 $expression: #IntExpr['2']
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['message']
                                    $body: #Block[
                                       $body: #StringExpr['whoops']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_message_lambda']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #StringExpr['whoops.\\nExpected: 1\\n  Actual: 2']
                        ]
                        $body: #Block[
                           $body: #ApplyExpr[
                              $base: #NameExpr['@tc']
                              $recv: #NameExpr['assert_equal']
                              $param: #List[
                                 $expression: #IntExpr['1']
                                 $expression: #IntExpr['2']
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['lambda']
                                    $body: #Block[
                                       $body: #StringExpr['whoops']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_message_deferred']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #MultipleAssign[
                           $left: #MultipleLeftHandSideExpression[
                              $item: #NameExpr['@assertion_count']
                              $item: #NameExpr['var']
                           ]
                           $right: #MultipleRightHandSideExpression[
                              $expression: #IntExpr['0']
                              $expression: #Nil['nil']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['msg']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['message']
                              $body: #Block[
                                 $body: #AssignExpr[
                                    $left: #NameExpr['var']
                                    $right: #StringExpr['blah']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nil']
                           $param: #List[
                              $expression: #NameExpr['var']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['msg']
                           $recv: #NameExpr['call']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['blah']
                              $expression: #NameExpr['var']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_pass']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $recv: #NameExpr['@tc']
                        $recv: #NameExpr['pass']
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_prints']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['printer']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Class']
                              $recv: #NameExpr['new']
                              $body: #Block[
                                 $body: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['extend']
                                    $param: #List[
                                       $expression: #Field[
                                          $recv: #NameExpr['MiniTest']
                                          $name: #NameExpr['Assertions']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@tc']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['"test"']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['printer']
                                 $recv: #NameExpr['mu_pp']
                                 $param: #List[
                                    $command: #ApplyExpr[
                                       $base: #NameExpr['ImmutableString']
                                       $recv: #NameExpr['new']
                                       $param: #List[
                                          $expression: #StringExpr['test']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_refute']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['2']
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@tc']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@tc']
                                 $recv: #NameExpr['refute']
                                 $param: #List[
                                    $expression: #FalseExpr['false']
                                 ]
                              ]
                              $expression: #StringExpr['returns false on success']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_refute_empty']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['2']
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@tc']
                           $recv: #NameExpr['refute_empty']
                           $param: #List[
                              $expression: #Array[
                                 $index: #List[
                                    $expression: #IntExpr['1']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_refute_empty_triggered']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['2']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_assert_triggered']
                           $param: #List[
                              $expression: #StringExpr['Expected [] to not be empty.']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $base: #NameExpr['@tc']
                                 $recv: #NameExpr['refute_empty']
                                 $param: #List[
                                    $expression: #Array['[]']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_refute_equal']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $base: #NameExpr['@tc']
                        $recv: #NameExpr['refute_equal']
                        $param: #List[
                           $expression: #StringExpr['blah']
                           $expression: #StringExpr['yay']
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_refute_equal_triggered']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #StringExpr['Expected "blah" to not be equal to "blah".']
                        ]
                        $body: #Block[
                           $body: #ApplyExpr[
                              $base: #NameExpr['@tc']
                              $recv: #NameExpr['refute_equal']
                              $param: #List[
                                 $expression: #StringExpr['blah']
                                 $expression: #StringExpr['blah']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_refute_in_delta']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $base: #NameExpr['@tc']
                        $recv: #NameExpr['refute_in_delta']
                        $param: #List[
                           $expression: #FloatExpr['0.0']
                           $expression: #DivExpr[
                              $left: #FloatExpr['1.0']
                              $right: #IntExpr['1000']
                           ]
                           $expression: #FloatExpr['0.000001']
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_refute_in_delta_triggered']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['x']
                           $right: #Conditional[
                              $cond: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['maglev?']
                              ]
                              $then: #StringExpr['0.100000xxx']
                              $else: #StringExpr['0.1']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_assert_triggered']
                           $param: #List[
                              $expression: #StringExpr[
                                 $inner: #NameExpr['x']
                              ]
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $base: #NameExpr['@tc']
                                 $recv: #NameExpr['refute_in_delta']
                                 $param: #List[
                                    $expression: #FloatExpr['0.0']
                                    $expression: #DivExpr[
                                       $left: #FloatExpr['1.0']
                                       $right: #IntExpr['1000']
                                    ]
                                    $expression: #FloatExpr['0.1']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_refute_in_epsilon']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $base: #NameExpr['@tc']
                        $recv: #NameExpr['refute_in_epsilon']
                        $param: #List[
                           $expression: #IntExpr['10000']
                           $expression: #SubExpr[
                              $left: #IntExpr['9990']
                              $right: #IntExpr['1']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_refute_in_epsilon_triggered']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #StringExpr['Expected |10000 - 9990| (10) to not be <= 10.0.']
                        ]
                        $body: #Block[
                           $body: #List[
                              $statement: #ApplyExpr[
                                 $base: #NameExpr['@tc']
                                 $recv: #NameExpr['refute_in_epsilon']
                                 $param: #List[
                                    $expression: #IntExpr['10000']
                                    $expression: #IntExpr['9990']
                                 ]
                              ]
                              $statement: #NameExpr['fail']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_refute_includes']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['2']
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@tc']
                           $recv: #NameExpr['refute_includes']
                           $param: #List[
                              $expression: #Array[
                                 $index: #List[
                                    $expression: #TrueExpr['true']
                                 ]
                              ]
                              $expression: #FalseExpr['false']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_refute_includes_triggered']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['3']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['e']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@tc']
                              $recv: #NameExpr['assert_raises']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['MiniTest']
                                    $name: #NameExpr['Assertion']
                                 ]
                              ]
                              $body: #Block[
                                 $body: #ApplyExpr[
                                    $base: #NameExpr['@tc']
                                    $recv: #NameExpr['refute_includes']
                                    $param: #List[
                                       $expression: #Array[
                                          $index: #List[
                                             $expression: #TrueExpr['true']
                                          ]
                                       ]
                                       $expression: #TrueExpr['true']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #StringExpr['Expected [true] to not include true.']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['e']
                                 $recv: #NameExpr['message']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_refute_instance_of']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $base: #NameExpr['@tc']
                        $recv: #NameExpr['refute_instance_of']
                        $param: #List[
                           $expression: #NameExpr['Array']
                           $expression: #StringExpr['blah']
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_refute_instance_of_triggered']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #StringExpr['Expected "blah" to not be an instance of String.']
                        ]
                        $body: #Block[
                           $body: #ApplyExpr[
                              $base: #NameExpr['@tc']
                              $recv: #NameExpr['refute_instance_of']
                              $param: #List[
                                 $expression: #NameExpr['String']
                                 $expression: #StringExpr['blah']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_refute_kind_of']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $base: #NameExpr['@tc']
                        $recv: #NameExpr['refute_kind_of']
                        $param: #List[
                           $expression: #NameExpr['Array']
                           $expression: #StringExpr['blah']
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_refute_kind_of_triggered']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #StringExpr['Expected "blah" to not be a kind of String.']
                        ]
                        $body: #Block[
                           $body: #ApplyExpr[
                              $base: #NameExpr['@tc']
                              $recv: #NameExpr['refute_kind_of']
                              $param: #List[
                                 $expression: #NameExpr['String']
                                 $expression: #StringExpr['blah']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_refute_match']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['2']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@tc']
                           $recv: #NameExpr['refute_match']
                           $param: #List[
                              $expression: #Regex['/\\d+/']
                              $expression: #StringExpr['blah blah blah']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_refute_match_matcher_object']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['2']
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@tc']
                           $recv: #NameExpr['refute_match']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Object']
                                 $recv: #NameExpr['new']
                              ]
                              $expression: #IntExpr['5']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_refute_match_object_triggered']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['2']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['pattern']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Object']
                              $recv: #NameExpr['new']
                           ]
                        ]
                        $statement: #SFuncDecl[
                           $path: #NameExpr['pattern']
                           $name: #NameExpr['=~']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['other']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #TrueExpr['true']
                           ]
                        ]
                        $statement: #SFuncDecl[
                           $path: #NameExpr['pattern']
                           $name: #NameExpr['inspect']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #StringExpr['[Object]']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_assert_triggered']
                           $param: #List[
                              $expression: #StringExpr['Expected [Object] to not match 5.']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $base: #NameExpr['@tc']
                                 $recv: #NameExpr['refute_match']
                                 $param: #List[
                                    $expression: #NameExpr['pattern']
                                    $expression: #IntExpr['5']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_refute_match_triggered']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['2']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_assert_triggered']
                           $param: #List[
                              $expression: #StringExpr['Expected /\\w+/ to not match "blah blah blah".']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #NameExpr['@tc']
                                 $recv: #NameExpr['refute_match']
                                 $param: #List[
                                    $expression: #Regex['/\\w+/']
                                    $expression: #StringExpr['blah blah blah']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_refute_nil']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $base: #NameExpr['@tc']
                        $recv: #NameExpr['refute_nil']
                        $param: #List[
                           $expression: #IntExpr['42']
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_refute_nil_triggered']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #StringExpr['Expected nil to not be nil.']
                        ]
                        $body: #Block[
                           $body: #ApplyExpr[
                              $base: #NameExpr['@tc']
                              $recv: #NameExpr['refute_nil']
                              $param: #List[
                                 $expression: #Nil['nil']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_refute_predicate']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $base: #NameExpr['@tc']
                        $recv: #NameExpr['refute_predicate']
                        $param: #List[
                           $expression: #StringExpr['42']
                           $expression: #NameExpr['empty?']
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_refute_predicate_triggered']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #StringExpr['Expected "" to not be empty?.']
                        ]
                        $body: #Block[
                           $body: #ApplyExpr[
                              $base: #NameExpr['@tc']
                              $recv: #NameExpr['refute_predicate']
                              $param: #List[
                                 $expression: #StringExpr['']
                                 $expression: #NameExpr['empty?']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_refute_operator']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $base: #NameExpr['@tc']
                        $recv: #NameExpr['refute_operator']
                        $param: #List[
                           $expression: #IntExpr['2']
                           $expression: #NameExpr['<']
                           $expression: #IntExpr['1']
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_refute_operator_bad_object']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['bad']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Object']
                              $recv: #NameExpr['new']
                           ]
                        ]
                        $statement: #SFuncDecl[
                           $path: #NameExpr['bad']
                           $name: #NameExpr['==']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['other']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #TrueExpr['true']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@tc']
                           $recv: #NameExpr['refute_operator']
                           $param: #List[
                              $expression: #TrueExpr['true']
                              $expression: #NameExpr['equal?']
                              $expression: #NameExpr['bad']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_refute_operator_triggered']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #StringExpr['Expected 2 to not be > 1.']
                        ]
                        $body: #Block[
                           $body: #ApplyExpr[
                              $base: #NameExpr['@tc']
                              $recv: #NameExpr['refute_operator']
                              $param: #List[
                                 $expression: #IntExpr['2']
                                 $expression: #NameExpr['>']
                                 $expression: #IntExpr['1']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_refute_respond_to']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $base: #NameExpr['@tc']
                        $recv: #NameExpr['refute_respond_to']
                        $param: #List[
                           $expression: #StringExpr['blah']
                           $expression: #NameExpr['rawr!']
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_refute_respond_to_triggered']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #StringExpr['Expected "blah" to not respond to empty?.']
                        ]
                        $body: #Block[
                           $body: #ApplyExpr[
                              $base: #NameExpr['@tc']
                              $recv: #NameExpr['refute_respond_to']
                              $param: #List[
                                 $expression: #StringExpr['blah']
                                 $expression: #NameExpr['empty?']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_refute_same']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $base: #NameExpr['@tc']
                        $recv: #NameExpr['refute_same']
                        $param: #List[
                           $expression: #IntExpr['1']
                           $expression: #IntExpr['2']
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_refute_same_triggered']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['util_assert_triggered']
                        $param: #List[
                           $expression: #StringExpr['Expected 1 (oid=N) to not be the same as 1 (oid=N).']
                        ]
                        $body: #Block[
                           $body: #ApplyExpr[
                              $base: #NameExpr['@tc']
                              $recv: #NameExpr['refute_same']
                              $param: #List[
                                 $expression: #IntExpr['1']
                                 $expression: #IntExpr['1']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_skip']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['0']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_assert_triggered']
                           $param: #List[
                              $expression: #StringExpr['haha!']
                              $expression: #Field[
                                 $recv: #NameExpr['MiniTest']
                                 $name: #NameExpr['Skip']
                              ]
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $base: #NameExpr['@tc']
                                 $recv: #NameExpr['skip']
                                 $param: #List[
                                    $expression: #StringExpr['haha!']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_test_methods_random']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['0']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['sample_test_case']
                           $right: #ApplyExpr[
                              $base: #NameExpr['Class']
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['MiniTest']
                                       $name: #NameExpr['Unit']
                                    ]
                                    $name: #NameExpr['TestCase']
                                 ]
                              ]
                              $body: #Block[
                                 $body: #List[
                                    $statement: #SFuncDecl[
                                       $path: #Self['self']
                                       $name: #NameExpr['test_order']
                                       $param: #List['']
                                       $body: #BlockExpr[
                                          $main: #NameExpr['random']
                                       ]
                                    ]
                                    $statement: #FuncDecl[
                                       $name: #NameExpr['test_test1']
                                       $param: #List['']
                                       $body: #BlockExpr[
                                          $main: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['assert']
                                             $param: #List[
                                                $expression: #StringExpr['does not matter']
                                             ]
                                          ]
                                       ]
                                    ]
                                    $statement: #FuncDecl[
                                       $name: #NameExpr['test_test2']
                                       $param: #List['']
                                       $body: #BlockExpr[
                                          $main: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['assert']
                                             $param: #List[
                                                $expression: #StringExpr['does not matter']
                                             ]
                                          ]
                                       ]
                                    ]
                                    $statement: #FuncDecl[
                                       $name: #NameExpr['test_test3']
                                       $param: #List['']
                                       $body: #BlockExpr[
                                          $main: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['assert']
                                             $param: #List[
                                                $expression: #StringExpr['does not matter']
                                             ]
                                          ]
                                       ]
                                    ]
                                    $statement: #AssignExpr[
                                       $left: #NameExpr['@test_order']
                                       $right: #Array[
                                          $index: #List[
                                             $expression: #IntExpr['1']
                                             $expression: #IntExpr['0']
                                             $expression: #IntExpr['2']
                                          ]
                                       ]
                                    ]
                                    $statement: #SFuncDecl[
                                       $path: #Self['self']
                                       $name: #NameExpr['rand']
                                       $param: #List[
                                          $param: #Param[
                                             $param: #NameExpr['n']
                                          ]
                                       ]
                                       $body: #BlockExpr[
                                          $main: #ApplyExpr[
                                             $recv: #NameExpr['@test_order']
                                             $recv: #NameExpr['shift']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ParcentNotation['%w(test_test2 test_test1 test_test3)']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['sample_test_case']
                                 $recv: #NameExpr['test_methods']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_test_methods_sorted']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['@assertion_count']
                           $right: #IntExpr['0']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['sample_test_case']
                           $right: #ApplyExpr[
                              $base: #NameExpr['Class']
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['MiniTest']
                                       $name: #NameExpr['Unit']
                                    ]
                                    $name: #NameExpr['TestCase']
                                 ]
                              ]
                              $body: #Block[
                                 $body: #List[
                                    $statement: #SFuncDecl[
                                       $path: #Self['self']
                                       $name: #NameExpr['test_order']
                                       $param: #List['']
                                       $body: #BlockExpr[
                                          $main: #NameExpr['sorted']
                                       ]
                                    ]
                                    $statement: #FuncDecl[
                                       $name: #NameExpr['test_test3']
                                       $param: #List['']
                                       $body: #BlockExpr[
                                          $main: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['assert']
                                             $param: #List[
                                                $expression: #StringExpr['does not matter']
                                             ]
                                          ]
                                       ]
                                    ]
                                    $statement: #FuncDecl[
                                       $name: #NameExpr['test_test2']
                                       $param: #List['']
                                       $body: #BlockExpr[
                                          $main: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['assert']
                                             $param: #List[
                                                $expression: #StringExpr['does not matter']
                                             ]
                                          ]
                                       ]
                                    ]
                                    $statement: #FuncDecl[
                                       $name: #NameExpr['test_test1']
                                       $param: #List['']
                                       $body: #BlockExpr[
                                          $main: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['assert']
                                             $param: #List[
                                                $expression: #StringExpr['does not matter']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ParcentNotation['%w(test_test1 test_test2 test_test3)']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['sample_test_case']
                                 $recv: #NameExpr['test_methods']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['util_assert_triggered']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['expected']
                     ]
                     $param: #OptionalParam[
                        $name: #NameExpr['klass']
                        $default: #Field[
                           $recv: #NameExpr['MiniTest']
                           $name: #NameExpr['Assertion']
                        ]
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['e']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['assert_raises']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['klass']
                                    $body: #Block[
                                       $body: #Yield['yield']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['msg']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['e']
                                 $recv: #NameExpr['message']
                              ]
                              $recv: #NameExpr['sub']
                              $param: #List[
                                 $expression: #Regex['/(---Backtrace---).*/m']
                                 $expression: #StringExpr['\\1']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['msg']
                           $recv: #NameExpr['gsub!']
                           $param: #List[
                              $expression: #Regex['/\\(oid=[-0-9]+\\)/']
                              $expression: #StringExpr['(oid=N)']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['msg']
                           $recv: #NameExpr['gsub!']
                           $param: #List[
                              $expression: #Regex['/(\\d\\.\\d{6})\\d+/']
                              $expression: #StringExpr['\\1xxx']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['msg']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['util_msg']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['exp']
                     ]
                     $param: #Param[
                        $param: #NameExpr['act']
                     ]
                     $param: #OptionalParam[
                        $name: #NameExpr['msg']
                        $default: #Nil['nil']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #StringExpr[
                              $inner: #ApplyExpr[
                                 $recv: #NameExpr['exp']
                                 $recv: #NameExpr['inspect']
                              ]
                              $inner: #ApplyExpr[
                                 $recv: #NameExpr['act']
                                 $recv: #NameExpr['inspect']
                              ]
                           ]
                        ]
                        $statement: #IfExpr[
                           $then: #AssignExpr[
                              $left: #NameExpr['s']
                              $right: #StringExpr[
                                 $inner: #NameExpr['msg']
                                 $inner: #NameExpr['s']
                              ]
                           ]
                           $cond: #NameExpr['msg']
                        ]
                        $statement: #NameExpr['s']
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['without_diff']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['old_diff']
                           $right: #ApplyExpr[
                              $recv: #Field[
                                 $recv: #NameExpr['MiniTest']
                                 $name: #NameExpr['Assertions']
                              ]
                              $recv: #NameExpr['diff']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #Field[
                                 $recv: #NameExpr['MiniTest']
                                 $name: #NameExpr['Assertions']
                              ]
                              $name: #NameExpr['diff']
                           ]
                           $right: #Nil['nil']
                        ]
                        $statement: #Yield['yield']
                     ]
                     $ensure: #AssignExpr[
                        $left: #Field[
                           $base: #Field[
                              $recv: #NameExpr['MiniTest']
                              $name: #NameExpr['Assertions']
                           ]
                           $name: #NameExpr['diff']
                        ]
                        $right: #NameExpr['old_diff']
                     ]
                  ]
               ]
            ]
         ]
      ]
      $statement: #Class[
         $name: #NameExpr['TestMiniTestGuard']
         $super: #Field[
            $recv: #Field[
               $recv: #NameExpr['MiniTest']
               $name: #NameExpr['Unit']
            ]
            $name: #NameExpr['TestCase']
         ]
         $body: #BlockExpr[
            $main: #List[
               $statement: #FuncDecl[
                  $name: #NameExpr['test_mri_eh']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $command: #ApplyExpr[
                                 $base: #ApplyExpr[
                                    $recv: #Self['self']
                                    $recv: #NameExpr['class']
                                 ]
                                 $recv: #NameExpr['mri?']
                                 $param: #List[
                                    $expression: #StringExpr['ruby blah']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $command: #ApplyExpr[
                                 $base: #Self['self']
                                 $recv: #NameExpr['mri?']
                                 $param: #List[
                                    $expression: #StringExpr['ruby blah']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_jruby_eh']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $command: #ApplyExpr[
                                 $base: #ApplyExpr[
                                    $recv: #Self['self']
                                    $recv: #NameExpr['class']
                                 ]
                                 $recv: #NameExpr['jruby?']
                                 $param: #List[
                                    $expression: #StringExpr['java']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $command: #ApplyExpr[
                                 $base: #Self['self']
                                 $recv: #NameExpr['jruby?']
                                 $param: #List[
                                    $expression: #StringExpr['java']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_rubinius_eh']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $command: #ApplyExpr[
                                 $base: #ApplyExpr[
                                    $recv: #Self['self']
                                    $recv: #NameExpr['class']
                                 ]
                                 $recv: #NameExpr['rubinius?']
                                 $param: #List[
                                    $expression: #StringExpr['rbx']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $command: #ApplyExpr[
                                 $base: #Self['self']
                                 $recv: #NameExpr['rubinius?']
                                 $param: #List[
                                    $expression: #StringExpr['rbx']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_windows_eh']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $command: #ApplyExpr[
                                 $base: #ApplyExpr[
                                    $recv: #Self['self']
                                    $recv: #NameExpr['class']
                                 ]
                                 $recv: #NameExpr['windows?']
                                 $param: #List[
                                    $expression: #StringExpr['mswin']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $command: #ApplyExpr[
                                 $base: #Self['self']
                                 $recv: #NameExpr['windows?']
                                 $param: #List[
                                    $expression: #StringExpr['mswin']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
            ]
         ]
      ]
      $statement: #Class[
         $name: #NameExpr['TestMiniTestUnitRecording']
         $super: #NameExpr['MetaMetaMetaTestCase']
         $body: #BlockExpr[
            $main: #List[
               $statement: #FuncDecl[
                  $name: #NameExpr['assert_run_record']
                  $param: #List[
                     $param: #VariadicParam[
                        $name: #NameExpr['expected']
                     ]
                     $param: #ProcedureParam[
                        $name: #NameExpr['block']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #SFuncDecl[
                           $path: #NameExpr['@tu']
                           $name: #NameExpr['record']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['suite']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['method']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['assertions']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['time']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['error']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #LShiftExpr[
                                 $left: #Indexer[
                                    $recv: #NameExpr['recording']
                                    $index: #List[
                                       $expression: #NameExpr['method']
                                    ]
                                 ]
                                 $right: #NameExpr['error']
                              ]
                           ]
                        ]
                        $statement: #SFuncDecl[
                           $path: #NameExpr['@tu']
                           $name: #NameExpr['recording']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #LOrAssign[
                                 $left: #NameExpr['@recording']
                                 $right: #ApplyExpr[
                                    $recv: #NameExpr['Hash']
                                    $recv: #NameExpr['new']
                                    $body: #Block[
                                       $param: #MultipleLeftHandSideExpression[
                                          $item: #NameExpr['h']
                                          $item: #NameExpr['k']
                                       ]
                                       $body: #AssignExpr[
                                          $left: #Indexer[
                                             $base: #NameExpr['h']
                                             $index: #List[
                                                $expression: #NameExpr['k']
                                             ]
                                          ]
                                          $right: #Array['[]']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #Field[
                                 $recv: #NameExpr['MiniTest']
                                 $name: #NameExpr['Unit']
                              ]
                              $name: #NameExpr['runner']
                           ]
                           $right: #NameExpr['@tu']
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['Class']
                           $recv: #NameExpr['new']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #NameExpr['MiniTest']
                                    $name: #NameExpr['Unit']
                                 ]
                                 $name: #NameExpr['TestCase']
                              ]
                              $procedure: #Procedure[
                                 $base: #NameExpr['block']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['with_output']
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #NameExpr['@tu']
                                 $recv: #NameExpr['run']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['recorded']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@tu']
                                    $recv: #NameExpr['recording']
                                 ]
                                 $recv: #NameExpr['fetch']
                                 $param: #List[
                                    $expression: #StringExpr['test_method']
                                 ]
                              ]
                              $recv: #NameExpr['map']
                              $param: #List[
                                 $procedure: #Procedure[
                                    $base: #NameExpr['class']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['recorded']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_record_passing']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['assert_run_record']
                        $param: #List[
                           $expression: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['NilClass']
                              $body: #Block[
                                 $body: #FuncDecl[
                                    $name: #NameExpr['test_method']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['assert']
                                          $param: #List[
                                             $expression: #TrueExpr['true']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_record_failing']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['assert_run_record']
                        $param: #List[
                           $expression: #Field[
                              $recv: #NameExpr['MiniTest']
                              $name: #NameExpr['Assertion']
                           ]
                        ]
                        $body: #Block[
                           $body: #FuncDecl[
                              $name: #NameExpr['test_method']
                              $param: #List['']
                              $body: #BlockExpr[
                                 $main: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert']
                                    $param: #List[
                                       $expression: #FalseExpr['false']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_record_error']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['assert_run_record']
                        $param: #List[
                           $expression: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['RuntimeError']
                              $body: #Block[
                                 $body: #FuncDecl[
                                    $name: #NameExpr['test_method']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['raise']
                                          $param: #List[
                                             $expression: #StringExpr['unhandled exception']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_record_error_teardown']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['assert_run_record']
                        $param: #List[
                           $expression: #NameExpr['NilClass']
                           $expression: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['RuntimeError']
                              $body: #Block[
                                 $body: #List[
                                    $statement: #FuncDecl[
                                       $name: #NameExpr['test_method']
                                       $param: #List['']
                                       $body: #BlockExpr[
                                          $main: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['assert']
                                             $param: #List[
                                                $expression: #TrueExpr['true']
                                             ]
                                          ]
                                       ]
                                    ]
                                    $statement: #FuncDecl[
                                       $name: #NameExpr['teardown']
                                       $param: #List['']
                                       $body: #BlockExpr[
                                          $main: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['raise']
                                             $param: #List[
                                                $expression: #StringExpr['unhandled exception']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_record_error_in_test_and_teardown']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['assert_run_record']
                        $param: #List[
                           $expression: #NameExpr['AnError']
                           $expression: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['RuntimeError']
                              $body: #Block[
                                 $body: #List[
                                    $statement: #FuncDecl[
                                       $name: #NameExpr['test_method']
                                       $param: #List['']
                                       $body: #BlockExpr[
                                          $main: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['raise']
                                             $param: #List[
                                                $expression: #NameExpr['AnError']
                                             ]
                                          ]
                                       ]
                                    ]
                                    $statement: #FuncDecl[
                                       $name: #NameExpr['teardown']
                                       $param: #List['']
                                       $body: #BlockExpr[
                                          $main: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['raise']
                                             $param: #List[
                                                $expression: #StringExpr['unhandled exception']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_record_skip']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['assert_run_record']
                        $param: #List[
                           $expression: #Field[
                              $recv: #NameExpr['MiniTest']
                              $name: #NameExpr['Skip']
                           ]
                        ]
                        $body: #Block[
                           $body: #FuncDecl[
                              $name: #NameExpr['test_method']
                              $param: #List['']
                              $body: #BlockExpr[
                                 $main: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['skip']
                                    $param: #List[
                                       $expression: #StringExpr['not yet']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
            ]
         ]
      ]
   ]
   #Comsumed['comsumed']
]
