#Source[
   #List[
      $statement: #ApplyExpr[
         #Self['self']
         $recv: #NameExpr['require']
         $param: #List[
            $expression: #StringExpr['rdoc/test_case']
         ]
      ]
      $statement: #Class[
         $name: #NameExpr['TestRDocParserRuby']
         $super: #Field[
            $recv: #NameExpr['RDoc']
            $name: #NameExpr['TestCase']
         ]
         $body: #BlockExpr[
            $main: #List[
               $statement: #FuncDecl[
                  $name: #NameExpr['setup']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #Super['super']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['@tempfile']
                           $right: #ApplyExpr[
                              $base: #NameExpr['Tempfile']
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #Self['self']
                                       $recv: #NameExpr['class']
                                    ]
                                    $recv: #NameExpr['name']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['@filename']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@tempfile']
                              $recv: #NameExpr['path']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['@tempfile2']
                           $right: #ApplyExpr[
                              $base: #NameExpr['Tempfile']
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #Self['self']
                                       $recv: #NameExpr['class']
                                    ]
                                    $recv: #NameExpr['name']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['@filename2']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@tempfile2']
                              $recv: #NameExpr['path']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['@top_level']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@store']
                              $recv: #NameExpr['add_file']
                              $param: #List[
                                 $expression: #NameExpr['@filename']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['@top_level2']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@store']
                              $recv: #NameExpr['add_file']
                              $param: #List[
                                 $expression: #NameExpr['@filename2']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['@options']
                           $right: #ApplyExpr[
                              $recv: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Options']
                              ]
                              $recv: #NameExpr['new']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['@options']
                              $name: #NameExpr['quiet']
                           ]
                           $right: #TrueExpr['true']
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['@options']
                              $name: #NameExpr['option_parser']
                           ]
                           $right: #ApplyExpr[
                              $recv: #NameExpr['OptionParser']
                              $recv: #NameExpr['new']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['@comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['@stats']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Stats']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #NameExpr['@store']
                                 $expression: #IntExpr['0']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['teardown']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #Super['super']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@tempfile']
                           $recv: #NameExpr['close!']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@tempfile2']
                           $recv: #NameExpr['close!']
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_collect_first_comment']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['p']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['util_parser']
                              $param: #List[
                                 $expression: #HereDocument['# first\n\n# second\nclass C; end\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['p']
                              $recv: #NameExpr['collect_first_comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['Comment']
                                 ]
                                 $recv: #NameExpr['new']
                                 $param: #List[
                                    $expression: #StringExpr['# first\\n']
                                    $expression: #NameExpr['@top_level']
                                 ]
                              ]
                              $expression: #NameExpr['comment']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_collect_first_comment_encoding']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['@options']
                              $name: #NameExpr['encoding']
                           ]
                           $right: #Field[
                              $recv: #NameExpr['Encoding']
                              $name: #NameExpr['CP852']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['p']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['util_parser']
                              $param: #List[
                                 $expression: #HereDocument['# first\n\n# second\nclass C; end\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['p']
                              $recv: #NameExpr['collect_first_comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['CP852']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['comment']
                                    $recv: #NameExpr['text']
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_collect_first_comment_rd_hash']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['parser']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['util_parser']
                              $param: #List[
                                 $expression: #HereDocument['=begin\nfirst\n=end\n\n# second\nclass C; end\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['parser']
                              $recv: #NameExpr['collect_first_comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['Comment']
                                 ]
                                 $recv: #NameExpr['new']
                                 $param: #List[
                                    $expression: #StringExpr['first\\n\\n']
                                    $expression: #NameExpr['@top_level']
                                 ]
                              ]
                              $expression: #NameExpr['comment']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_get_class_or_module']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['ctxt']
                           $right: #ApplyExpr[
                              $recv: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Context']
                              ]
                              $recv: #NameExpr['new']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['ctxt']
                              $name: #NameExpr['store']
                           ]
                           $right: #NameExpr['@store']
                        ]
                        $statement: #MultipleAssign[
                           $left: #MultipleLeftHandSideExpression[
                              $item: #NameExpr['cont']
                              $item: #NameExpr['name_t']
                              $item: #NameExpr['given_name']
                           ]
                           $right: #ApplyExpr[
                              $base: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['util_parser']
                                 $param: #List[
                                    $expression: #StringExpr['A']
                                 ]
                              ]
                              $recv: #NameExpr['get_class_or_module']
                              $param: #List[
                                 $expression: #NameExpr['ctxt']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['ctxt']
                              $expression: #NameExpr['cont']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['A']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['name_t']
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['A']
                              $expression: #NameExpr['given_name']
                           ]
                        ]
                        $statement: #MultipleAssign[
                           $left: #MultipleLeftHandSideExpression[
                              $item: #NameExpr['cont']
                              $item: #NameExpr['name_t']
                              $item: #NameExpr['given_name']
                           ]
                           $right: #ApplyExpr[
                              $base: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['util_parser']
                                 $param: #List[
                                    $expression: #StringExpr['B::C']
                                 ]
                              ]
                              $recv: #NameExpr['get_class_or_module']
                              $param: #List[
                                 $expression: #NameExpr['ctxt']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['b']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@store']
                              $recv: #NameExpr['find_module_named']
                              $param: #List[
                                 $expression: #StringExpr['B']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['b']
                              $expression: #NameExpr['cont']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Array[
                                 $index: #List[
                                    $expression: #NameExpr['@top_level']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['b']
                                 $recv: #NameExpr['in_files']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['C']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['name_t']
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['B::C']
                              $expression: #NameExpr['given_name']
                           ]
                        ]
                        $statement: #MultipleAssign[
                           $left: #MultipleLeftHandSideExpression[
                              $item: #NameExpr['cont']
                              $item: #NameExpr['name_t']
                              $item: #NameExpr['given_name']
                           ]
                           $right: #ApplyExpr[
                              $base: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['util_parser']
                                 $param: #List[
                                    $expression: #StringExpr['D:: E']
                                 ]
                              ]
                              $recv: #NameExpr['get_class_or_module']
                              $param: #List[
                                 $expression: #NameExpr['ctxt']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@store']
                                 $recv: #NameExpr['find_module_named']
                                 $param: #List[
                                    $expression: #StringExpr['D']
                                 ]
                              ]
                              $expression: #NameExpr['cont']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['E']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['name_t']
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['D::E']
                              $expression: #NameExpr['given_name']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raises']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['NoMethodError']
                                 $body: #Block[
                                    $body: #ApplyExpr[
                                       $base: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['util_parser']
                                          $param: #List[
                                             $expression: #StringExpr['A::\\nB']
                                          ]
                                       ]
                                       $recv: #NameExpr['get_class_or_module']
                                       $param: #List[
                                          $expression: #NameExpr['ctxt']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_get_class_or_module_document_children']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['ctxt']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@top_level']
                              $recv: #NameExpr['add_class']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['NormalClass']
                                 ]
                                 $expression: #StringExpr['A']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['ctxt']
                           $recv: #NameExpr['stop_doc']
                        ]
                        $statement: #ApplyExpr[
                           $base: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['util_parser']
                              $param: #List[
                                 $expression: #StringExpr['B::C']
                              ]
                           ]
                           $recv: #NameExpr['get_class_or_module']
                           $param: #List[
                              $expression: #NameExpr['ctxt']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['b']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@store']
                              $recv: #NameExpr['find_module_named']
                              $param: #List[
                                 $expression: #StringExpr['A::B']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['b']
                                 $recv: #NameExpr['ignored?']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['d']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@top_level']
                              $recv: #NameExpr['add_class']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['NormalClass']
                                 ]
                                 $expression: #StringExpr['A::D']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['util_parser']
                              $param: #List[
                                 $expression: #StringExpr['D::E']
                              ]
                           ]
                           $recv: #NameExpr['get_class_or_module']
                           $param: #List[
                              $expression: #NameExpr['ctxt']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['refute']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['d']
                                 $recv: #NameExpr['ignored?']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_get_class_or_module_ignore_constants']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['ctxt']
                           $right: #ApplyExpr[
                              $recv: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Context']
                              ]
                              $recv: #NameExpr['new']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['ctxt']
                              $name: #NameExpr['store']
                           ]
                           $right: #NameExpr['@store']
                        ]
                        $statement: #ApplyExpr[
                           $base: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['util_parser']
                              $param: #List[
                                 $expression: #StringExpr['A']
                              ]
                           ]
                           $recv: #NameExpr['get_class_or_module']
                           $param: #List[
                              $expression: #NameExpr['ctxt']
                              $expression: #TrueExpr['true']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['util_parser']
                              $param: #List[
                                 $expression: #StringExpr['A::B']
                              ]
                           ]
                           $recv: #NameExpr['get_class_or_module']
                           $param: #List[
                              $expression: #NameExpr['ctxt']
                              $expression: #TrueExpr['true']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['ctxt']
                                 $recv: #NameExpr['constants']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@store']
                                    $recv: #NameExpr['modules_hash']
                                 ]
                                 $recv: #NameExpr['keys']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@store']
                                    $recv: #NameExpr['classes_hash']
                                 ]
                                 $recv: #NameExpr['keys']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_get_class_specification']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['A']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['util_parser']
                                    $param: #List[
                                       $expression: #StringExpr['A']
                                    ]
                                 ]
                                 $recv: #NameExpr['get_class_specification']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['A::B']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['util_parser']
                                    $param: #List[
                                       $expression: #StringExpr['A::B']
                                    ]
                                 ]
                                 $recv: #NameExpr['get_class_specification']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['::A']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['util_parser']
                                    $param: #List[
                                       $expression: #StringExpr['::A']
                                    ]
                                 ]
                                 $recv: #NameExpr['get_class_specification']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['self']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['util_parser']
                                    $param: #List[
                                       $expression: #StringExpr['self']
                                    ]
                                 ]
                                 $recv: #NameExpr['get_class_specification']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['util_parser']
                                    $param: #List[
                                       $expression: #StringExpr['']
                                    ]
                                 ]
                                 $recv: #NameExpr['get_class_specification']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['util_parser']
                                    $param: #List[
                                       $expression: #StringExpr['$g']
                                    ]
                                 ]
                                 $recv: #NameExpr['get_class_specification']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_get_symbol_or_name']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['* & | + 5 / 4']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['*']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@parser']
                                 $recv: #NameExpr['get_symbol_or_name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['skip_tkspace']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['&']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@parser']
                                 $recv: #NameExpr['get_symbol_or_name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['skip_tkspace']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['|']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@parser']
                                 $recv: #NameExpr['get_symbol_or_name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['skip_tkspace']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['+']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@parser']
                                 $recv: #NameExpr['get_symbol_or_name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['skip_tkspace']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['get_tk']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['skip_tkspace']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['/']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@parser']
                                 $recv: #NameExpr['get_symbol_or_name']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_suppress_parents']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['a']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@top_level']
                              $recv: #NameExpr['add_class']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['NormalClass']
                                 ]
                                 $expression: #StringExpr['A']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['b']
                           $right: #ApplyExpr[
                              $base: #NameExpr['a']
                              $recv: #NameExpr['add_class']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['NormalClass']
                                 ]
                                 $expression: #StringExpr['B']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['c']
                           $right: #ApplyExpr[
                              $base: #NameExpr['b']
                              $recv: #NameExpr['add_class']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['NormalClass']
                                 ]
                                 $expression: #StringExpr['C']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['suppress_parents']
                           $param: #List[
                              $expression: #NameExpr['c']
                              $expression: #NameExpr['a']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['c']
                                 $recv: #NameExpr['suppressed?']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['b']
                                 $recv: #NameExpr['suppressed?']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['refute']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['a']
                                 $recv: #NameExpr['suppressed?']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_suppress_parents_documented']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['a']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@top_level']
                              $recv: #NameExpr['add_class']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['NormalClass']
                                 ]
                                 $expression: #StringExpr['A']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['b']
                           $right: #ApplyExpr[
                              $base: #NameExpr['a']
                              $recv: #NameExpr['add_class']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['NormalClass']
                                 ]
                                 $expression: #StringExpr['B']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['b']
                           $recv: #NameExpr['add_comment']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['Comment']
                                 ]
                                 $recv: #NameExpr['new']
                                 $param: #List[
                                    $expression: #StringExpr['hello']
                                 ]
                              ]
                              $expression: #NameExpr['@top_level']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['c']
                           $right: #ApplyExpr[
                              $base: #NameExpr['b']
                              $recv: #NameExpr['add_class']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['NormalClass']
                                 ]
                                 $expression: #StringExpr['C']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['suppress_parents']
                           $param: #List[
                              $expression: #NameExpr['c']
                              $expression: #NameExpr['a']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['c']
                                 $recv: #NameExpr['suppressed?']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['refute']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['b']
                                 $recv: #NameExpr['suppressed?']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['refute']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['a']
                                 $recv: #NameExpr['suppressed?']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_look_for_directives_in_attr']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['# :attr: my_attr\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['look_for_directives_in']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['# :attr: my_attr\\n']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['comment']
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['# :attr_reader: my_method\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['look_for_directives_in']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['# :attr_reader: my_method\\n']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['comment']
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['# :attr_writer: my_method\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['look_for_directives_in']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['# :attr_writer: my_method\\n']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['comment']
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_look_for_directives_in_commented']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #HereDocument['# how to make a section:\n# # :section: new section\n']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['look_for_directives_in']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['section']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@top_level']
                              $recv: #NameExpr['current_section']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Nil['nil']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['section']
                                 $recv: #NameExpr['title']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Nil['nil']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['section']
                                 $recv: #NameExpr['comment']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['# how to make a section:\\n# # :section: new section\\n']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['comment']
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_look_for_directives_in_method']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['# :method: my_method\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['look_for_directives_in']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['# :method: my_method\\n']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['comment']
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['# :singleton-method: my_method\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['look_for_directives_in']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['# :singleton-method: my_method\\n']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['comment']
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_look_for_directives_in_section']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #HereDocument['# :section: new section\n# woo stuff\n']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['look_for_directives_in']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['section']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@top_level']
                              $recv: #NameExpr['current_section']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['new section']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['section']
                                 $recv: #NameExpr['title']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Array[
                                 $index: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['comment']
                                       $param: #List[
                                          $expression: #StringExpr['# woo stuff\\n']
                                          $expression: #NameExpr['@top_level']
                                       ]
                                    ]
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['section']
                                 $recv: #NameExpr['comments']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #NameExpr['comment']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_look_for_directives_in_unhandled']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['# :unhandled: blah\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['look_for_directives_in']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['blah']
                              $expression: #Indexer[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@top_level']
                                    $recv: #NameExpr['metadata']
                                 ]
                                 $index: #List[
                                    $expression: #StringExpr['unhandled']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_alias']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['alias :next= :bar']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['alas']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@parser']
                              $recv: #NameExpr['parse_alias']
                              $param: #List[
                                 $expression: #NameExpr['klass']
                                 $expression: #Field[
                                    $recv: #Field[
                                       $recv: #Field[
                                          $recv: #NameExpr['RDoc']
                                          $name: #NameExpr['Parser']
                                       ]
                                       $name: #NameExpr['Ruby']
                                    ]
                                    $name: #NameExpr['NORMAL']
                                 ]
                                 $expression: #NameExpr['tk']
                                 $expression: #StringExpr['comment']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['bar']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['alas']
                                 $recv: #NameExpr['old_name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['next=']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['alas']
                                 $recv: #NameExpr['new_name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['alas']
                                 $recv: #NameExpr['parent']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['comment']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['alas']
                                 $recv: #NameExpr['comment']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['alas']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['0']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['alas']
                                 $recv: #NameExpr['offset']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['alas']
                                 $recv: #NameExpr['line']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_alias_singleton']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['alias :next= :bar']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['alas']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@parser']
                              $recv: #NameExpr['parse_alias']
                              $param: #List[
                                 $expression: #NameExpr['klass']
                                 $expression: #Field[
                                    $recv: #Field[
                                       $recv: #Field[
                                          $recv: #NameExpr['RDoc']
                                          $name: #NameExpr['Parser']
                                       ]
                                       $name: #NameExpr['Ruby']
                                    ]
                                    $name: #NameExpr['SINGLE']
                                 ]
                                 $expression: #NameExpr['tk']
                                 $expression: #StringExpr['comment']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['bar']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['alas']
                                 $recv: #NameExpr['old_name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['next=']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['alas']
                                 $recv: #NameExpr['new_name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['alas']
                                 $recv: #NameExpr['parent']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['comment']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['alas']
                                 $recv: #NameExpr['comment']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['alas']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['alas']
                                 $recv: #NameExpr['singleton']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_alias_stopdoc']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['klass']
                           $recv: #NameExpr['stop_doc']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['alias :next= :bar']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_alias']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #StringExpr['comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['aliases']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['unmatched_alias_lists']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_alias_meta']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['alias m.chop m']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['alas']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@parser']
                              $recv: #NameExpr['parse_alias']
                              $param: #List[
                                 $expression: #NameExpr['klass']
                                 $expression: #Field[
                                    $recv: #Field[
                                       $recv: #Field[
                                          $recv: #NameExpr['RDoc']
                                          $name: #NameExpr['Parser']
                                       ]
                                       $name: #NameExpr['Ruby']
                                    ]
                                    $name: #NameExpr['NORMAL']
                                 ]
                                 $expression: #NameExpr['tk']
                                 $expression: #StringExpr['comment']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nil']
                           $param: #List[
                              $expression: #NameExpr['alas']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_attr']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# my attr\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['attr :foo, :bar']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_attr']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['klass']
                                    $recv: #NameExpr['attributes']
                                 ]
                                 $recv: #NameExpr['length']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['attributes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['my attr']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['0']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['offset']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['line']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_attr_stopdoc']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['klass']
                           $recv: #NameExpr['stop_doc']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# my attr\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['attr :foo, :bar']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_attr']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['attributes']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_attr_accessor']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# my attr\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['attr_accessor :foo, :bar']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_attr_accessor']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['2']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['klass']
                                    $recv: #NameExpr['attributes']
                                 ]
                                 $recv: #NameExpr['length']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['attributes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['RW']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['rw']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['my attr']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['0']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['offset']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['line']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['bar']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['attributes']
                              ]
                              $recv: #NameExpr['last']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['bar']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['bar']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['RW']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['bar']
                                 $recv: #NameExpr['rw']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['my attr']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['bar']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_attr_accessor_nodoc']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# my attr\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['attr_accessor :foo, :bar # :nodoc:']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_attr_accessor']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['0']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['klass']
                                    $recv: #NameExpr['attributes']
                                 ]
                                 $recv: #NameExpr['length']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_attr_accessor_nodoc_track']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# my attr\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['@options']
                              $name: #NameExpr['visibility']
                           ]
                           $right: #NameExpr['nodoc']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['attr_accessor :foo, :bar # :nodoc:']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_attr_accessor']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['refute_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['attributes']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_attr_accessor_stopdoc']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['klass']
                           $recv: #NameExpr['stop_doc']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# my attr\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['attr_accessor :foo, :bar']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_attr_accessor']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['attributes']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_attr_accessor_writer']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# my attr\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['attr_writer :foo, :bar']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_attr_accessor']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['2']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['klass']
                                    $recv: #NameExpr['attributes']
                                 ]
                                 $recv: #NameExpr['length']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['attributes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['W']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['rw']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['my attr']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['bar']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['attributes']
                              ]
                              $recv: #NameExpr['last']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['bar']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['bar']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['W']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['bar']
                                 $recv: #NameExpr['rw']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['my attr']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['bar']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_meta_attr']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# :attr: \\n# my method\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['add_my_method :foo, :bar']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_meta_attr']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['2']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['klass']
                                    $recv: #NameExpr['attributes']
                                 ]
                                 $recv: #NameExpr['length']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['attributes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['RW']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['rw']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['my method']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_meta_attr_accessor']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# :attr_accessor: \\n# my method\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['add_my_method :foo, :bar']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_meta_attr']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['2']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['klass']
                                    $recv: #NameExpr['attributes']
                                 ]
                                 $recv: #NameExpr['length']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['attributes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['RW']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['rw']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['my method']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_meta_attr_named']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# :attr: foo\\n# my method\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['add_my_method :foo, :bar']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_meta_attr']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['klass']
                                    $recv: #NameExpr['attributes']
                                 ]
                                 $recv: #NameExpr['length']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['attributes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['RW']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['rw']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['my method']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_meta_attr_reader']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# :attr_reader: \\n# my method\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['add_my_method :foo, :bar']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_meta_attr']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['attributes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['R']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['rw']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['my method']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_meta_attr_stopdoc']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['klass']
                           $recv: #NameExpr['stop_doc']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# :attr: \\n# my method\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['add_my_method :foo, :bar']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_meta_attr']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['attributes']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_meta_attr_writer']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# :attr_writer: \\n# my method\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['add_my_method :foo, :bar']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_meta_attr']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['attributes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['W']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['rw']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['my method']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_class']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# my class\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['class Foo\\nend']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_class']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['classes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['my class']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Array[
                                 $index: #List[
                                    $expression: #NameExpr['@top_level']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['in_files']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['0']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['offset']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['line']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_class_singleton']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# my class\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #HereDocument['class C\n  class << self\n  end\nend\n']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_class']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['c']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['classes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['C']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['c']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['0']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['c']
                                 $recv: #NameExpr['offset']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['c']
                                 $recv: #NameExpr['line']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_class_ghost_method']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #HereDocument['class Foo\n  ##\n  # :method: blah\n  # my method\nend\n']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_class']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['classes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['blah']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Foo#blah']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['blah']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['blah']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_class_ghost_method_yields']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #HereDocument['class Foo\n  ##\n  # :method:\n  # :call-seq:\n  #   yields(name)\nend\n']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_class']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['classes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['blah']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Foo#yields']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['blah']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['yields(name)']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['blah']
                                 $recv: #NameExpr['call_seq']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['blah']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_class_multi_ghost_methods']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #LShiftExpr[
                           $left: #NameExpr['util_parser']
                           $right: #MinusExpr[
                              $expr: #StringExpr['CLASS']
                           ]
                        ]
                        $statement: #Class[
                           $name: #NameExpr['Foo']
                           $body: #BlockExpr[
                              $main: #ApplyExpr[
                                 $recv: #Array[
                                    $index: #List[
                                       $expression: #NameExpr['one']
                                       $expression: #NameExpr['two']
                                    ]
                                 ]
                                 $recv: #NameExpr['each']
                                 $body: #Block[
                                    $param: #NameExpr['t']
                                    $body: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['eval']
                                       $param: #List[
                                          $expression: #StringExpr[
                                             $inner: #NameExpr['t']
                                             $inner: #NameExpr['t']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #NameExpr['CLASS']
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_class']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['classes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['2']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo']
                                    $recv: #NameExpr['method_list']
                                 ]
                                 $recv: #NameExpr['length']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_class_nodoc']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# my class\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['class Foo # :nodoc:\\nend']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_class']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['classes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['comment']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Array[
                                 $index: #List[
                                    $expression: #NameExpr['@top_level']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['in_files']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['0']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['offset']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['line']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_class_single_root']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# my class\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['class << ::Foo\\nend']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_class']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@store']
                                 $recv: #NameExpr['all_modules']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_class_stopdoc']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@top_level']
                           $recv: #NameExpr['stop_doc']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# my class\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['class Foo\\nend']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_class']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['@top_level']
                                       $recv: #NameExpr['classes']
                                    ]
                                    $recv: #NameExpr['first']
                                 ]
                                 $recv: #NameExpr['comment']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_multi_ghost_methods']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #LShiftExpr[
                           $left: #NameExpr['util_parser']
                           $right: #MinusExpr[
                              $expr: #StringExpr['CLASS']
                           ]
                        ]
                        $statement: #Class[
                           $name: #NameExpr['Foo']
                           $body: #BlockExpr[
                              $main: #ApplyExpr[
                                 $recv: #Array[
                                    $index: #List[
                                       $expression: #NameExpr['one']
                                       $expression: #NameExpr['two']
                                    ]
                                 ]
                                 $recv: #NameExpr['each']
                                 $body: #Block[
                                    $param: #NameExpr['t']
                                    $body: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['eval']
                                       $param: #List[
                                          $expression: #StringExpr[
                                             $inner: #NameExpr['t']
                                             $inner: #NameExpr['t']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #NameExpr['CLASS']
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_class']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['classes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['2']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo']
                                    $recv: #NameExpr['method_list']
                                 ]
                                 $recv: #NameExpr['length']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_const_fail_w_meta']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #HereDocument['class ConstFailMeta\n  ##\n  # :attr: one\n  #\n  # an attribute\n\n  OtherModule.define_attr(self, :one)\nend\n']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_class']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['const_fail_meta']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['classes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['ConstFailMeta']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['const_fail_meta']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['const_fail_meta']
                                    $recv: #NameExpr['attributes']
                                 ]
                                 $recv: #NameExpr['length']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_class_nested_superclass']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@top_level']
                              $recv: #NameExpr['add_module']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['NormalModule']
                                 ]
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['class Bar < Super\\nend']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_class']
                           $param: #List[
                              $expression: #NameExpr['foo']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['bar']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['classes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Super']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['bar']
                                 $recv: #NameExpr['superclass']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_module']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# my module\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['module Foo\\nend']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_module']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['modules']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['my module']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_module_nodoc']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@top_level']
                           $recv: #NameExpr['stop_doc']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# my module\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['module Foo # :nodoc:\\nend']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_module']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['modules']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['comment']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_module_stopdoc']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@top_level']
                           $recv: #NameExpr['stop_doc']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# my module\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['module Foo\\nend']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_module']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['modules']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['comment']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_class_colon3']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['code']
                           $right: #HereDocument['class A\n  class ::B\n  end\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['code']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_class']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@parser']
                                 $recv: #NameExpr['get_tk']
                              ]
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ParcentNotation['%w[A B]']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['@store']
                                       $recv: #NameExpr['all_classes']
                                    ]
                                    $recv: #NameExpr['map']
                                    $body: #Block[
                                       $param: #NameExpr['c']
                                       $body: #ApplyExpr[
                                          $recv: #NameExpr['c']
                                          $recv: #NameExpr['full_name']
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['sort']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_class_colon3_self_reference']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['code']
                           $right: #HereDocument['class A::B\n  class ::A\n  end\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['code']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_class']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@parser']
                                 $recv: #NameExpr['get_tk']
                              ]
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ParcentNotation['%w[A A::B]']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['@store']
                                       $recv: #NameExpr['all_classes']
                                    ]
                                    $recv: #NameExpr['map']
                                    $body: #Block[
                                       $param: #NameExpr['c']
                                       $body: #ApplyExpr[
                                          $recv: #NameExpr['c']
                                          $recv: #NameExpr['full_name']
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['sort']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_class_single']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['code']
                           $right: #HereDocument['class A\n  class << B\n  end\n  class << d = Object.new\n    def foo; end\n    alias bar foo\n  end\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['code']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_class']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@parser']
                                 $recv: #NameExpr['get_tk']
                              ]
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ParcentNotation['%w[A]']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@store']
                                    $recv: #NameExpr['all_classes']
                                 ]
                                 $recv: #NameExpr['map']
                                 $body: #Block[
                                    $param: #NameExpr['c']
                                    $body: #ApplyExpr[
                                       $recv: #NameExpr['c']
                                       $recv: #NameExpr['full_name']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['modules']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@store']
                                 $recv: #NameExpr['all_modules']
                              ]
                              $recv: #NameExpr['sort_by']
                              $body: #Block[
                                 $param: #NameExpr['c']
                                 $body: #ApplyExpr[
                                    $recv: #NameExpr['c']
                                    $recv: #NameExpr['full_name']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ParcentNotation['%w[A::B A::d]']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['modules']
                                 $recv: #NameExpr['map']
                                 $body: #Block[
                                    $param: #NameExpr['c']
                                    $body: #ApplyExpr[
                                       $recv: #NameExpr['c']
                                       $recv: #NameExpr['full_name']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['b']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['modules']
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['10']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['b']
                                 $recv: #NameExpr['offset']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['2']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['b']
                                 $recv: #NameExpr['line']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['a']
                           $right: #Indexer[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@store']
                                 $recv: #NameExpr['classes_hash']
                              ]
                              $index: #List[
                                 $expression: #StringExpr['A']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['a']
                                 $recv: #NameExpr['method_list']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['d']
                           $right: #Indexer[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@store']
                                 $recv: #NameExpr['modules_hash']
                              ]
                              $index: #List[
                                 $expression: #StringExpr['A::d']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['d']
                                 $recv: #NameExpr['remove_from_documentation?']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_class_single_gvar']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['code']
                           $right: #HereDocument['class << $g\n  def m\n  end\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['code']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_class']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@parser']
                                 $recv: #NameExpr['get_tk']
                              ]
                              $expression: #StringExpr['']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@store']
                                 $recv: #NameExpr['all_classes']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['mod']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@store']
                                 $recv: #NameExpr['all_modules']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['refute']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['mod']
                                 $recv: #NameExpr['document_self']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['mod']
                                 $recv: #NameExpr['method_list']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_class_object']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['code']
                           $right: #HereDocument['module A\n  class B\n  end\n  class Object\n  end\n  class C < Object\n  end\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['code']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_module']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@parser']
                                 $recv: #NameExpr['get_tk']
                              ]
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ParcentNotation['%w[A]']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@store']
                                    $recv: #NameExpr['all_modules']
                                 ]
                                 $recv: #NameExpr['map']
                                 $body: #Block[
                                    $param: #NameExpr['c']
                                    $body: #ApplyExpr[
                                       $recv: #NameExpr['c']
                                       $recv: #NameExpr['full_name']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ParcentNotation['%w[A::B A::C A::Object]']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['@store']
                                       $recv: #NameExpr['all_classes']
                                    ]
                                    $recv: #NameExpr['map']
                                    $body: #Block[
                                       $param: #NameExpr['c']
                                       $body: #ApplyExpr[
                                          $recv: #NameExpr['c']
                                          $recv: #NameExpr['full_name']
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['sort']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Object']
                              $expression: #ApplyExpr[
                                 $recv: #Indexer[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['@store']
                                       $recv: #NameExpr['classes_hash']
                                    ]
                                    $index: #List[
                                       $expression: #StringExpr['A::B']
                                    ]
                                 ]
                                 $recv: #NameExpr['superclass']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Object']
                              $expression: #ApplyExpr[
                                 $recv: #Indexer[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['@store']
                                       $recv: #NameExpr['classes_hash']
                                    ]
                                    $index: #List[
                                       $expression: #StringExpr['A::Object']
                                    ]
                                 ]
                                 $recv: #NameExpr['superclass']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['A::Object']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #Indexer[
                                       $recv: #ApplyExpr[
                                          $recv: #NameExpr['@store']
                                          $recv: #NameExpr['classes_hash']
                                       ]
                                       $index: #List[
                                          $expression: #StringExpr['A::C']
                                       ]
                                    ]
                                    $recv: #NameExpr['superclass']
                                 ]
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_class_mistaken_for_module']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['code']
                           $right: #HereDocument['class Foo::Bar\nend\n\nmodule Foo::Baz\nend\n\nclass Foo\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['code']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['scan']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ParcentNotation['%w[Foo::Baz]']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@store']
                                    $recv: #NameExpr['modules_hash']
                                 ]
                                 $recv: #NameExpr['keys']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['modules']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['classes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['bar']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['classes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Foo::Bar']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['bar']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['baz']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['modules']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Foo::Baz']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['baz']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_class_definition_encountered_after_class_reference']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['code']
                           $right: #HereDocument['def Foo.bar\nend\n\nclass Foo < IO\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['code']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['scan']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@store']
                                 $recv: #NameExpr['modules_hash']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@store']
                                 $recv: #NameExpr['all_modules']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['classes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['IO']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['superclass']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['bar']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['bar']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['bar']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_module_relative_to_top_level_namespace']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #HereDocument['#\n# Weirdly named module\n#\n']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['code']
                           $right: #HereDocument['#{comment.text}\nmodule ::Foo\n  class Helper\n  end\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['code']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['scan']
                           $param: #Empty['']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['modules']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Weirdly named module']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['helper']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['classes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Foo::Helper']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['helper']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_comment_attr']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# :attr: foo\\n# my attr\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['\\n']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_comment']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['attributes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['RW']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['rw']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['my attr']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['0']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['offset']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['line']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Nil['nil']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['viewer']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #TrueExpr['true']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['document_children']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #TrueExpr['true']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['document_self']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['done_documenting']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['force_documentation']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['parent']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['public']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['visibility']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['\\n']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['current_section']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['section']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_comment_attr_attr_reader']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# :attr_reader: foo\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['\\n']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_comment']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['attributes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['R']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['rw']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_comment_attr_stopdoc']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['klass']
                           $recv: #NameExpr['stop_doc']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# :attr: foo\\n# my attr\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['\\n']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_comment']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['attributes']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_comment_method']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# :method: foo\\n# my method\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['\\n']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_comment']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['my method']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['0']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['offset']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['line']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Array['[]']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['aliases']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Nil['nil']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['block_params']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Nil['nil']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['call_seq']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Nil['nil']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['is_alias_for']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Nil['nil']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['viewer']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #TrueExpr['true']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['document_children']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #TrueExpr['true']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['document_self']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['params']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['done_documenting']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['dont_rename_initialize']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['force_documentation']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['parent']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['singleton']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['public']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['visibility']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['\\n']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['current_section']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['section']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['stream']
                           $right: #Array[
                              $index: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['COMMENT']
                                       $expression: #IntExpr['0']
                                       $expression: #IntExpr['1']
                                       $expression: #IntExpr['1']
                                       $expression: #Nil['nil']
                                       $expression: #StringExpr[
                                          $inner: #ApplyExpr[
                                             $recv: #NameExpr['@top_level']
                                             $recv: #NameExpr['relative_name']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $expression: #Field[
                                    $recv: #Field[
                                       $recv: #Field[
                                          $recv: #NameExpr['RDoc']
                                          $name: #NameExpr['Parser']
                                       ]
                                       $name: #NameExpr['Ruby']
                                    ]
                                    $name: #NameExpr['NEWLINE_TOKEN']
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['SPACE']
                                       $expression: #IntExpr['0']
                                       $expression: #IntExpr['1']
                                       $expression: #IntExpr['1']
                                       $expression: #Nil['nil']
                                       $expression: #StringExpr['']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['stream']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['token_stream']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_comment_method_args']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['\\n']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_comment']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #NameExpr['tk']
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['comment']
                                 $param: #List[
                                    $expression: #StringExpr['##\\n# :method: foo\\n# :args: a, b\\n']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['a, b']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['params']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_comment_method_stopdoc']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['klass']
                           $recv: #NameExpr['stop_doc']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# :method: foo\\n# my method\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['\\n']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_comment']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['method_list']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_constant']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@top_level']
                              $recv: #NameExpr['add_class']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['NormalClass']
                                 ]
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['A = v']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_constant']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['constants']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['A']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['0']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['offset']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['line']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_constant_attrasgn']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@top_level']
                              $recv: #NameExpr['add_class']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['NormalClass']
                                 ]
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['A[k] = v']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_constant']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['klass']
                                    $recv: #NameExpr['constants']
                                 ]
                                 $recv: #NameExpr['empty?']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_constant_alias']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@top_level']
                              $recv: #NameExpr['add_class']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['NormalClass']
                                 ]
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['klass']
                           $recv: #NameExpr['add_class']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $expression: #StringExpr['B']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['A = B']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_constant']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Foo::A']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['klass']
                                    $recv: #NameExpr['find_module_named']
                                    $param: #List[
                                       $expression: #StringExpr['A']
                                    ]
                                 ]
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_constant_alias_same_name']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@top_level']
                              $recv: #NameExpr['add_class']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['NormalClass']
                                 ]
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@top_level']
                           $recv: #NameExpr['add_class']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $expression: #StringExpr['Bar']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['bar']
                           $right: #ApplyExpr[
                              $base: #NameExpr['foo']
                              $recv: #NameExpr['add_class']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['NormalClass']
                                 ]
                                 $expression: #StringExpr['Bar']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@store']
                                 $recv: #NameExpr['find_class_or_module']
                                 $param: #List[
                                    $expression: #StringExpr['::Bar']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['A = ::Bar']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_constant']
                           $param: #List[
                              $expression: #NameExpr['foo']
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['A']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['bar']
                                    $recv: #NameExpr['find_module_named']
                                    $param: #List[
                                       $expression: #StringExpr['A']
                                    ]
                                 ]
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_constant_in_method']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@top_level']
                              $recv: #NameExpr['add_class']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['NormalClass']
                                 ]
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['A::B = v']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_constant']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                              $expression: #TrueExpr['true']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['constants']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@store']
                                    $recv: #NameExpr['modules_hash']
                                 ]
                                 $recv: #NameExpr['keys']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ParcentNotation['%w[Foo]']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@store']
                                    $recv: #NameExpr['classes_hash']
                                 ]
                                 $recv: #NameExpr['keys']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_constant_rescue']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@top_level']
                              $recv: #NameExpr['add_class']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['NormalClass']
                                 ]
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['A => e']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_constant']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['constants']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['modules']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@store']
                                    $recv: #NameExpr['modules_hash']
                                 ]
                                 $recv: #NameExpr['keys']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ParcentNotation['%w[Foo]']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@store']
                                    $recv: #NameExpr['classes_hash']
                                 ]
                                 $recv: #NameExpr['keys']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_constant_stopdoc']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@top_level']
                              $recv: #NameExpr['add_class']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['NormalClass']
                                 ]
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['klass']
                           $recv: #NameExpr['stop_doc']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['A = v']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_constant']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['constants']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_comment_nested']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #HereDocument['A::B::C = 1\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['parsed']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@parser']
                              $recv: #NameExpr['parse_constant']
                              $param: #List[
                                 $expression: #NameExpr['@top_level']
                                 $expression: #NameExpr['tk']
                                 $expression: #StringExpr['comment']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #NameExpr['parsed']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['a']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@top_level']
                              $recv: #NameExpr['find_module_named']
                              $param: #List[
                                 $expression: #StringExpr['A']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['b']
                           $right: #ApplyExpr[
                              $base: #NameExpr['a']
                              $recv: #NameExpr['find_module_named']
                              $param: #List[
                                 $expression: #StringExpr['B']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['c']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['b']
                                 $recv: #NameExpr['constants']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['A::B::C']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['c']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['comment']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['c']
                                 $recv: #NameExpr['comment']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_extend_or_include_extend']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['C']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['# my extend\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['extend I']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['get_tk']
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_extend_or_include']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Extend']
                              ]
                              $expression: #NameExpr['klass']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['klass']
                                    $recv: #NameExpr['extends']
                                 ]
                                 $recv: #NameExpr['length']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['ext']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['extends']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['I']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['ext']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['my extend']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['ext']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['ext']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_extend_or_include_include']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['C']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['# my include\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['include I']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['get_tk']
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_extend_or_include']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Include']
                              ]
                              $expression: #NameExpr['klass']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['klass']
                                    $recv: #NameExpr['includes']
                                 ]
                                 $recv: #NameExpr['length']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['incl']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['includes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['I']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['incl']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['my include']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['incl']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['incl']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_meta_method']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# my method\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['add_my_method :foo, :bar\\nadd_my_method :baz']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_meta_method']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['my method']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['0']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['offset']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['line']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Array['[]']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['aliases']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Nil['nil']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['block_params']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Nil['nil']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['call_seq']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #TrueExpr['true']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['document_children']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #TrueExpr['true']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['document_self']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['done_documenting']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['dont_rename_initialize']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['force_documentation']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Nil['nil']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['is_alias_for']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['params']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['parent']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['singleton']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['add_my_method :foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Nil['nil']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['viewer']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['public']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['visibility']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['current_section']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['section']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['stream']
                           $right: #Array[
                              $index: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['COMMENT']
                                       $expression: #IntExpr['0']
                                       $expression: #IntExpr['1']
                                       $expression: #IntExpr['1']
                                       $expression: #Nil['nil']
                                       $expression: #StringExpr[
                                          $inner: #ApplyExpr[
                                             $recv: #NameExpr['@top_level']
                                             $recv: #NameExpr['relative_name']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $expression: #Field[
                                    $recv: #Field[
                                       $recv: #Field[
                                          $recv: #NameExpr['RDoc']
                                          $name: #NameExpr['Parser']
                                       ]
                                       $name: #NameExpr['Ruby']
                                    ]
                                    $name: #NameExpr['NEWLINE_TOKEN']
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['SPACE']
                                       $expression: #IntExpr['0']
                                       $expression: #IntExpr['1']
                                       $expression: #IntExpr['1']
                                       $expression: #Nil['nil']
                                       $expression: #StringExpr['']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['IDENTIFIER']
                                       $expression: #IntExpr['0']
                                       $expression: #IntExpr['1']
                                       $expression: #IntExpr['0']
                                       $expression: #StringExpr['add_my_method']
                                       $expression: #StringExpr['add_my_method']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['SPACE']
                                       $expression: #IntExpr['0']
                                       $expression: #IntExpr['1']
                                       $expression: #IntExpr['13']
                                       $expression: #Nil['nil']
                                       $expression: #StringExpr[' ']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['SYMBOL']
                                       $expression: #IntExpr['0']
                                       $expression: #IntExpr['1']
                                       $expression: #IntExpr['14']
                                       $expression: #Nil['nil']
                                       $expression: #StringExpr[':foo']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['COMMA']
                                       $expression: #IntExpr['0']
                                       $expression: #IntExpr['1']
                                       $expression: #IntExpr['18']
                                       $expression: #Nil['nil']
                                       $expression: #StringExpr[',']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['SPACE']
                                       $expression: #IntExpr['0']
                                       $expression: #IntExpr['1']
                                       $expression: #IntExpr['19']
                                       $expression: #Nil['nil']
                                       $expression: #StringExpr[' ']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['SYMBOL']
                                       $expression: #IntExpr['0']
                                       $expression: #IntExpr['1']
                                       $expression: #IntExpr['20']
                                       $expression: #Nil['nil']
                                       $expression: #StringExpr[':bar']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['NL']
                                       $expression: #IntExpr['0']
                                       $expression: #IntExpr['1']
                                       $expression: #IntExpr['24']
                                       $expression: #Nil['nil']
                                       $expression: #StringExpr['\\n']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['stream']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['token_stream']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_meta_method_block']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# my method\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #HereDocument['inline(:my_method) do |*args|\n  "this method causes z to disappear"\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_meta_method']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['tk']
                                 $param: #List[
                                    $expression: #NameExpr['NL']
                                    $expression: #IntExpr['0']
                                    $expression: #IntExpr['3']
                                    $expression: #IntExpr['3']
                                    $expression: #IntExpr['3']
                                    $expression: #StringExpr['\\n']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@parser']
                                 $recv: #NameExpr['get_tk']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_meta_method_define_method']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# my method\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['define_method :foo do end']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_meta_method']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['my method']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_meta_method_name']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# :method: woo_hoo!\\n# my method\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['add_my_method :foo, :bar\\nadd_my_method :baz']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_meta_method']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['woo_hoo!']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['my method']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_meta_method_singleton']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# :singleton-method:\\n# my method\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['add_my_method :foo, :bar\\nadd_my_method :baz']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_meta_method']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #TrueExpr['true']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['singleton']
                              ]
                              $expression: #StringExpr['singleton method']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['my method']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_meta_method_singleton_name']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# :singleton-method: woo_hoo!\\n# my method\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['add_my_method :foo, :bar\\nadd_my_method :baz']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_meta_method']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['woo_hoo!']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #TrueExpr['true']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['singleton']
                              ]
                              $expression: #StringExpr['singleton method']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['my method']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_meta_method_string_name']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# my method\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['add_my_method \'foo\'']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_meta_method']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['my method']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_meta_method_stopdoc']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['klass']
                           $recv: #NameExpr['stop_doc']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# my method\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['add_my_method :foo, :bar\\nadd_my_method :baz']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_meta_method']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['method_list']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_meta_method_unknown']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# my method\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['add_my_method (\'foo\')']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_meta_method']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['unknown']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['my method']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_method']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# my method\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['def foo() :bar end']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_method']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['my method']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['0']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['offset']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['line']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Array['[]']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['aliases']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Nil['nil']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['block_params']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Nil['nil']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['call_seq']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Nil['nil']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['is_alias_for']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Nil['nil']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['viewer']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #TrueExpr['true']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['document_children']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #TrueExpr['true']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['document_self']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['()']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['params']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['done_documenting']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['dont_rename_initialize']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['force_documentation']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['parent']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['singleton']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['public']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['visibility']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['def foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['current_section']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['section']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['stream']
                           $right: #Array[
                              $index: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['COMMENT']
                                       $expression: #IntExpr['0']
                                       $expression: #IntExpr['1']
                                       $expression: #IntExpr['1']
                                       $expression: #Nil['nil']
                                       $expression: #StringExpr[
                                          $inner: #ApplyExpr[
                                             $recv: #NameExpr['@top_level']
                                             $recv: #NameExpr['relative_name']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $expression: #Field[
                                    $recv: #Field[
                                       $recv: #Field[
                                          $recv: #NameExpr['RDoc']
                                          $name: #NameExpr['Parser']
                                       ]
                                       $name: #NameExpr['Ruby']
                                    ]
                                    $name: #NameExpr['NEWLINE_TOKEN']
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['SPACE']
                                       $expression: #IntExpr['0']
                                       $expression: #IntExpr['1']
                                       $expression: #IntExpr['1']
                                       $expression: #Nil['nil']
                                       $expression: #StringExpr['']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['DEF']
                                       $expression: #IntExpr['0']
                                       $expression: #IntExpr['1']
                                       $expression: #IntExpr['0']
                                       $expression: #StringExpr['def']
                                       $expression: #StringExpr['def']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['SPACE']
                                       $expression: #IntExpr['3']
                                       $expression: #IntExpr['1']
                                       $expression: #IntExpr['3']
                                       $expression: #Nil['nil']
                                       $expression: #StringExpr[' ']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['IDENTIFIER']
                                       $expression: #IntExpr['4']
                                       $expression: #IntExpr['1']
                                       $expression: #IntExpr['4']
                                       $expression: #StringExpr['foo']
                                       $expression: #StringExpr['foo']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['LPAREN']
                                       $expression: #IntExpr['7']
                                       $expression: #IntExpr['1']
                                       $expression: #IntExpr['7']
                                       $expression: #Nil['nil']
                                       $expression: #StringExpr['(']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['RPAREN']
                                       $expression: #IntExpr['8']
                                       $expression: #IntExpr['1']
                                       $expression: #IntExpr['8']
                                       $expression: #Nil['nil']
                                       $expression: #StringExpr[')']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['SPACE']
                                       $expression: #IntExpr['9']
                                       $expression: #IntExpr['1']
                                       $expression: #IntExpr['9']
                                       $expression: #Nil['nil']
                                       $expression: #StringExpr[' ']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['COLON']
                                       $expression: #IntExpr['10']
                                       $expression: #IntExpr['1']
                                       $expression: #IntExpr['10']
                                       $expression: #Nil['nil']
                                       $expression: #StringExpr[':']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['IDENTIFIER']
                                       $expression: #IntExpr['11']
                                       $expression: #IntExpr['1']
                                       $expression: #IntExpr['11']
                                       $expression: #StringExpr['bar']
                                       $expression: #StringExpr['bar']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['SPACE']
                                       $expression: #IntExpr['14']
                                       $expression: #IntExpr['1']
                                       $expression: #IntExpr['14']
                                       $expression: #Nil['nil']
                                       $expression: #StringExpr[' ']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['END']
                                       $expression: #IntExpr['15']
                                       $expression: #IntExpr['1']
                                       $expression: #IntExpr['15']
                                       $expression: #StringExpr['end']
                                       $expression: #StringExpr['end']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['stream']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['token_stream']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_method_alias']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['def m() alias a b; end']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_method']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['klass']
                                    $recv: #NameExpr['aliases']
                                 ]
                                 $recv: #NameExpr['empty?']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_method_ampersand']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['def self.&\\nend']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_method']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['ampersand']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['&']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['ampersand']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['ampersand']
                                 $recv: #NameExpr['singleton']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_method_constant']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['c']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Constant']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['CONST']
                                 $expression: #Nil['nil']
                                 $expression: #StringExpr['']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['m']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@top_level']
                              $recv: #NameExpr['add_class']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['NormalModule']
                                 ]
                                 $expression: #StringExpr['M']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['m']
                           $recv: #NameExpr['add_constant']
                           $param: #List[
                              $expression: #NameExpr['c']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['def CONST.m() end']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_method']
                           $param: #List[
                              $expression: #NameExpr['m']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@store']
                                    $recv: #NameExpr['modules_hash']
                                 ]
                                 $recv: #NameExpr['keys']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ParcentNotation['%w[M]']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@store']
                                    $recv: #NameExpr['classes_hash']
                                 ]
                                 $recv: #NameExpr['keys']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_method_false']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['def false.foo() :bar end']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_method']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@store']
                              $recv: #NameExpr['find_class_named']
                              $param: #List[
                                 $expression: #StringExpr['FalseClass']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_method_funky']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['def (blah).foo() :bar end']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_method']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['method_list']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_method_gvar']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['def $stdout.foo() :bar end']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_method']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@top_level']
                                    $recv: #NameExpr['method_list']
                                 ]
                                 $recv: #NameExpr['empty?']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_method_gvar_insane']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['def $stdout.foo() class << $other; end; end']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_method']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@top_level']
                                    $recv: #NameExpr['method_list']
                                 ]
                                 $recv: #NameExpr['empty?']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@store']
                                 $recv: #NameExpr['all_classes']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@store']
                                    $recv: #NameExpr['all_modules']
                                 ]
                                 $recv: #NameExpr['length']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['refute']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['@store']
                                       $recv: #NameExpr['all_modules']
                                    ]
                                    $recv: #NameExpr['first']
                                 ]
                                 $recv: #NameExpr['document_self']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_method_internal_gvar']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['def foo() def $blah.bar() end end']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_method']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['klass']
                                    $recv: #NameExpr['method_list']
                                 ]
                                 $recv: #NameExpr['length']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_method_internal_ivar']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['def foo() def @blah.bar() end end']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_method']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['klass']
                                    $recv: #NameExpr['method_list']
                                 ]
                                 $recv: #NameExpr['length']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_method_internal_lvar']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['def foo() def blah.bar() end end']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_method']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['klass']
                                    $recv: #NameExpr['method_list']
                                 ]
                                 $recv: #NameExpr['length']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_method_nil']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['def nil.foo() :bar end']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_method']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@store']
                              $recv: #NameExpr['find_class_named']
                              $param: #List[
                                 $expression: #StringExpr['NilClass']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_method_nodoc']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['def foo # :nodoc:\\nend']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_method']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['comment']
                                 $param: #List[
                                    $expression: #StringExpr['']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['method_list']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_method_nodoc_track']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['@options']
                              $name: #NameExpr['visibility']
                           ]
                           $right: #NameExpr['nodoc']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['def foo # :nodoc:\\nend']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_method']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['comment']
                                 $param: #List[
                                    $expression: #StringExpr['']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['refute_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['method_list']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_method_no_parens']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['def foo arg1, arg2 = {}\\nend']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_method']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['(arg1, arg2 = {})']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['params']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_method_parameters_comment']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['def foo arg1, arg2 # some useful comment\\nend']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_method']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['(arg1, arg2)']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['params']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_method_parameters_comment_continue']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['def foo arg1, arg2, # some useful comment\\narg3\\nend']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_method']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['(arg1, arg2, arg3)']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['params']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_method_star']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['def self.*\\nend']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_method']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['ampersand']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['*']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['ampersand']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['ampersand']
                                 $recv: #NameExpr['singleton']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_method_stopdoc']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['klass']
                           $recv: #NameExpr['stop_doc']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# my method\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['def foo() :bar end']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_method']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['comment']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['method_list']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_method_toplevel']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['def foo arg1, arg2\\nend']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_method']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['object']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@store']
                              $recv: #NameExpr['find_class_named']
                              $param: #List[
                                 $expression: #StringExpr['Object']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['object']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Object#foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_method_toplevel_class']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['def Object.foo arg1, arg2\\nend']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_method']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['object']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@store']
                              $recv: #NameExpr['find_class_named']
                              $param: #List[
                                 $expression: #StringExpr['Object']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['object']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Object::foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_method_true']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['def true.foo() :bar end']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_method']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@store']
                              $recv: #NameExpr['find_class_named']
                              $param: #List[
                                 $expression: #StringExpr['TrueClass']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_method_utf8']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['method']
                           $right: #StringExpr['def ω() end']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['UTF_8']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['method']
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['method']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_method']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['omega']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['def \\317\\211']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['omega']
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_method_dummy']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['.method() end']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_method_dummy']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nil']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@parser']
                                 $recv: #NameExpr['get_tk']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_method_or_yield_parameters_hash']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['({})\\n']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['m']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['AnyMethod']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #Nil['nil']
                                 $expression: #StringExpr['m']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['result']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@parser']
                              $recv: #NameExpr['parse_method_or_yield_parameters']
                              $param: #List[
                                 $expression: #NameExpr['m']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['({})']
                              $expression: #NameExpr['result']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_statements_class_if']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #HereDocument['module Foo\n  X = if TRUE then\n        \'\'\n      end\n\n  def blah\n  end\nend\n']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_statements']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #Nil['nil']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['modules']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['full_name']
                              ]
                              $expression: #StringExpr['module Foo']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['methods']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['foo']
                              $recv: #NameExpr['method_list']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['methods']
                                 $recv: #NameExpr['length']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Foo#blah']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['methods']
                                    $recv: #NameExpr['first']
                                 ]
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_statements_class_nested']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Comment']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['##\\n# my method\\n']
                                 $expression: #NameExpr['@top_level']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr[
                                 $inner: #ApplyExpr[
                                    $recv: #NameExpr['comment']
                                    $recv: #NameExpr['text']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_statements']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['modules']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['full_name']
                              ]
                              $expression: #StringExpr['module Foo']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['bar']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['classes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Foo::Bar']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['bar']
                                 $recv: #NameExpr['full_name']
                              ]
                              $expression: #StringExpr['class Foo::Bar']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['my method']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['bar']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_statements_def_percent_string_pound']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['class C\\ndef a\\n%r{#}\\nend\\ndef b() end\\nend']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_statements']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['x']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['classes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['2']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['x']
                                    $recv: #NameExpr['method_list']
                                 ]
                                 $recv: #NameExpr['length']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['a']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['x']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #Array[
                              $index: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['COMMENT']
                                       $expression: #IntExpr['0']
                                       $expression: #IntExpr['2']
                                       $expression: #IntExpr['1']
                                       $expression: #Nil['nil']
                                       $expression: #StringExpr[
                                          $inner: #NameExpr['@filename']
                                       ]
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['NL']
                                       $expression: #IntExpr['0']
                                       $expression: #IntExpr['0']
                                       $expression: #IntExpr['0']
                                       $expression: #Nil['nil']
                                       $expression: #StringExpr['\\n']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['SPACE']
                                       $expression: #IntExpr['0']
                                       $expression: #IntExpr['1']
                                       $expression: #IntExpr['1']
                                       $expression: #Nil['nil']
                                       $expression: #StringExpr['']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['DEF']
                                       $expression: #IntExpr['8']
                                       $expression: #IntExpr['2']
                                       $expression: #IntExpr['0']
                                       $expression: #StringExpr['def']
                                       $expression: #StringExpr['def']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['SPACE']
                                       $expression: #IntExpr['11']
                                       $expression: #IntExpr['2']
                                       $expression: #IntExpr['3']
                                       $expression: #Nil['nil']
                                       $expression: #StringExpr[' ']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['IDENTIFIER']
                                       $expression: #IntExpr['12']
                                       $expression: #IntExpr['2']
                                       $expression: #IntExpr['4']
                                       $expression: #StringExpr['a']
                                       $expression: #StringExpr['a']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['NL']
                                       $expression: #IntExpr['13']
                                       $expression: #IntExpr['2']
                                       $expression: #IntExpr['5']
                                       $expression: #Nil['nil']
                                       $expression: #StringExpr['\\n']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['DREGEXP']
                                       $expression: #IntExpr['14']
                                       $expression: #IntExpr['3']
                                       $expression: #IntExpr['0']
                                       $expression: #Nil['nil']
                                       $expression: #StringExpr['%r{#}']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['NL']
                                       $expression: #IntExpr['19']
                                       $expression: #IntExpr['3']
                                       $expression: #IntExpr['5']
                                       $expression: #Nil['nil']
                                       $expression: #StringExpr['\\n']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['tk']
                                    $param: #List[
                                       $expression: #NameExpr['END']
                                       $expression: #IntExpr['20']
                                       $expression: #IntExpr['4']
                                       $expression: #IntExpr['0']
                                       $expression: #StringExpr['end']
                                       $expression: #StringExpr['end']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['a']
                                 $recv: #NameExpr['token_stream']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_statements_encoding']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['@options']
                              $name: #NameExpr['encoding']
                           ]
                           $right: #Field[
                              $recv: #NameExpr['Encoding']
                              $name: #NameExpr['CP852']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #HereDocument['class Foo\n  ##\n  # this is my method\n  add_my_method :foo\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_statements']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['@top_level']
                                       $recv: #NameExpr['classes']
                                    ]
                                    $recv: #NameExpr['first']
                                 ]
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['this is my method']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['CP852']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['foo']
                                       $recv: #NameExpr['comment']
                                    ]
                                    $recv: #NameExpr['text']
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_statements_enddoc']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@top_level']
                              $recv: #NameExpr['add_class']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['NormalClass']
                                 ]
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['\\n# :enddoc:']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_statements']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #Nil['nil']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['done_documenting']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_statements_enddoc_top_level']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['\\n# :enddoc:']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_throws']
                           $param: #List[
                              $expression: #NameExpr['eof']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $base: #NameExpr['@parser']
                                 $recv: #NameExpr['parse_statements']
                                 $param: #List[
                                    $expression: #NameExpr['@top_level']
                                    $expression: #Field[
                                       $recv: #Field[
                                          $recv: #Field[
                                             $recv: #NameExpr['RDoc']
                                             $name: #NameExpr['Parser']
                                          ]
                                          $name: #NameExpr['Ruby']
                                       ]
                                       $name: #NameExpr['NORMAL']
                                    ]
                                    $expression: #Nil['nil']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_statements_identifier_meta_method']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #HereDocument['class Foo\n  ##\n  # this is my method\n  add_my_method :foo\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_statements']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['@top_level']
                                       $recv: #NameExpr['classes']
                                    ]
                                    $recv: #NameExpr['first']
                                 ]
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_statements_identifier_alias_method']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #HereDocument['class Foo\n  def foo() end\n  alias_method :foo2, :foo\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_statements']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #Indexer[
                              $recv: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['@top_level']
                                       $recv: #NameExpr['classes']
                                    ]
                                    $recv: #NameExpr['first']
                                 ]
                                 $recv: #NameExpr['method_list']
                              ]
                              $index: #List[
                                 $expression: #IntExpr['0']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo2']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['@top_level']
                                       $recv: #NameExpr['classes']
                                    ]
                                    $recv: #NameExpr['first']
                                 ]
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['last']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo2']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo2']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo2']
                                    $recv: #NameExpr['is_alias_for']
                                 ]
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #ApplyExpr[
                                          $recv: #NameExpr['@top_level']
                                          $recv: #NameExpr['classes']
                                       ]
                                       $recv: #NameExpr['first']
                                    ]
                                    $recv: #NameExpr['aliases']
                                 ]
                                 $recv: #NameExpr['empty?']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_statements_identifier_alias_method_before_original_method']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #HereDocument['class Foo\n  alias_method :foo2, :foo\n\n  alias_method :foo3, :foo\n\n  def foo()\n  end\n\n  alias_method :foo4, :foo\n\n  alias_method :foo5, :unknown\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_statements']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #Indexer[
                              $recv: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['@top_level']
                                       $recv: #NameExpr['classes']
                                    ]
                                    $recv: #NameExpr['first']
                                 ]
                                 $recv: #NameExpr['method_list']
                              ]
                              $index: #List[
                                 $expression: #IntExpr['0']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo2']
                           $right: #Indexer[
                              $recv: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['@top_level']
                                       $recv: #NameExpr['classes']
                                    ]
                                    $recv: #NameExpr['first']
                                 ]
                                 $recv: #NameExpr['method_list']
                              ]
                              $index: #List[
                                 $expression: #IntExpr['1']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo2']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo2']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo2']
                                    $recv: #NameExpr['is_alias_for']
                                 ]
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo3']
                           $right: #Indexer[
                              $recv: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['@top_level']
                                       $recv: #NameExpr['classes']
                                    ]
                                    $recv: #NameExpr['first']
                                 ]
                                 $recv: #NameExpr['method_list']
                              ]
                              $index: #List[
                                 $expression: #IntExpr['2']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo3']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo3']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo3']
                                    $recv: #NameExpr['is_alias_for']
                                 ]
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo4']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['@top_level']
                                       $recv: #NameExpr['classes']
                                    ]
                                    $recv: #NameExpr['first']
                                 ]
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['last']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo4']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo4']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo4']
                                    $recv: #NameExpr['is_alias_for']
                                 ]
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['unknown']
                              $expression: #ApplyExpr[
                                 $recv: #Indexer[
                                    $recv: #ApplyExpr[
                                       $recv: #ApplyExpr[
                                          $recv: #ApplyExpr[
                                             $recv: #NameExpr['@top_level']
                                             $recv: #NameExpr['classes']
                                          ]
                                          $recv: #NameExpr['first']
                                       ]
                                       $recv: #NameExpr['external_aliases']
                                    ]
                                    $index: #List[
                                       $expression: #IntExpr['0']
                                    ]
                                 ]
                                 $recv: #NameExpr['old_name']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_statements_identifier_args']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #StringExpr['##\\n# :args: x\\n# :method: b\\n# my method\\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr[
                                 $inner: #NameExpr['comment']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_statements']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['m']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['modules']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['M']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['m']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['b']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['m']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['M#b']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['b']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['x']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['b']
                                 $recv: #NameExpr['params']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['my method']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['b']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nil']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['m']
                                 $recv: #NameExpr['params']
                              ]
                              $expression: #StringExpr['Module parameter not removed']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_statements_identifier_constant']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['sixth_constant']
                           $right: #HereDocument['Class.new do\n  rule :file do\n    all(x, y, z) {\n      def value\n        find(:require).each {|r| require r.value }\n        find(:grammar).map {|g| g.value }\n      end\n      def min; end\n    }\n  end\nend\n']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #HereDocument['class Foo\n  FIRST_CONSTANT = 5\n\n  SECOND_CONSTANT = [\n     1,\n     2,\n     3\n  ]\n\n  THIRD_CONSTANT = {\n     :foo => \'bar\',\n     :x => \'y\'\n  }\n\n  FOURTH_CONSTANT = SECOND_CONSTANT.map do |element|\n    element + 1\n    element + 2\n  end\n\n  FIFTH_CONSTANT = SECOND_CONSTANT.map { |element| element + 1 }\n\n  SIXTH_CONSTANT = #{sixth_constant}\n\n  SEVENTH_CONSTANT = proc { |i| begin i end }\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_statements']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['constants']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@top_level']
                                    $recv: #NameExpr['classes']
                                 ]
                                 $recv: #NameExpr['first']
                              ]
                              $recv: #NameExpr['constants']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['constant']
                           $right: #Indexer[
                              $recv: #NameExpr['constants']
                              $index: #List[
                                 $expression: #IntExpr['0']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['FIRST_CONSTANT']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['constant']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['5']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['constant']
                                 $recv: #NameExpr['value']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['constant']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['constant']
                           $right: #Indexer[
                              $recv: #NameExpr['constants']
                              $index: #List[
                                 $expression: #IntExpr['1']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['SECOND_CONSTANT']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['constant']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['[\\n1,\\n2,\\n3\\n]']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['constant']
                                 $recv: #NameExpr['value']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['constant']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['constant']
                           $right: #Indexer[
                              $recv: #NameExpr['constants']
                              $index: #List[
                                 $expression: #IntExpr['2']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['THIRD_CONSTANT']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['constant']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['{\\n:foo => \'bar\',\\n:x => \'y\'\\n}']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['constant']
                                 $recv: #NameExpr['value']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['constant']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['constant']
                           $right: #Indexer[
                              $recv: #NameExpr['constants']
                              $index: #List[
                                 $expression: #IntExpr['3']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['FOURTH_CONSTANT']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['constant']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['SECOND_CONSTANT.map do |element|\\nelement + 1\\nelement + 2\\nend']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['constant']
                                 $recv: #NameExpr['value']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['constant']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['constant']
                           $right: #Indexer[
                              $recv: #NameExpr['constants']
                              $index: #List[
                                 $expression: #IntExpr['4']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['FIFTH_CONSTANT']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['constant']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['SECOND_CONSTANT.map { |element| element + 1 }']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['constant']
                                 $recv: #NameExpr['value']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['constant']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['constant']
                           $right: #Indexer[
                              $recv: #NameExpr['constants']
                              $index: #List[
                                 $expression: #IntExpr['5']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['SIXTH_CONSTANT']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['constant']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['sixth_constant']
                                       $recv: #NameExpr['lines']
                                    ]
                                    $recv: #NameExpr['map']
                                    $param: #List[
                                       $procedure: #Procedure[
                                          $base: #NameExpr['strip']
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['join']
                                 $param: #List[
                                    $expression: #StringExpr['\\n']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['constant']
                                 $recv: #NameExpr['value']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['constant']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['constant']
                           $right: #Indexer[
                              $recv: #NameExpr['constants']
                              $index: #List[
                                 $expression: #IntExpr['6']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['SEVENTH_CONSTANT']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['constant']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['proc { |i| begin i end }']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['constant']
                                 $recv: #NameExpr['value']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['constant']
                                 $recv: #NameExpr['file']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_statements_identifier_attr']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #StringExpr['class Foo\\nattr :foo\\nend']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_statements']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['@top_level']
                                       $recv: #NameExpr['classes']
                                    ]
                                    $recv: #NameExpr['first']
                                 ]
                                 $recv: #NameExpr['attributes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['R']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['rw']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_statements_identifier_attr_accessor']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #StringExpr['class Foo\\nattr_accessor :foo\\nend']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_statements']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['@top_level']
                                       $recv: #NameExpr['classes']
                                    ]
                                    $recv: #NameExpr['first']
                                 ]
                                 $recv: #NameExpr['attributes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['RW']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['rw']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_statements_identifier_define_method']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #HereDocument['class C\n  ##\n  # :method: a\n  define_method :a do end\n  ##\n  # :method: b\n  define_method :b do end\nend\n']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_statements']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['c']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['classes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ParcentNotation['%w[a b]']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['c']
                                    $recv: #NameExpr['method_list']
                                 ]
                                 $recv: #NameExpr['map']
                                 $body: #Block[
                                    $param: #NameExpr['m']
                                    $body: #ApplyExpr[
                                       $recv: #NameExpr['m']
                                       $recv: #NameExpr['name']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_statements_identifier_include']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #StringExpr['class Foo\\ninclude Bar\\nend']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_statements']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['classes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo']
                                    $recv: #NameExpr['includes']
                                 ]
                                 $recv: #NameExpr['length']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_statements_identifier_module_function']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #StringExpr['module Foo\\ndef foo() end\\nmodule_function :foo\\nend']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_statements']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                           ]
                        ]
                        $statement: #MultipleAssign[
                           $left: #MultipleLeftHandSideExpression[
                              $item: #NameExpr['foo']
                              $item: #NameExpr['s_foo']
                           ]
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@top_level']
                                    $recv: #NameExpr['modules']
                                 ]
                                 $recv: #NameExpr['first']
                              ]
                              $recv: #NameExpr['method_list']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                              $expression: #StringExpr['instance method name']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['private']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['visibility']
                              ]
                              $expression: #StringExpr['instance method visibility']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['singleton']
                              ]
                              $expression: #StringExpr['instance method singleton']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s_foo']
                                 $recv: #NameExpr['name']
                              ]
                              $expression: #StringExpr['module function name']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['public']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s_foo']
                                 $recv: #NameExpr['visibility']
                              ]
                              $expression: #StringExpr['module function visibility']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #TrueExpr['true']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s_foo']
                                 $recv: #NameExpr['singleton']
                              ]
                              $expression: #StringExpr['module function singleton']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_statements_identifier_private']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #StringExpr['class Foo\\nprivate\\ndef foo() end\\nend']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_statements']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['@top_level']
                                       $recv: #NameExpr['classes']
                                    ]
                                    $recv: #NameExpr['first']
                                 ]
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['private']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['visibility']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_statements_identifier_public_class_method']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #HereDocument['class Date\n  def self.now; end\n  private_class_method :now\nend\n\nclass DateTime < Date\n  public_class_method :now\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_statements']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                           ]
                        ]
                        $statement: #MultipleAssign[
                           $left: #MultipleLeftHandSideExpression[
                              $item: #NameExpr['date']
                              $item: #NameExpr['date_time']
                           ]
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['classes']
                              ]
                              $recv: #NameExpr['sort_by']
                              $body: #Block[
                                 $param: #NameExpr['c']
                                 $body: #ApplyExpr[
                                    $recv: #NameExpr['c']
                                    $recv: #NameExpr['full_name']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['date_now']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['date']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['date_time_now']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['date_time']
                                    $recv: #NameExpr['method_list']
                                 ]
                                 $recv: #NameExpr['sort_by']
                                 $body: #Block[
                                    $param: #NameExpr['m']
                                    $body: #ApplyExpr[
                                       $recv: #NameExpr['m']
                                       $recv: #NameExpr['full_name']
                                    ]
                                 ]
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['private']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['date_now']
                                 $recv: #NameExpr['visibility']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['public']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['date_time_now']
                                 $recv: #NameExpr['visibility']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_statements_identifier_private_class_method']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #HereDocument['class Date\n  def self.now; end\n  public_class_method :now\nend\n\nclass DateTime < Date\n  private_class_method :now\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_statements']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                           ]
                        ]
                        $statement: #MultipleAssign[
                           $left: #MultipleLeftHandSideExpression[
                              $item: #NameExpr['date']
                              $item: #NameExpr['date_time']
                           ]
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['classes']
                              ]
                              $recv: #NameExpr['sort_by']
                              $body: #Block[
                                 $param: #NameExpr['c']
                                 $body: #ApplyExpr[
                                    $recv: #NameExpr['c']
                                    $recv: #NameExpr['full_name']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['date_now']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['date']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['date_time_now']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['date_time']
                                    $recv: #NameExpr['method_list']
                                 ]
                                 $recv: #NameExpr['sort_by']
                                 $body: #Block[
                                    $param: #NameExpr['m']
                                    $body: #ApplyExpr[
                                       $recv: #NameExpr['m']
                                       $recv: #NameExpr['full_name']
                                    ]
                                 ]
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['public']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['date_now']
                                 $recv: #NameExpr['visibility']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['date_now']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['private']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['date_time_now']
                                 $recv: #NameExpr['visibility']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['date_time_now']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_statements_identifier_require']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #StringExpr['require \'bar\'']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_statements']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@top_level']
                                    $recv: #NameExpr['requires']
                                 ]
                                 $recv: #NameExpr['length']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_statements_identifier_yields']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['comment']
                           $right: #StringExpr['##\\n# :yields: x\\n# :method: b\\n# my method\\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr[
                                 $inner: #NameExpr['comment']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_statements']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['m']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['modules']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['M']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['m']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['b']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['m']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['M#b']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['b']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['x']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['b']
                                 $recv: #NameExpr['block_params']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['my method']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['b']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nil']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['m']
                                 $recv: #NameExpr['params']
                              ]
                              $expression: #StringExpr['Module parameter not removed']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_statements_stopdoc_TkALIAS']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@top_level']
                              $recv: #NameExpr['add_class']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['NormalClass']
                                 ]
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['\\n# :stopdoc:\\nalias old new']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_statements']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #Nil['nil']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['aliases']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['unmatched_alias_lists']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_statements_stopdoc_TkIDENTIFIER_alias_method']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@top_level']
                              $recv: #NameExpr['add_class']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['NormalClass']
                                 ]
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['\\n# :stopdoc:\\nalias_method :old :new']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_statements']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #Nil['nil']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['aliases']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['unmatched_alias_lists']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_statements_stopdoc_TkIDENTIFIER_metaprogrammed']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@top_level']
                              $recv: #NameExpr['add_class']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['NormalClass']
                                 ]
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['\\n# :stopdoc:\\n# attr :meta']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_statements']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #Nil['nil']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['method_list']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['attributes']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_statements_stopdoc_TkCONSTANT']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@top_level']
                              $recv: #NameExpr['add_class']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['NormalClass']
                                 ]
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['\\n# :stopdoc:\\nA = v']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_statements']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #Nil['nil']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['constants']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_statements_stopdoc_TkDEF']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@top_level']
                              $recv: #NameExpr['add_class']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['NormalClass']
                                 ]
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['\\n# :stopdoc:\\ndef m\\n end']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_statements']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #Nil['nil']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['method_list']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_statements_super']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['m']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['AnyMethod']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['']
                                 $expression: #StringExpr['m']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['super']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_statements']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['m']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['m']
                                 $recv: #NameExpr['calls_super']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_statements_super_no_method']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #StringExpr['super']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_statements']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nil']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@parser']
                                 $recv: #NameExpr['get_tk']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_statements_while_begin']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #HereDocument['class A\n  def a\n    while begin a; b end\n    end\n  end\n\n  def b\n  end\nend\n']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_statements']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['c_a']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['classes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['A']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['c_a']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@top_level']
                                    $recv: #NameExpr['classes']
                                 ]
                                 $recv: #NameExpr['length']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['m_a']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['c_a']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['m_b']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['c_a']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['last']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['A#a']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['m_a']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['A#b']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['m_b']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_symbol_in_arg']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr[':blah "blah" "#{blah}" blah']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['blah']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@parser']
                                 $recv: #NameExpr['parse_symbol_in_arg']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['skip_tkspace']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['blah']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@parser']
                                 $recv: #NameExpr['parse_symbol_in_arg']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['skip_tkspace']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Nil['nil']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@parser']
                                 $recv: #NameExpr['parse_symbol_in_arg']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['skip_tkspace']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Nil['nil']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@parser']
                                 $recv: #NameExpr['parse_symbol_in_arg']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_statements_alias_method']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #HereDocument['class A\n  alias_method :a, :[] unless c\nend\n\nB = A\n\nclass C\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_statements']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_top_level_statements_enddoc']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #HereDocument['# :enddoc:\n']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_throws']
                           $param: #List[
                              $expression: #NameExpr['eof']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $base: #NameExpr['@parser']
                                 $recv: #NameExpr['parse_top_level_statements']
                                 $param: #List[
                                    $expression: #NameExpr['@top_level']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_top_level_statements_stopdoc']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@top_level']
                           $recv: #NameExpr['stop_doc']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #StringExpr['# this is the top-level comment']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_top_level_statements']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['comment']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_top_level_statements_stopdoc_integration']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #HereDocument['# :stopdoc:\n\nclass Example\n  def method_name\n  end\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_top_level_statements']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@top_level']
                                    $recv: #NameExpr['classes']
                                 ]
                                 $recv: #NameExpr['length']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['modules']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@top_level']
                                    $recv: #NameExpr['find_module_named']
                                    $param: #List[
                                       $expression: #StringExpr['Example']
                                    ]
                                 ]
                                 $recv: #NameExpr['ignored?']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_top_level_statements_constant_nodoc_integration']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #HereDocument['class A\n  C = A # :nodoc:\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_top_level_statements']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@top_level']
                              $recv: #NameExpr['find_module_named']
                              $param: #List[
                                 $expression: #StringExpr['A']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['c']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['constants']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nil']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['c']
                                 $recv: #NameExpr['document_self']
                              ]
                              $expression: #StringExpr['C should not be documented']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_parse_yield_in_braces_with_parens']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['NormalClass']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #StringExpr['Foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['klass']
                              $name: #NameExpr['parent']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['def foo\\nn.times { |i| yield nth(i) }\\nend']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['tk']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_method']
                           $param: #List[
                              $expression: #NameExpr['klass']
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Parser']
                                    ]
                                    $name: #NameExpr['Ruby']
                                 ]
                                 $name: #NameExpr['NORMAL']
                              ]
                              $expression: #NameExpr['tk']
                              $expression: #NameExpr['@comment']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['klass']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['nth(i)']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['block_params']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_read_directive']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['parser']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['util_parser']
                              $param: #List[
                                 $expression: #StringExpr['# :category: test']
                              ]
                           ]
                        ]
                        $statement: #MultipleAssign[
                           $left: #MultipleLeftHandSideExpression[
                              $item: #NameExpr['directive']
                              $item: #NameExpr['value']
                           ]
                           $right: #ApplyExpr[
                              $base: #NameExpr['parser']
                              $recv: #NameExpr['read_directive']
                              $param: #List[
                                 $expression: #ParcentNotation['%w[category]']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['category']
                              $expression: #NameExpr['directive']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['test']
                              $expression: #NameExpr['value']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_kind_of']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['RubyToken']
                                 ]
                                 $name: #NameExpr['TkNL']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['parser']
                                 $recv: #NameExpr['get_tk']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_read_directive_allow']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['parser']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['util_parser']
                              $param: #List[
                                 $expression: #StringExpr['# :category: test']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['directive']
                           $right: #ApplyExpr[
                              $base: #NameExpr['parser']
                              $recv: #NameExpr['read_directive']
                              $param: #List[
                                 $expression: #Array['[]']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nil']
                           $param: #List[
                              $expression: #NameExpr['directive']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_kind_of']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['RubyToken']
                                 ]
                                 $name: #NameExpr['TkNL']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['parser']
                                 $recv: #NameExpr['get_tk']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_read_directive_empty']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['parser']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['util_parser']
                              $param: #List[
                                 $expression: #StringExpr['# test']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['directive']
                           $right: #ApplyExpr[
                              $base: #NameExpr['parser']
                              $recv: #NameExpr['read_directive']
                              $param: #List[
                                 $expression: #ParcentNotation['%w[category]']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nil']
                           $param: #List[
                              $expression: #NameExpr['directive']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_kind_of']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['RubyToken']
                                 ]
                                 $name: #NameExpr['TkNL']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['parser']
                                 $recv: #NameExpr['get_tk']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_read_directive_no_comment']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['parser']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['util_parser']
                              $param: #List[
                                 $expression: #StringExpr['']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['directive']
                           $right: #ApplyExpr[
                              $base: #NameExpr['parser']
                              $recv: #NameExpr['read_directive']
                              $param: #List[
                                 $expression: #ParcentNotation['%w[category]']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nil']
                           $param: #List[
                              $expression: #NameExpr['directive']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_kind_of']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['RubyToken']
                                 ]
                                 $name: #NameExpr['TkNL']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['parser']
                                 $recv: #NameExpr['get_tk']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_read_directive_one_liner']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['parser']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['util_parser']
                              $param: #List[
                                 $expression: #StringExpr['; end # :category: test']
                              ]
                           ]
                        ]
                        $statement: #MultipleAssign[
                           $left: #MultipleLeftHandSideExpression[
                              $item: #NameExpr['directive']
                              $item: #NameExpr['value']
                           ]
                           $right: #ApplyExpr[
                              $base: #NameExpr['parser']
                              $recv: #NameExpr['read_directive']
                              $param: #List[
                                 $expression: #ParcentNotation['%w[category]']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['category']
                              $expression: #NameExpr['directive']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['test']
                              $expression: #NameExpr['value']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_kind_of']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['RubyToken']
                                 ]
                                 $name: #NameExpr['TkSEMICOLON']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['parser']
                                 $recv: #NameExpr['get_tk']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_read_documentation_modifiers']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['c']
                           $right: #ApplyExpr[
                              $recv: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Context']
                              ]
                              $recv: #NameExpr['new']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['parser']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['util_parser']
                              $param: #List[
                                 $expression: #StringExpr['# :category: test']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['parser']
                           $recv: #NameExpr['read_documentation_modifiers']
                           $param: #List[
                              $expression: #NameExpr['c']
                              $expression: #ParcentNotation['%w[category]']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['test']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['c']
                                    $recv: #NameExpr['current_section']
                                 ]
                                 $recv: #NameExpr['title']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_read_documentation_modifiers_notnew']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['m']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['AnyMethod']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #Nil['nil']
                                 $expression: #StringExpr['initialize']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['parser']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['util_parser']
                              $param: #List[
                                 $expression: #StringExpr['# :notnew: test']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['parser']
                           $recv: #NameExpr['read_documentation_modifiers']
                           $param: #List[
                              $expression: #NameExpr['m']
                              $expression: #ParcentNotation['%w[notnew]']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['m']
                                 $recv: #NameExpr['dont_rename_initialize']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_read_documentation_modifiers_not_dash_new']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['m']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['AnyMethod']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #Nil['nil']
                                 $expression: #StringExpr['initialize']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['parser']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['util_parser']
                              $param: #List[
                                 $expression: #StringExpr['# :not-new: test']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['parser']
                           $recv: #NameExpr['read_documentation_modifiers']
                           $param: #List[
                              $expression: #NameExpr['m']
                              $expression: #ParcentNotation['%w[not-new]']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['m']
                                 $recv: #NameExpr['dont_rename_initialize']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_read_documentation_modifiers_not_new']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['m']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['AnyMethod']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #Nil['nil']
                                 $expression: #StringExpr['initialize']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['parser']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['util_parser']
                              $param: #List[
                                 $expression: #StringExpr['# :not_new: test']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['parser']
                           $recv: #NameExpr['read_documentation_modifiers']
                           $param: #List[
                              $expression: #NameExpr['m']
                              $expression: #ParcentNotation['%w[not_new]']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['m']
                                 $recv: #NameExpr['dont_rename_initialize']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_sanity_integer']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['1']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@parser']
                                    $recv: #NameExpr['get_tk']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['1.0']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['1.0']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@parser']
                                    $recv: #NameExpr['get_tk']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_sanity_interpolation']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['last_tk']
                           $right: #Nil['nil']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['class A; B = "#{c}"; end']
                           ]
                        ]
                        $statement: #While[
                           $cond: #AssignExpr[
                              $left: #NameExpr['tk']
                              $right: #ApplyExpr[
                                 $recv: #NameExpr['@parser']
                                 $recv: #NameExpr['get_tk']
                              ]
                           ]
                           $body: #AssignExpr[
                              $left: #NameExpr['last_tk']
                              $right: #NameExpr['tk']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['\\n']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['last_tk']
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_sanity_interpolation_crazy']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['"#{"#{"a")}" if b}"']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['"#{"#{"a")}" if b}"']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@parser']
                                    $recv: #NameExpr['get_tk']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['RubyToken']
                                 ]
                                 $name: #NameExpr['TkNL']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@parser']
                                    $recv: #NameExpr['get_tk']
                                 ]
                                 $recv: #NameExpr['class']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_sanity_interpolation_curly']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['%{ #{} }']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['%Q{ #{} }']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@parser']
                                    $recv: #NameExpr['get_tk']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['RubyToken']
                                 ]
                                 $name: #NameExpr['TkNL']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@parser']
                                    $recv: #NameExpr['get_tk']
                                 ]
                                 $recv: #NameExpr['class']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_sanity_interpolation_format']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr['"#{stftime("%m-%d")}"']
                           ]
                        ]
                        $statement: #While[
                           $cond: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                           $body: #Empty['']
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_sanity_symbol_interpolation']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #StringExpr[':"#{bar}="']
                           ]
                        ]
                        $statement: #While[
                           $cond: #ApplyExpr[
                              $recv: #NameExpr['@parser']
                              $recv: #NameExpr['get_tk']
                           ]
                           $body: #Empty['']
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_scan_cr']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #HereDocument['class C\\r\n  def m\\r\n    a=\\\\\\r\n      123\\r\n  end\\r\nend\\r\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['scan']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['c']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['classes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['c']
                                    $recv: #NameExpr['method_list']
                                 ]
                                 $recv: #NameExpr['length']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_scan_block_comment']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #HereDocument['=begin rdoc\nFoo comment\n=end\n\nclass Foo\n\n=begin\nm comment\n=end\n\n  def m() end\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['scan']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['classes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Foo comment']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['m']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['m comment']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['m']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_scan_block_comment_nested']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #HereDocument['require \'something\'\n=begin rdoc\nfindmeindoc\n=end\nmodule Foo\n    class Bar\n    end\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['scan']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['modules']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['findmeindoc']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['bar']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['classes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Foo::Bar']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['bar']
                                 $recv: #NameExpr['full_name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['bar']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_scan_block_comment_notflush']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #HereDocument['=begin rdoc\n\n= DESCRIPTION\n\nThis is a simple test class\n\n= RUMPUS\n\nIs a silly word\n\n=end\nclass StevenSimpleClass\n  # A band on my iPhone as I wrote this test\n  FRUIT_BATS="Make nice music"\n\n=begin rdoc\nA nice girl\n=end\n\n  def lauren\n    puts "Summoning Lauren!"\n  end\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['scan']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['classes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['= DESCRIPTION\\n\\nThis is a simple test class\\n\\n= RUMPUS\\n\\nIs a silly word']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['m']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['A nice girl']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['m']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_scan_class_nested_nodoc']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #HereDocument['class A::B # :nodoc:\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['scan']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['visible']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@store']
                                 $recv: #NameExpr['all_classes_and_modules']
                              ]
                              $recv: #NameExpr['select']
                              $body: #Block[
                                 $param: #NameExpr['mod']
                                 $body: #ApplyExpr[
                                    $recv: #NameExpr['mod']
                                    $recv: #NameExpr['display?']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['visible']
                                 $recv: #NameExpr['map']
                                 $body: #Block[
                                    $param: #NameExpr['mod']
                                    $body: #ApplyExpr[
                                       $recv: #NameExpr['mod']
                                       $recv: #NameExpr['full_name']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_scan_constant_in_method']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #HereDocument['module M\n  def m\n    A\n    B::C\n  end\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['scan']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['m']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['modules']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['m']
                                 $recv: #NameExpr['constants']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@store']
                                    $recv: #NameExpr['classes_hash']
                                 ]
                                 $recv: #NameExpr['keys']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ParcentNotation['%w[M]']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@store']
                                    $recv: #NameExpr['modules_hash']
                                 ]
                                 $recv: #NameExpr['keys']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_scan_constant_in_rescue']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #HereDocument['module M\n  def m\n  rescue A::B\n  rescue A::C => e\n  rescue A::D, A::E\n  rescue A::F,\n         A::G\n  rescue H\n  rescue I => e\n  rescue J, K\n  rescue L =>\n    e\n  rescue M;\n  rescue N,\n         O => e\n  end\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['scan']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['m']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['modules']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['m']
                                 $recv: #NameExpr['constants']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@store']
                                    $recv: #NameExpr['classes_hash']
                                 ]
                                 $recv: #NameExpr['keys']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ParcentNotation['%w[M]']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@store']
                                    $recv: #NameExpr['modules_hash']
                                 ]
                                 $recv: #NameExpr['keys']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_scan_constant_nodoc']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #HereDocument['module M\n\n  C = v # :nodoc:\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['scan']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['c']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['@top_level']
                                       $recv: #NameExpr['modules']
                                    ]
                                    $recv: #NameExpr['first']
                                 ]
                                 $recv: #NameExpr['constants']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['c']
                                 $recv: #NameExpr['documented?']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_scan_constant_nodoc_block']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #HereDocument['module M\n\n  C = v do # :nodoc:\n  end\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['scan']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['c']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['@top_level']
                                       $recv: #NameExpr['modules']
                                    ]
                                    $recv: #NameExpr['first']
                                 ]
                                 $recv: #NameExpr['constants']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['c']
                                 $recv: #NameExpr['documented?']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_scan_duplicate_module']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #HereDocument['# comment a\nmodule Foo\nend\n\n# comment b\nmodule Foo\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['scan']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['modules']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #Array[
                              $index: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #Field[
                                       $recv: #NameExpr['RDoc']
                                       $name: #NameExpr['Comment']
                                    ]
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #StringExpr['comment b']
                                       $expression: #NameExpr['@top_level']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo']
                                    $recv: #NameExpr['comment_location']
                                 ]
                                 $recv: #NameExpr['map']
                                 $body: #Block[
                                    $param: #MultipleLeftHandSideExpression[
                                       $item: #NameExpr['c']
                                       $item: #NameExpr['l']
                                    ]
                                    $body: #NameExpr['c']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_scan_meta_method_block']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #HereDocument['class C\n\n  ##\n  #  my method\n\n  inline(:my_method) do |*args|\n    "this method used to cause z to disappear"\n  end\n\n  def z\n  end\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['scan']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['2']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #ApplyExpr[
                                          $recv: #NameExpr['@top_level']
                                          $recv: #NameExpr['classes']
                                       ]
                                       $recv: #NameExpr['first']
                                    ]
                                    $recv: #NameExpr['method_list']
                                 ]
                                 $recv: #NameExpr['length']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_scan_method_semi_method']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #HereDocument['class A\n  def self.m() end; def self.m=() end\nend\n\nclass B\n  def self.m() end\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['scan']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['a']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@store']
                              $recv: #NameExpr['find_class_named']
                              $param: #List[
                                 $expression: #StringExpr['A']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #NameExpr['a']
                              $expression: #StringExpr['missing A']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['2']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['a']
                                    $recv: #NameExpr['method_list']
                                 ]
                                 $recv: #NameExpr['length']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['b']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@store']
                              $recv: #NameExpr['find_class_named']
                              $param: #List[
                                 $expression: #StringExpr['B']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #NameExpr['b']
                              $expression: #StringExpr['missing B']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['b']
                                    $recv: #NameExpr['method_list']
                                 ]
                                 $recv: #NameExpr['length']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_scan_markup_override']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #HereDocument['# *awesome*\nclass C\n  # :markup: rd\n  # ((*radical*))\n  def m\n  end\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['scan']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['c']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['classes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['rdoc']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['c']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['format']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['rd']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #ApplyExpr[
                                          $recv: #NameExpr['c']
                                          $recv: #NameExpr['method_list']
                                       ]
                                       $recv: #NameExpr['first']
                                    ]
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['format']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_scan_markup_first_comment']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['content']
                           $right: #HereDocument['# :markup: rd\n\n# ((*awesome*))\nclass C\n  # ((*radical*))\n  def m\n  end\nend\n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['content']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['scan']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['c']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['classes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['rd']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['c']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['format']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['rd']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #ApplyExpr[
                                          $recv: #NameExpr['c']
                                          $recv: #NameExpr['method_list']
                                       ]
                                       $recv: #NameExpr['first']
                                    ]
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['format']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_scan_rails_routes']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #HereDocument['namespace :api do\n  scope module: :v1 do\n  end\nend\n']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['scan']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['classes']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['modules']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_scan_tomdoc_meta']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #HereDocument['# :markup: tomdoc\n\nclass C\n\n  # Signature\n  #\n  #   find_by_<field>[_and_<field>...](args)\n  #\n  # field - A field name.\n\nend\n\n']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['scan']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['c']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['classes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['m']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['c']
                                 $recv: #NameExpr['method_list']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['find_by_<field>[_and_<field>...]']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['m']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['find_by_<field>[_and_<field>...](args)\\n']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['m']
                                 $recv: #NameExpr['call_seq']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['doc']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['head']
                                    $param: #List[
                                       $expression: #IntExpr['3']
                                       $expression: #StringExpr['Signature']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['list']
                                    $param: #List[
                                       $expression: #NameExpr['NOTE']
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['item']
                                          $param: #List[
                                             $expression: #ParcentNotation['%w[field]']
                                             $expression: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['para']
                                                $param: #List[
                                                   $expression: #StringExpr['A field name.']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['expected']
                              $name: #NameExpr['file']
                           ]
                           $right: #NameExpr['@top_level']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['m']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['parse']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_scan_stopdoc']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #HereDocument['class C\n  # :stopdoc:\n  class Hidden\n  end\nend\n']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['scan']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['c']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@top_level']
                                 $recv: #NameExpr['classes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['hidden']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['c']
                                 $recv: #NameExpr['classes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['refute']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['hidden']
                                 $recv: #NameExpr['document_self']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['hidden']
                                 $recv: #NameExpr['ignored?']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_scan_stopdoc_class_alias']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #HereDocument['# :stopdoc:\nmodule A\n  B = C\nend\n']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['scan']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['@store']
                                 $recv: #NameExpr['all_classes']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['@store']
                                    $recv: #NameExpr['all_modules']
                                 ]
                                 $recv: #NameExpr['length']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['m']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@store']
                                 $recv: #NameExpr['all_modules']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['m']
                                 $recv: #NameExpr['ignored?']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_scan_stopdoc_nested']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #HereDocument['# :stopdoc:\nclass A::B\nend\n']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['scan']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['a']
                           $right: #Indexer[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@store']
                                 $recv: #NameExpr['modules_hash']
                              ]
                              $index: #List[
                                 $expression: #StringExpr['A']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['a_b']
                           $right: #Indexer[
                              $recv: #ApplyExpr[
                                 $recv: #NameExpr['@store']
                                 $recv: #NameExpr['classes_hash']
                              ]
                              $index: #List[
                                 $expression: #StringExpr['A::B']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['refute']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['a']
                                 $recv: #NameExpr['document_self']
                              ]
                              $expression: #StringExpr['A is inside stopdoc']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['a']
                                 $recv: #NameExpr['ignored?']
                              ]
                              $expression: #StringExpr['A is inside stopdoc']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['refute']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['a_b']
                                 $recv: #NameExpr['document_self']
                              ]
                              $expression: #StringExpr['A::B is inside stopdoc']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['a_b']
                                 $recv: #NameExpr['ignored?']
                              ]
                              $expression: #StringExpr['A::B is inside stopdoc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_scan_struct_self_brackets']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #HereDocument['class C < M.m\n  def self.[]\n  end\nend\n']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['scan']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['c']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@store']
                              $recv: #NameExpr['find_class_named']
                              $param: #List[
                                 $expression: #StringExpr['C']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ParcentNotation['%w[C::[]]']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['c']
                                    $recv: #NameExpr['method_list']
                                 ]
                                 $recv: #NameExpr['map']
                                 $body: #Block[
                                    $param: #NameExpr['m']
                                    $body: #ApplyExpr[
                                       $recv: #NameExpr['m']
                                       $recv: #NameExpr['full_name']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_scan_visibility']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #HereDocument['class C\n   def a() end\n\n   private :a\n\n   class << self\n     def b() end\n     private :b\n   end\nend\n']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['scan']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['c']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@store']
                              $recv: #NameExpr['find_class_named']
                              $param: #List[
                                 $expression: #StringExpr['C']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['c_a']
                           $right: #ApplyExpr[
                              $base: #NameExpr['c']
                              $recv: #NameExpr['find_method_named']
                              $param: #List[
                                 $expression: #StringExpr['a']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['private']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['c_a']
                                 $recv: #NameExpr['visibility']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['refute']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['c_a']
                                 $recv: #NameExpr['singleton']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['c_b']
                           $right: #ApplyExpr[
                              $base: #NameExpr['c']
                              $recv: #NameExpr['find_method_named']
                              $param: #List[
                                 $expression: #StringExpr['b']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['private']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['c_b']
                                 $recv: #NameExpr['visibility']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['c_b']
                                 $recv: #NameExpr['singleton']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_singleton_method_via_eigenclass']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #HereDocument['class C\n   class << self\n     def a() end\n   end\nend\n']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@parser']
                           $recv: #NameExpr['scan']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['c']
                           $right: #ApplyExpr[
                              $base: #NameExpr['@store']
                              $recv: #NameExpr['find_class_named']
                              $param: #List[
                                 $expression: #StringExpr['C']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['c_a']
                           $right: #ApplyExpr[
                              $base: #NameExpr['c']
                              $recv: #NameExpr['find_method_named']
                              $param: #List[
                                 $expression: #StringExpr['a']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['public']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['c_a']
                                 $recv: #NameExpr['visibility']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['c_a']
                                 $recv: #NameExpr['singleton']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_stopdoc_after_comment']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #HereDocument['      module Bar\n        # hello\n        module Foo\n          # :stopdoc:\n        end\n        # there\n        class Baz\n          # :stopdoc:\n        end\n      end\n']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['@parser']
                           $recv: #NameExpr['parse_statements']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['foo']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['@top_level']
                                       $recv: #NameExpr['modules']
                                    ]
                                    $recv: #NameExpr['first']
                                 ]
                                 $recv: #NameExpr['modules']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Foo']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['foo']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['hello']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['foo']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['baz']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['@top_level']
                                       $recv: #NameExpr['modules']
                                    ]
                                    $recv: #NameExpr['first']
                                 ]
                                 $recv: #NameExpr['classes']
                              ]
                              $recv: #NameExpr['first']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Baz']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['baz']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['there']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['baz']
                                    $recv: #NameExpr['comment']
                                 ]
                                 $recv: #NameExpr['text']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['tk']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['klass']
                     ]
                     $param: #Param[
                        $param: #NameExpr['scan']
                     ]
                     $param: #Param[
                        $param: #NameExpr['line']
                     ]
                     $param: #Param[
                        $param: #NameExpr['char']
                     ]
                     $param: #Param[
                        $param: #NameExpr['name']
                     ]
                     $param: #Param[
                        $param: #NameExpr['text']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['klass']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['RubyToken']
                              ]
                              $recv: #NameExpr['const_get']
                              $param: #List[
                                 $expression: #StringExpr[
                                    $inner: #ApplyExpr[
                                       $recv: #ApplyExpr[
                                          $recv: #NameExpr['klass']
                                          $recv: #NameExpr['to_s']
                                       ]
                                       $recv: #NameExpr['upcase']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['token']
                           $right: #IfExpr[
                              $cond: #EqExpr[
                                 $left: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['klass']
                                       $recv: #NameExpr['instance_method']
                                       $param: #List[
                                          $expression: #NameExpr['initialize']
                                       ]
                                    ]
                                    $recv: #NameExpr['arity']
                                 ]
                                 $right: #IntExpr['3']
                              ]
                              $then: #List[
                                 $statement: #IfExpr[
                                    $then: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['raise']
                                       $param: #List[
                                          $expression: #NameExpr['ArgumentError']
                                          $expression: #StringExpr[
                                             $inner: #NameExpr['klass']
                                          ]
                                       ]
                                    ]
                                    $cond: #NameExpr['name']
                                 ]
                                 $statement: #ApplyExpr[
                                    $base: #NameExpr['klass']
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #NameExpr['scan']
                                       $expression: #NameExpr['line']
                                       $expression: #NameExpr['char']
                                    ]
                                 ]
                              ]
                              $else: #ApplyExpr[
                                 $base: #NameExpr['klass']
                                 $recv: #NameExpr['new']
                                 $param: #List[
                                    $expression: #NameExpr['scan']
                                    $expression: #NameExpr['line']
                                    $expression: #NameExpr['char']
                                    $expression: #NameExpr['name']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $base: #NameExpr['token']
                           $recv: #NameExpr['set_text']
                           $param: #List[
                              $expression: #NameExpr['text']
                           ]
                        ]
                        $statement: #NameExpr['token']
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['util_parser']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['content']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #AssignExpr[
                        $left: #NameExpr['@parser']
                        $right: #ApplyExpr[
                           $base: #Field[
                              $recv: #Field[
                                 $recv: #NameExpr['RDoc']
                                 $name: #NameExpr['Parser']
                              ]
                              $name: #NameExpr['Ruby']
                           ]
                           $recv: #NameExpr['new']
                           $param: #List[
                              $expression: #NameExpr['@top_level']
                              $expression: #NameExpr['@filename']
                              $expression: #NameExpr['content']
                              $expression: #NameExpr['@options']
                              $expression: #NameExpr['@stats']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['util_two_parsers']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['first_file_content']
                     ]
                     $param: #Param[
                        $param: #NameExpr['second_file_content']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['util_parser']
                           $param: #List[
                              $expression: #NameExpr['first_file_content']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['@parser2']
                           $right: #ApplyExpr[
                              $base: #Field[
                                 $recv: #Field[
                                    $recv: #NameExpr['RDoc']
                                    $name: #NameExpr['Parser']
                                 ]
                                 $name: #NameExpr['Ruby']
                              ]
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #NameExpr['@top_level2']
                                 $expression: #NameExpr['@filename']
                                 $expression: #NameExpr['second_file_content']
                                 $expression: #NameExpr['@options']
                                 $expression: #NameExpr['@stats']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
            ]
         ]
      ]
   ]
   #Comsumed['comsumed']
]
