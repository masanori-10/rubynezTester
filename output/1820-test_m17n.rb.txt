#Source[
   #List[
      $statement: #ApplyExpr[
         #Self['self']
         $recv: #NameExpr['require']
         $param: #List[
            $expression: #StringExpr['test/unit']
         ]
      ]
      $statement: #Class[
         $name: #NameExpr['TestM17N']
         $super: #Field[
            $recv: #Field[
               $recv: #NameExpr['Test']
               $name: #NameExpr['Unit']
            ]
            $name: #NameExpr['TestCase']
         ]
         $body: #BlockExpr[
            $main: #List[
               $statement: #FuncDecl[
                  $name: #NameExpr['assert_encoding']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['encname']
                     ]
                     $param: #Param[
                        $param: #NameExpr['actual']
                     ]
                     $param: #OptionalParam[
                        $name: #NameExpr['message']
                        $default: #Nil['nil']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['assert_equal']
                        $param: #List[
                           $expression: #ApplyExpr[
                              $recv: #NameExpr['Encoding']
                              $recv: #NameExpr['find']
                              $param: #List[
                                 $expression: #NameExpr['encname']
                              ]
                           ]
                           $expression: #NameExpr['actual']
                           $expression: #NameExpr['message']
                        ]
                     ]
                  ]
               ]
               $statement: #Module[
                  $name: #NameExpr['AESU']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #FuncDecl[
                           $name: #NameExpr['ua']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['str']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['str']
                                    $recv: #NameExpr['dup']
                                 ]
                                 $recv: #NameExpr['force_encoding']
                                 $param: #List[
                                    $expression: #StringExpr['US-ASCII']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['a']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['str']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #ApplyExpr[
                                 $recv: #NameExpr['str']
                                 $recv: #NameExpr['b']
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['e']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['str']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['str']
                                    $recv: #NameExpr['dup']
                                 ]
                                 $recv: #NameExpr['force_encoding']
                                 $param: #List[
                                    $expression: #StringExpr['EUC-JP']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['s']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['str']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['str']
                                    $recv: #NameExpr['dup']
                                 ]
                                 $recv: #NameExpr['force_encoding']
                                 $param: #List[
                                    $expression: #StringExpr['Windows-31J']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['u']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['str']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['str']
                                    $recv: #NameExpr['dup']
                                 ]
                                 $recv: #NameExpr['force_encoding']
                                 $param: #List[
                                    $expression: #StringExpr['UTF-8']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #ApplyExpr[
                  #Self['self']
                  $recv: #NameExpr['include']
                  $param: #List[
                     $expression: #NameExpr['AESU']
                  ]
               ]
               $statement: #ApplyExpr[
                  #Self['self']
                  $recv: #NameExpr['extend']
                  $param: #List[
                     $expression: #NameExpr['AESU']
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['assert_strenc']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['bytes']
                     ]
                     $param: #Param[
                        $param: #NameExpr['enc']
                     ]
                     $param: #Param[
                        $param: #NameExpr['actual']
                     ]
                     $param: #OptionalParam[
                        $name: #NameExpr['message']
                        $default: #Nil['nil']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_instance_of']
                           $param: #List[
                              $expression: #NameExpr['String']
                              $expression: #NameExpr['actual']
                              $expression: #NameExpr['message']
                           ]
                        ]
                        $statement: #IfExpr[
                           $then: #AssignExpr[
                              $left: #NameExpr['enc']
                              $right: #ApplyExpr[
                                 $recv: #NameExpr['Encoding']
                                 $recv: #NameExpr['find']
                                 $param: #List[
                                    $expression: #NameExpr['enc']
                                 ]
                              ]
                           ]
                           $cond: #StrictEquals[
                              $left: #NameExpr['String']
                              $right: #NameExpr['enc']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['enc']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['actual']
                                 $recv: #NameExpr['encoding']
                              ]
                              $expression: #NameExpr['message']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['a']
                                 $param: #List[
                                    $expression: #NameExpr['bytes']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['a']
                                 $param: #List[
                                    $expression: #NameExpr['actual']
                                 ]
                              ]
                              $expression: #NameExpr['message']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['assert_regexp_generic_encoding']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['r']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_not_predicate']
                           $param: #List[
                              $expression: #NameExpr['r']
                              $expression: #NameExpr['fixed_encoding?']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #ParcentNotation['%w[ASCII-8BIT EUC-JP Windows-31J UTF-8]']
                           $recv: #NameExpr['each']
                           $body: #Block[
                              $param: #NameExpr['ename']
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_nothing_raised']
                                 $body: #Block[
                                    $body: #AssignExpr[
                                       $left: #NameExpr['r']
                                       $right: #ComplExpr[
                                          $expr: #ApplyExpr[
                                             $recv: #StringExpr['\\xc2\\xa1']
                                             $recv: #NameExpr['force_encoding']
                                             $param: #List[
                                                $expression: #NameExpr['ename']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['assert_regexp_fixed_encoding']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['r']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_predicate']
                           $param: #List[
                              $expression: #NameExpr['r']
                              $expression: #NameExpr['fixed_encoding?']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #ParcentNotation['%w[ASCII-8BIT EUC-JP Windows-31J UTF-8]']
                           $recv: #NameExpr['each']
                           $body: #Block[
                              $param: #NameExpr['ename']
                              $body: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['enc']
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['Encoding']
                                       $recv: #NameExpr['find']
                                       $param: #List[
                                          $expression: #NameExpr['ename']
                                       ]
                                    ]
                                 ]
                                 $statement: #IfExpr[
                                    $cond: #EqExpr[
                                       $left: #NameExpr['enc']
                                       $right: #ApplyExpr[
                                          $recv: #NameExpr['r']
                                          $recv: #NameExpr['encoding']
                                       ]
                                    ]
                                    $then: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['assert_nothing_raised']
                                       $body: #Block[
                                          $body: #AssignExpr[
                                             $left: #NameExpr['r']
                                             $right: #ComplExpr[
                                                $expr: #ApplyExpr[
                                                   $recv: #StringExpr['\\xc2\\xa1']
                                                   $recv: #NameExpr['force_encoding']
                                                   $param: #List[
                                                      $expression: #NameExpr['enc']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                    $else: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['assert_raise']
                                       $param: #List[
                                          $expression: #Field[
                                             $recv: #NameExpr['Encoding']
                                             $name: #NameExpr['CompatibilityError']
                                          ]
                                       ]
                                       $body: #Block[
                                          $body: #AssignExpr[
                                             $left: #NameExpr['r']
                                             $right: #ComplExpr[
                                                $expr: #ApplyExpr[
                                                   $recv: #StringExpr['\\xc2\\xa1']
                                                   $recv: #NameExpr['force_encoding']
                                                   $param: #List[
                                                      $expression: #NameExpr['enc']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['assert_regexp_generic_ascii']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['r']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_encoding']
                           $param: #List[
                              $expression: #StringExpr['US-ASCII']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['r']
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_generic_encoding']
                           $param: #List[
                              $expression: #NameExpr['r']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['assert_regexp_fixed_ascii8bit']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['r']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_encoding']
                           $param: #List[
                              $expression: #StringExpr['ASCII-8BIT']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['r']
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_encoding']
                           $param: #List[
                              $expression: #NameExpr['r']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['assert_regexp_fixed_eucjp']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['r']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_encoding']
                           $param: #List[
                              $expression: #StringExpr['EUC-JP']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['r']
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_encoding']
                           $param: #List[
                              $expression: #NameExpr['r']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['assert_regexp_fixed_sjis']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['r']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_encoding']
                           $param: #List[
                              $expression: #StringExpr['Windows-31J']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['r']
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_encoding']
                           $param: #List[
                              $expression: #NameExpr['r']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['assert_regexp_fixed_utf8']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['r']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_encoding']
                           $param: #List[
                              $expression: #StringExpr['UTF-8']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['r']
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_encoding']
                           $param: #List[
                              $expression: #NameExpr['r']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['assert_regexp_usascii_literal']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['r']
                     ]
                     $param: #Param[
                        $param: #NameExpr['enc']
                     ]
                     $param: #OptionalParam[
                        $name: #NameExpr['ex']
                        $default: #Nil['nil']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['code']
                           $right: #StringExpr[
                              $inner: #NameExpr['r']
                           ]
                        ]
                        $statement: #IfExpr[
                           $cond: #NameExpr['ex']
                           $then: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['assert_raise']
                              $param: #List[
                                 $expression: #NameExpr['ex']
                              ]
                              $body: #Block[
                                 $body: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['eval']
                                    $param: #List[
                                       $expression: #NameExpr['code']
                                    ]
                                 ]
                              ]
                           ]
                           $else: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['assert_equal']
                              $param: #List[
                                 $expression: #NameExpr['enc']
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['eval']
                                    $param: #List[
                                       $expression: #NameExpr['code']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['encdump']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['str']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['d']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['str']
                              $recv: #NameExpr['dump']
                           ]
                        ]
                        $statement: #IfExpr[
                           $cond: #Match[
                              $left: #Regex['/\\.force_encoding\\("[A-Za-z0-9.:_+-]*"\\)\\z/']
                              $right: #NameExpr['d']
                           ]
                           $then: #NameExpr['d']
                           $else: #StringExpr[
                              $inner: #NameExpr['d']
                              $inner: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['str']
                                       $recv: #NameExpr['encoding']
                                    ]
                                    $recv: #NameExpr['name']
                                 ]
                                 $recv: #NameExpr['dump']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['encdumpargs']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['args']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['r']
                           $right: #StringExpr['(']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['args']
                           $recv: #NameExpr['each_with_index']
                           $body: #Block[
                              $param: #MultipleLeftHandSideExpression[
                                 $item: #NameExpr['a']
                                 $item: #NameExpr['i']
                              ]
                              $body: #List[
                                 $statement: #IfExpr[
                                    $then: #LShiftExpr[
                                       $left: #NameExpr['r']
                                       $right: #StringExpr[',']
                                    ]
                                    $cond: #LtExpr[
                                       $left: #IntExpr['0']
                                       $right: #NameExpr['i']
                                    ]
                                 ]
                                 $statement: #IfExpr[
                                    $cond: #StrictEquals[
                                       $left: #NameExpr['String']
                                       $right: #NameExpr['a']
                                    ]
                                    $then: #LShiftExpr[
                                       $left: #NameExpr['r']
                                       $right: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['encdump']
                                          $param: #List[
                                             $expression: #NameExpr['a']
                                          ]
                                       ]
                                    ]
                                    $else: #LShiftExpr[
                                       $left: #NameExpr['r']
                                       $right: #ApplyExpr[
                                          $recv: #NameExpr['a']
                                          $recv: #NameExpr['inspect']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #LShiftExpr[
                           $left: #NameExpr['r']
                           $right: #StringExpr[')']
                        ]
                        $statement: #NameExpr['r']
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['assert_str_enc_propagation']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['t']
                     ]
                     $param: #Param[
                        $param: #NameExpr['s1']
                     ]
                     $param: #Param[
                        $param: #NameExpr['s2']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #IfExpr[
                        $cond: #NotExpr[
                           $expr: #ApplyExpr[
                              $recv: #NameExpr['s1']
                              $recv: #NameExpr['ascii_only?']
                           ]
                        ]
                        $then: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s1']
                                 $recv: #NameExpr['encoding']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['t']
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $else: #IfExpr[
                           $cond: #NotExpr[
                              $expr: #ApplyExpr[
                                 $recv: #NameExpr['s2']
                                 $recv: #NameExpr['ascii_only?']
                              ]
                           ]
                           $then: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['assert_equal']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #NameExpr['s2']
                                    $recv: #NameExpr['encoding']
                                 ]
                                 $expression: #ApplyExpr[
                                    $recv: #NameExpr['t']
                                    $recv: #NameExpr['encoding']
                                 ]
                              ]
                           ]
                           $else: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['assert_include']
                              $param: #List[
                                 $expression: #Array[
                                    $index: #List[
                                       $expression: #ApplyExpr[
                                          $recv: #NameExpr['s1']
                                          $recv: #NameExpr['encoding']
                                       ]
                                       $expression: #ApplyExpr[
                                          $recv: #NameExpr['s2']
                                          $recv: #NameExpr['encoding']
                                       ]
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    $recv: #NameExpr['t']
                                    $recv: #NameExpr['encoding']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['assert_same_result']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['expected_proc']
                     ]
                     $param: #Param[
                        $param: #NameExpr['actual_proc']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['e']
                           $right: #Nil['nil']
                        ]
                        $statement: #ExceptionBlock[
                           $main: #AssignExpr[
                              $left: #NameExpr['t']
                              $right: #ApplyExpr[
                                 $recv: #NameExpr['expected_proc']
                                 $recv: #NameExpr['call']
                              ]
                           ]
                           $rescue: #List[
                              $rescue: #Rescue[
                                 $then: #AssignExpr[
                                    $left: #NameExpr['e']
                                    $right: #BuiltInVariable['$!']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #IfExpr[
                           $cond: #NameExpr['e']
                           $then: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['assert_raise']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #NameExpr['e']
                                    $recv: #NameExpr['class']
                                 ]
                              ]
                              $body: #Block[
                                 $body: #ApplyExpr[
                                    $recv: #NameExpr['actual_proc']
                                    $recv: #NameExpr['call']
                                 ]
                              ]
                           ]
                           $else: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['assert_equal']
                              $param: #List[
                                 $expression: #NameExpr['t']
                                 $expression: #ApplyExpr[
                                    $recv: #NameExpr['actual_proc']
                                    $recv: #NameExpr['call']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['str_enc_compatible?']
                  $param: #List[
                     $param: #VariadicParam[
                        $name: #NameExpr['strs']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['encs']
                           $right: #Array['[]']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['strs']
                           $recv: #NameExpr['each']
                           $body: #Block[
                              $param: #NameExpr['s']
                              $body: #IfExpr[
                                 $then: #LShiftExpr[
                                    $left: #NameExpr['encs']
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['s']
                                       $recv: #NameExpr['encoding']
                                    ]
                                 ]
                                 $cond: #NotExpr[
                                    $expr: #ApplyExpr[
                                       $recv: #NameExpr['s']
                                       $recv: #NameExpr['ascii_only?']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['encs']
                           $recv: #NameExpr['uniq!']
                        ]
                        $statement: #LteExpr[
                           $left: #ApplyExpr[
                              $recv: #NameExpr['encs']
                              $recv: #NameExpr['length']
                           ]
                           $right: #IntExpr['1']
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_string_ascii_literal']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_encoding']
                           $param: #List[
                              $expression: #StringExpr['ASCII-8BIT']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['eval']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['a']
                                          $param: #List[
                                             $expression: #ParcentNotation['%{""}']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_encoding']
                           $param: #List[
                              $expression: #StringExpr['ASCII-8BIT']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['eval']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['a']
                                          $param: #List[
                                             $expression: #ParcentNotation['%{"a"}']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_string_eucjp_literal']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_encoding']
                           $param: #List[
                              $expression: #StringExpr['EUC-JP']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['eval']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['e']
                                          $param: #List[
                                             $expression: #ParcentNotation['%{""}']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_encoding']
                           $param: #List[
                              $expression: #StringExpr['EUC-JP']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['eval']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['e']
                                          $param: #List[
                                             $expression: #ParcentNotation['%{"a"}']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_encoding']
                           $param: #List[
                              $expression: #StringExpr['EUC-JP']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['eval']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['e']
                                          $param: #List[
                                             $expression: #ParcentNotation['%{"\\xa1\\xa1"}']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_encoding']
                           $param: #List[
                              $expression: #StringExpr['EUC-JP']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['eval']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['e']
                                          $param: #List[
                                             $expression: #ParcentNotation['%{"\\\\xa1\\\\xa1"}']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_encoding']
                           $param: #List[
                              $expression: #StringExpr['EUC-JP']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['eval']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['e']
                                          $param: #List[
                                             $expression: #ParcentNotation['%{"\\\\x20"}']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_encoding']
                           $param: #List[
                              $expression: #StringExpr['EUC-JP']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['eval']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['e']
                                          $param: #List[
                                             $expression: #ParcentNotation['%{"\\\\n"}']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_encoding']
                           $param: #List[
                              $expression: #StringExpr['EUC-JP']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['eval']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['e']
                                          $param: #List[
                                             $expression: #ParcentNotation['%{"\\\\x80"}']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_utf8_literal']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['UTF_8']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #StringExpr['\\u3042']
                                 $recv: #NameExpr['encoding']
                              ]
                              $expression: #StringExpr['[ruby-dev:33406] \\"\\\\u3042\\".encoding']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #StringExpr['\\u3052\\x80']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_string_mixed_unicode']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{"\\xc2\\xa1\\\\u{6666}"}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{"\\xc2\\xa1\\\\u{6666}"}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['s']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{"\\xc2\\xa1\\\\u{6666}"}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nothing_raised']
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['u']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{"\\xc2\\xa1\\\\u{6666}"}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{"\\\\u{6666}\\xc2\\xa1"}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{"\\\\u{6666}\\xc2\\xa1"}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['s']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{"\\\\u{6666}\\xc2\\xa1"}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nothing_raised']
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['u']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{"\\\\u{6666}\\xc2\\xa1"}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_string_inspect_invalid']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['"\\xFE"']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['\\xfe']
                                    ]
                                 ]
                                 $recv: #NameExpr['inspect']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['"\\x8E"']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['\\x8e']
                                    ]
                                 ]
                                 $recv: #NameExpr['inspect']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['"\\x8F"']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['\\x8f']
                                    ]
                                 ]
                                 $recv: #NameExpr['inspect']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['"\\x8F\\xA1"']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['\\x8f\\xa1']
                                    ]
                                 ]
                                 $recv: #NameExpr['inspect']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['"\\xEF"']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['s']
                                    $param: #List[
                                       $expression: #StringExpr['\\xef']
                                    ]
                                 ]
                                 $recv: #NameExpr['inspect']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['"\\xC2"']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2']
                                    ]
                                 ]
                                 $recv: #NameExpr['inspect']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['"\\xE0\\x80"']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xe0\\x80']
                                    ]
                                 ]
                                 $recv: #NameExpr['inspect']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['"\\xF0\\x80\\x80"']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xf0\\x80\\x80']
                                    ]
                                 ]
                                 $recv: #NameExpr['inspect']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['"\\xF8\\x80\\x80\\x80"']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xf8\\x80\\x80\\x80']
                                    ]
                                 ]
                                 $recv: #NameExpr['inspect']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['"\\xFC\\x80\\x80\\x80\\x80"']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xfc\\x80\\x80\\x80\\x80']
                                    ]
                                 ]
                                 $recv: #NameExpr['inspect']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['"\\xFE "']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['\\xfe ']
                                    ]
                                 ]
                                 $recv: #NameExpr['inspect']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['"\\x8E "']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['\\x8e ']
                                    ]
                                 ]
                                 $recv: #NameExpr['inspect']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['"\\x8F "']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['\\x8f ']
                                    ]
                                 ]
                                 $recv: #NameExpr['inspect']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['"\\x8F\\xA1 "']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['\\x8f\\xa1 ']
                                    ]
                                 ]
                                 $recv: #NameExpr['inspect']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['"\\xEF "']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['s']
                                    $param: #List[
                                       $expression: #StringExpr['\\xef ']
                                    ]
                                 ]
                                 $recv: #NameExpr['inspect']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['"\\xC2 "']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2 ']
                                    ]
                                 ]
                                 $recv: #NameExpr['inspect']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['"\\xE0\\x80 "']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xe0\\x80 ']
                                    ]
                                 ]
                                 $recv: #NameExpr['inspect']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['"\\xF0\\x80\\x80 "']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xf0\\x80\\x80 ']
                                    ]
                                 ]
                                 $recv: #NameExpr['inspect']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['"\\xF8\\x80\\x80\\x80 "']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xf8\\x80\\x80\\x80 ']
                                    ]
                                 ]
                                 $recv: #NameExpr['inspect']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['"\\xFC\\x80\\x80\\x80\\x80 "']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xfc\\x80\\x80\\x80\\x80 ']
                                    ]
                                 ]
                                 $recv: #NameExpr['inspect']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['"\\x81."']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['s']
                                    $param: #List[
                                       $expression: #StringExpr['\\x81.']
                                    ]
                                 ]
                                 $recv: #NameExpr['inspect']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['"\\xFC"']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xfc']
                                    ]
                                 ]
                                 $recv: #NameExpr['inspect']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_string_inspect_encoding']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $recv: #NameExpr['EnvUtil']
                        $recv: #NameExpr['suppress_warning']
                        $body: #Block[
                           $body: #ExceptionBlock[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['orig_int']
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['Encoding']
                                       $recv: #NameExpr['default_internal']
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['orig_ext']
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['Encoding']
                                       $recv: #NameExpr['default_external']
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #Field[
                                       $base: #NameExpr['Encoding']
                                       $name: #NameExpr['default_internal']
                                    ]
                                    $right: #Nil['nil']
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #Array[
                                       $index: #List[
                                          $expression: #Field[
                                             $recv: #NameExpr['Encoding']
                                             $name: #NameExpr['UTF_8']
                                          ]
                                          $expression: #Field[
                                             $recv: #NameExpr['Encoding']
                                             $name: #NameExpr['EUC_JP']
                                          ]
                                          $expression: #Field[
                                             $recv: #NameExpr['Encoding']
                                             $name: #NameExpr['Windows_31J']
                                          ]
                                          $expression: #Field[
                                             $recv: #NameExpr['Encoding']
                                             $name: #NameExpr['GB18030']
                                          ]
                                       ]
                                    ]
                                    $recv: #NameExpr['each']
                                    $body: #Block[
                                       $param: #NameExpr['e']
                                       $body: #List[
                                          $statement: #AssignExpr[
                                             $left: #Field[
                                                $base: #NameExpr['Encoding']
                                                $name: #NameExpr['default_external']
                                             ]
                                             $right: #NameExpr['e']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['str']
                                             $right: #ApplyExpr[
                                                $recv: #StringExpr['\\x81\\x30\\x81\\x30']
                                                $recv: #NameExpr['force_encoding']
                                                $param: #List[
                                                   $expression: #StringExpr['GB18030']
                                                ]
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['assert_equal']
                                             $param: #List[
                                                $expression: #Conditional[
                                                   $cond: #EqExpr[
                                                      $left: #Field[
                                                         $recv: #NameExpr['Encoding']
                                                         $name: #NameExpr['GB18030']
                                                      ]
                                                      $right: #NameExpr['e']
                                                   ]
                                                   $then: #ParcentNotation['%{"#{str}"}']
                                                   $else: #StringExpr['"\\x{81308130}"']
                                                ]
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['str']
                                                   $recv: #NameExpr['inspect']
                                                ]
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['str']
                                             $right: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['e']
                                                $param: #List[
                                                   $expression: #StringExpr['\\xa1\\x8f\\xa1\\xa1']
                                                ]
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['expected']
                                             $right: #ApplyExpr[
                                                $recv: #StringExpr['\\"\\\\xA1\\x8F\\xA1\\xA1\\"']
                                                $recv: #NameExpr['force_encoding']
                                                $param: #List[
                                                   $expression: #StringExpr['EUC-JP']
                                                ]
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['assert_equal']
                                             $param: #List[
                                                $expression: #Conditional[
                                                   $cond: #EqExpr[
                                                      $left: #Field[
                                                         $recv: #NameExpr['Encoding']
                                                         $name: #NameExpr['EUC_JP']
                                                      ]
                                                      $right: #NameExpr['e']
                                                   ]
                                                   $then: #NameExpr['expected']
                                                   $else: #StringExpr['\\"\\\\xA1\\\\x{8FA1A1}\\"']
                                                ]
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['str']
                                                   $recv: #NameExpr['inspect']
                                                ]
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['str']
                                             $right: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['s']
                                                $param: #List[
                                                   $expression: #StringExpr['\\x81@']
                                                ]
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['assert_equal']
                                             $param: #List[
                                                $expression: #Conditional[
                                                   $cond: #EqExpr[
                                                      $left: #Field[
                                                         $recv: #NameExpr['Encoding']
                                                         $name: #NameExpr['Windows_31J']
                                                      ]
                                                      $right: #NameExpr['e']
                                                   ]
                                                   $then: #ParcentNotation['%{"#{str}"}']
                                                   $else: #StringExpr['"\\x{8140}"']
                                                ]
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['str']
                                                   $recv: #NameExpr['inspect']
                                                ]
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['str']
                                             $right: #StringExpr['\\u3042\\u{10FFFD}']
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['assert_equal']
                                             $param: #List[
                                                $expression: #Conditional[
                                                   $cond: #EqExpr[
                                                      $left: #Field[
                                                         $recv: #NameExpr['Encoding']
                                                         $name: #NameExpr['UTF_8']
                                                      ]
                                                      $right: #NameExpr['e']
                                                   ]
                                                   $then: #ParcentNotation['%{"#{str}"}']
                                                   $else: #StringExpr['"\\u3042\\u{10FFFD}"']
                                                ]
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['str']
                                                   $recv: #NameExpr['inspect']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #Field[
                                       $base: #NameExpr['Encoding']
                                       $name: #NameExpr['default_external']
                                    ]
                                    $right: #Field[
                                       $recv: #NameExpr['Encoding']
                                       $name: #NameExpr['UTF_8']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #Array[
                                       $index: #List[
                                          $expression: #Field[
                                             $recv: #NameExpr['Encoding']
                                             $name: #NameExpr['UTF_16BE']
                                          ]
                                          $expression: #Field[
                                             $recv: #NameExpr['Encoding']
                                             $name: #NameExpr['UTF_16LE']
                                          ]
                                          $expression: #Field[
                                             $recv: #NameExpr['Encoding']
                                             $name: #NameExpr['UTF_32BE']
                                          ]
                                          $expression: #Field[
                                             $recv: #NameExpr['Encoding']
                                             $name: #NameExpr['UTF_32LE']
                                          ]
                                          $expression: #Field[
                                             $recv: #NameExpr['Encoding']
                                             $name: #NameExpr['UTF8_SOFTBANK']
                                          ]
                                       ]
                                    ]
                                    $recv: #NameExpr['each']
                                    $body: #Block[
                                       $param: #NameExpr['e']
                                       $body: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['str']
                                             $right: #ApplyExpr[
                                                $recv: #StringExpr['abc']
                                                $recv: #NameExpr['encode']
                                                $param: #List[
                                                   $expression: #NameExpr['e']
                                                ]
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['assert_equal']
                                             $param: #List[
                                                $expression: #StringExpr['"abc"']
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['str']
                                                   $recv: #NameExpr['inspect']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $ensure: #List[
                                 $statement: #AssignExpr[
                                    $left: #Field[
                                       $base: #NameExpr['Encoding']
                                       $name: #NameExpr['default_internal']
                                    ]
                                    $right: #NameExpr['orig_int']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #Field[
                                       $base: #NameExpr['Encoding']
                                       $name: #NameExpr['default_external']
                                    ]
                                    $right: #NameExpr['orig_ext']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #AssignExpr[
                  $left: #NameExpr['STR_WITHOUT_BOM']
                  $right: #ApplyExpr[
                     $recv: #StringExpr['\\u3042']
                     $recv: #NameExpr['freeze']
                  ]
               ]
               $statement: #AssignExpr[
                  $left: #NameExpr['STR_WITH_BOM']
                  $right: #ApplyExpr[
                     $recv: #StringExpr['\\uFEFF\\u3042']
                     $recv: #NameExpr['freeze']
                  ]
               ]
               $statement: #AssignExpr[
                  $left: #NameExpr['bug8940']
                  $right: #StringExpr['[ruby-core:59757] [Bug #8940]']
               ]
               $statement: #AssignExpr[
                  $left: #NameExpr['bug9415']
                  $right: #StringExpr['[ruby-dev:47895] [Bug #9415]']
               ]
               $statement: #ApplyExpr[
                  $recv: #ParcentNotation['%w/UTF-16 UTF-32/']
                  $recv: #NameExpr['each']
                  $body: #Block[
                     $param: #NameExpr['enc']
                     $body: #ApplyExpr[
                        $recv: #ParcentNotation['%w/BE LE/']
                        $recv: #NameExpr['each']
                        $body: #Block[
                           $param: #NameExpr['endian']
                           $body: #List[
                              $statement: #AssignExpr[
                                 $left: #NameExpr['bom']
                                 $right: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #StringExpr['\\uFEFF']
                                       $recv: #NameExpr['encode']
                                       $param: #List[
                                          $expression: #StringExpr[
                                             $inner: #NameExpr['enc']
                                             $inner: #NameExpr['endian']
                                          ]
                                       ]
                                    ]
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #NameExpr['enc']
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['define_method']
                                 $param: #List[
                                    $expression: #StringExpr[
                                       $inner: #NameExpr['enc']
                                       $inner: #NameExpr['endian']
                                    ]
                                 ]
                                 $body: #Block[
                                    $body: #List[
                                       $statement: #AssignExpr[
                                          $left: #NameExpr['s']
                                          $right: #ApplyExpr[
                                             $recv: #NameExpr['STR_WITHOUT_BOM']
                                             $recv: #NameExpr['encode']
                                             $param: #List[
                                                $expression: #AddExpr[
                                                   $left: #NameExpr['enc']
                                                   $right: #NameExpr['endian']
                                                ]
                                             ]
                                          ]
                                       ]
                                       $statement: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['assert_equal']
                                          $param: #List[
                                             $expression: #ApplyExpr[
                                                $recv: #ApplyExpr[
                                                   $recv: #ApplyExpr[
                                                      $recv: #NameExpr['s']
                                                      $recv: #NameExpr['dup']
                                                   ]
                                                   $recv: #NameExpr['force_encoding']
                                                   $param: #List[
                                                      $expression: #StringExpr['ISO-2022-JP']
                                                   ]
                                                ]
                                                $recv: #NameExpr['inspect']
                                             ]
                                             $expression: #ApplyExpr[
                                                $recv: #ApplyExpr[
                                                   $recv: #ApplyExpr[
                                                      $recv: #NameExpr['s']
                                                      $recv: #NameExpr['dup']
                                                   ]
                                                   $recv: #NameExpr['force_encoding']
                                                   $param: #List[
                                                      $expression: #NameExpr['enc']
                                                   ]
                                                ]
                                                $recv: #NameExpr['inspect']
                                             ]
                                          ]
                                       ]
                                       $statement: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['assert_normal_exit']
                                          $param: #List[
                                             $expression: #StringExpr[
                                                $inner: #ApplyExpr[
                                                   $recv: #ApplyExpr[
                                                      $recv: #NameExpr['bom']
                                                      $recv: #NameExpr['b']
                                                   ]
                                                   $recv: #NameExpr['dump']
                                                ]
                                                $inner: #NameExpr['enc']
                                             ]
                                             $expression: #NameExpr['bug8940']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['define_method']
                                 $param: #List[
                                    $expression: #StringExpr[
                                       $inner: #NameExpr['enc']
                                       $inner: #NameExpr['endian']
                                    ]
                                 ]
                                 $body: #Block[
                                    $body: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['assert_equal']
                                       $param: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #HexInteger['0xFEFF']
                                             ]
                                          ]
                                          $expression: #ApplyExpr[
                                             $recv: #NameExpr['bom']
                                             $recv: #NameExpr['codepoints']
                                          ]
                                          $expression: #NameExpr['bug9415']
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['define_method']
                                 $param: #List[
                                    $expression: #StringExpr[
                                       $inner: #NameExpr['enc']
                                       $inner: #NameExpr['endian']
                                    ]
                                 ]
                                 $body: #Block[
                                    $body: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['assert_equal']
                                       $param: #List[
                                          $expression: #HexInteger['0xFEFF']
                                          $expression: #ApplyExpr[
                                             $recv: #NameExpr['bom']
                                             $recv: #NameExpr['ord']
                                          ]
                                          $expression: #NameExpr['bug9415']
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['define_method']
                                 $param: #List[
                                    $expression: #StringExpr[
                                       $inner: #NameExpr['enc']
                                       $inner: #NameExpr['endian']
                                    ]
                                 ]
                                 $body: #Block[
                                    $body: #List[
                                       $statement: #AssignExpr[
                                          $left: #NameExpr['s']
                                          $right: #ApplyExpr[
                                             $recv: #NameExpr['STR_WITH_BOM']
                                             $recv: #NameExpr['encode']
                                             $param: #List[
                                                $expression: #AddExpr[
                                                   $left: #NameExpr['enc']
                                                   $right: #NameExpr['endian']
                                                ]
                                             ]
                                          ]
                                       ]
                                       $statement: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['assert_equal']
                                          $param: #List[
                                             $expression: #ApplyExpr[
                                                $recv: #NameExpr['s']
                                                $recv: #NameExpr['inspect']
                                             ]
                                             $expression: #ApplyExpr[
                                                $recv: #ApplyExpr[
                                                   $recv: #ApplyExpr[
                                                      $recv: #NameExpr['s']
                                                      $recv: #NameExpr['dup']
                                                   ]
                                                   $recv: #NameExpr['force_encoding']
                                                   $param: #List[
                                                      $expression: #NameExpr['enc']
                                                   ]
                                                ]
                                                $recv: #NameExpr['inspect']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_utf_without_bom_asciionly']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['bug10598']
                           $right: #StringExpr['[ruby-core:66835] [Bug #10598]']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['encs']
                           $right: #ApplyExpr[
                              $recv: #Array[
                                 $index: #List[
                                    $expression: #Field[
                                       $recv: #NameExpr['Encoding']
                                       $name: #NameExpr['UTF_16']
                                    ]
                                    $expression: #Field[
                                       $recv: #NameExpr['Encoding']
                                       $name: #NameExpr['UTF_32']
                                    ]
                                 ]
                              ]
                              $recv: #NameExpr['find_all']
                              $body: #Block[
                                 $param: #NameExpr['enc']
                                 $body: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #StringExpr['abcd']
                                       $recv: #NameExpr['force_encoding']
                                       $param: #List[
                                          $expression: #NameExpr['enc']
                                       ]
                                    ]
                                    $recv: #NameExpr['ascii_only?']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #NameExpr['encs']
                              $expression: #NameExpr['bug10598']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_object_utf16_32_inspect']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $recv: #NameExpr['EnvUtil']
                        $recv: #NameExpr['suppress_warning']
                        $body: #Block[
                           $body: #ExceptionBlock[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['orig_int']
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['Encoding']
                                       $recv: #NameExpr['default_internal']
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['orig_ext']
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['Encoding']
                                       $recv: #NameExpr['default_external']
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #Field[
                                       $base: #NameExpr['Encoding']
                                       $name: #NameExpr['default_internal']
                                    ]
                                    $right: #Nil['nil']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #Field[
                                       $base: #NameExpr['Encoding']
                                       $name: #NameExpr['default_external']
                                    ]
                                    $right: #Field[
                                       $recv: #NameExpr['Encoding']
                                       $name: #NameExpr['UTF_8']
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['o']
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['Object']
                                       $recv: #NameExpr['new']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #Array[
                                       $index: #List[
                                          $expression: #Field[
                                             $recv: #NameExpr['Encoding']
                                             $name: #NameExpr['UTF_16BE']
                                          ]
                                          $expression: #Field[
                                             $recv: #NameExpr['Encoding']
                                             $name: #NameExpr['UTF_16LE']
                                          ]
                                          $expression: #Field[
                                             $recv: #NameExpr['Encoding']
                                             $name: #NameExpr['UTF_32BE']
                                          ]
                                          $expression: #Field[
                                             $recv: #NameExpr['Encoding']
                                             $name: #NameExpr['UTF_32LE']
                                          ]
                                       ]
                                    ]
                                    $recv: #NameExpr['each']
                                    $body: #Block[
                                       $param: #NameExpr['e']
                                       $body: #List[
                                          $statement: #ApplyExpr[
                                             $base: #NameExpr['o']
                                             $recv: #NameExpr['instance_eval']
                                             $param: #List[
                                                $expression: #StringExpr[
                                                   $inner: #NameExpr['e']
                                                ]
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['assert_equal']
                                             $param: #List[
                                                $expression: #StringExpr['[abc]']
                                                $expression: #ApplyExpr[
                                                   $recv: #Array[
                                                      $index: #List[
                                                         $expression: #NameExpr['o']
                                                      ]
                                                   ]
                                                   $recv: #NameExpr['inspect']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $ensure: #List[
                                 $statement: #AssignExpr[
                                    $left: #Field[
                                       $base: #NameExpr['Encoding']
                                       $name: #NameExpr['default_internal']
                                    ]
                                    $right: #NameExpr['orig_int']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #Field[
                                       $base: #NameExpr['Encoding']
                                       $name: #NameExpr['default_external']
                                    ]
                                    $right: #NameExpr['orig_ext']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_object_inspect_external']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #MultipleAssign[
                           $left: #MultipleLeftHandSideExpression[
                              $item: #NameExpr['orig_v']
                              $item: #NameExpr['$VERBOSE']
                           ]
                           $right: #MultipleRightHandSideExpression[
                              $expression: #NameExpr['$VERBOSE']
                              $expression: #FalseExpr['false']
                           ]
                        ]
                        $statement: #MultipleAssign[
                           $left: #MultipleLeftHandSideExpression[
                              $item: #NameExpr['orig_int']
                              $item: #Field[
                                 $base: #NameExpr['Encoding']
                                 $name: #NameExpr['default_internal']
                              ]
                           ]
                           $right: #MultipleRightHandSideExpression[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Encoding']
                                 $recv: #NameExpr['default_internal']
                              ]
                              $expression: #Nil['nil']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['orig_ext']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Encoding']
                              $recv: #NameExpr['default_external']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['o']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Object']
                              $recv: #NameExpr['new']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['Encoding']
                              $name: #NameExpr['default_external']
                           ]
                           $right: #Field[
                              $recv: #NameExpr['Encoding']
                              $name: #NameExpr['UTF_16BE']
                           ]
                        ]
                        $statement: #SFuncDecl[
                           $path: #NameExpr['o']
                           $name: #NameExpr['inspect']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #StringExpr['abc']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nothing_raised']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['CompatibilityError']
                              ]
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #Array[
                                    $index: #List[
                                       $expression: #NameExpr['o']
                                    ]
                                 ]
                                 $recv: #NameExpr['inspect']
                              ]
                           ]
                        ]
                        $statement: #SFuncDecl[
                           $path: #NameExpr['o']
                           $name: #NameExpr['inspect']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #ApplyExpr[
                                 $recv: #StringExpr['abc']
                                 $recv: #NameExpr['encode']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['Encoding']
                                       $recv: #NameExpr['default_external']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['[abc]']
                              $expression: #ApplyExpr[
                                 $recv: #Array[
                                    $index: #List[
                                       $expression: #NameExpr['o']
                                    ]
                                 ]
                                 $recv: #NameExpr['inspect']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['Encoding']
                              $name: #NameExpr['default_external']
                           ]
                           $right: #Field[
                              $recv: #NameExpr['Encoding']
                              $name: #NameExpr['US_ASCII']
                           ]
                        ]
                        $statement: #SFuncDecl[
                           $path: #NameExpr['o']
                           $name: #NameExpr['inspect']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #StringExpr['\\u3042']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['[\\u3042]']
                              $expression: #ApplyExpr[
                                 $recv: #Array[
                                    $index: #List[
                                       $expression: #NameExpr['o']
                                    ]
                                 ]
                                 $recv: #NameExpr['inspect']
                              ]
                           ]
                        ]
                        $statement: #SFuncDecl[
                           $path: #NameExpr['o']
                           $name: #NameExpr['inspect']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #ApplyExpr[
                                 $recv: #StringExpr['\\x82\\xa0']
                                 $recv: #NameExpr['force_encoding']
                                 $param: #List[
                                    $expression: #Field[
                                       $recv: #NameExpr['Encoding']
                                       $name: #NameExpr['Windows_31J']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['[\\x{82A0}]']
                              $expression: #ApplyExpr[
                                 $recv: #Array[
                                    $index: #List[
                                       $expression: #NameExpr['o']
                                    ]
                                 ]
                                 $recv: #NameExpr['inspect']
                              ]
                           ]
                        ]
                     ]
                     $ensure: #List[
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['Encoding']
                              $name: #NameExpr['default_internal']
                           ]
                           $right: #NameExpr['orig_int']
                        ]
                        $statement: #AssignExpr[
                           $left: #Field[
                              $base: #NameExpr['Encoding']
                              $name: #NameExpr['default_external']
                           ]
                           $right: #NameExpr['orig_ext']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['$VERBOSE']
                           $right: #NameExpr['orig_v']
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_str_dump']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $recv: #Array[
                           $index: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['e']
                                 $param: #List[
                                    $expression: #StringExpr['\\xfe']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['e']
                                 $param: #List[
                                    $expression: #StringExpr['\\x8e']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['e']
                                 $param: #List[
                                    $expression: #StringExpr['\\x8f']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['e']
                                 $param: #List[
                                    $expression: #StringExpr['\\x8f\\xa1']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['s']
                                 $param: #List[
                                    $expression: #StringExpr['\\xef']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['u']
                                 $param: #List[
                                    $expression: #StringExpr['\\xc2']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['u']
                                 $param: #List[
                                    $expression: #StringExpr['\\xe0\\x80']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['u']
                                 $param: #List[
                                    $expression: #StringExpr['\\xf0\\x80\\x80']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['u']
                                 $param: #List[
                                    $expression: #StringExpr['\\xf8\\x80\\x80\\x80']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['u']
                                 $param: #List[
                                    $expression: #StringExpr['\\xfc\\x80\\x80\\x80\\x80']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['e']
                                 $param: #List[
                                    $expression: #StringExpr['\\xfe ']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['e']
                                 $param: #List[
                                    $expression: #StringExpr['\\x8e ']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['e']
                                 $param: #List[
                                    $expression: #StringExpr['\\x8f ']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['e']
                                 $param: #List[
                                    $expression: #StringExpr['\\x8f\\xa1 ']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['s']
                                 $param: #List[
                                    $expression: #StringExpr['\\xef ']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['u']
                                 $param: #List[
                                    $expression: #StringExpr['\\xc2 ']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['u']
                                 $param: #List[
                                    $expression: #StringExpr['\\xe0\\x80 ']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['u']
                                 $param: #List[
                                    $expression: #StringExpr['\\xf0\\x80\\x80 ']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['u']
                                 $param: #List[
                                    $expression: #StringExpr['\\xf8\\x80\\x80\\x80 ']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['u']
                                 $param: #List[
                                    $expression: #StringExpr['\\xfc\\x80\\x80\\x80\\x80 ']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['e']
                                 $param: #List[
                                    $expression: #StringExpr['\\xa1\\x8f\\xa1\\xa1']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['s']
                                 $param: #List[
                                    $expression: #StringExpr['\\x81.']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['s']
                                 $param: #List[
                                    $expression: #StringExpr['\\x81@']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['u']
                                 $param: #List[
                                    $expression: #StringExpr['\\xfc']
                                 ]
                              ]
                              $expression: #StringExpr['\\u3042']
                              $expression: #StringExpr['ascii']
                              $expression: #ApplyExpr[
                                 $recv: #StringExpr['\\u3042']
                                 $recv: #NameExpr['encode']
                                 $param: #List[
                                    $expression: #StringExpr['UTF-16LE']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #StringExpr['\\u3042']
                                 $recv: #NameExpr['encode']
                                 $param: #List[
                                    $expression: #StringExpr['UTF-16BE']
                                 ]
                              ]
                           ]
                        ]
                        $recv: #NameExpr['each']
                        $body: #Block[
                           $param: #NameExpr['str']
                           $body: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['assert_equal']
                              $param: #List[
                                 $expression: #NameExpr['str']
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['eval']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          $recv: #NameExpr['str']
                                          $recv: #NameExpr['dump']
                                       ]
                                    ]
                                 ]
                                 $expression: #StringExpr['[ruby-dev:33142]']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_validate_redundant_utf8']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['bits_0x10ffff']
                           $right: #StringExpr['11110100 10001111 10111111 10111111']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #Array[
                              $index: #List[
                                 $expression: #StringExpr['0xxxxxxx']
                                 $expression: #StringExpr['110XXXXx 10xxxxxx']
                                 $expression: #StringExpr['1110XXXX 10Xxxxxx 10xxxxxx']
                                 $expression: #StringExpr['11110XXX 10XXxxxx 10xxxxxx 10xxxxxx']
                                 $expression: #StringExpr['111110XX 10XXXxxx 10xxxxxx 10xxxxxx 10xxxxxx']
                                 $expression: #StringExpr['1111110X 10XXXXxx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx']
                                 $expression: #StringExpr['11111110 10XXXXXx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx']
                                 $expression: #StringExpr['11111111 10XXXXXX 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx']
                              ]
                           ]
                           $recv: #NameExpr['each']
                           $body: #Block[
                              $param: #NameExpr['pat0']
                              $body: #ApplyExpr[
                                 $recv: #Array[
                                    $index: #List[
                                       $expression: #ApplyExpr[
                                          $recv: #NameExpr['pat0']
                                          $recv: #NameExpr['gsub']
                                          $param: #List[
                                             $expression: #Regex['/x/']
                                             $expression: #StringExpr['1']
                                          ]
                                       ]
                                       $expression: #ApplyExpr[
                                          $recv: #NameExpr['pat0']
                                          $recv: #NameExpr['gsub']
                                          $param: #List[
                                             $expression: #Regex['/x/']
                                             $expression: #StringExpr['0']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['each']
                                 $body: #Block[
                                    $param: #NameExpr['pat1']
                                    $body: #List[
                                       $statement: #ApplyExpr[
                                          $recv: #Array[
                                             $index: #List[
                                                $expression: #ApplyExpr[
                                                   $recv: #ApplyExpr[
                                                      $recv: #NameExpr['pat1']
                                                      $recv: #NameExpr['sub']
                                                      $param: #List[
                                                         $expression: #Regex['/X([^X]*)\\z/']
                                                         $expression: #StringExpr['1\\1']
                                                      ]
                                                   ]
                                                   $recv: #NameExpr['gsub']
                                                   $param: #List[
                                                      $expression: #Regex['/X/']
                                                      $expression: #StringExpr['0']
                                                   ]
                                                ]
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['pat1']
                                                   $recv: #NameExpr['gsub']
                                                   $param: #List[
                                                      $expression: #Regex['/X/']
                                                      $expression: #StringExpr['1']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $recv: #NameExpr['each']
                                          $body: #Block[
                                             $param: #NameExpr['pat2']
                                             $body: #List[
                                                $statement: #AssignExpr[
                                                   $left: #NameExpr['s']
                                                   $right: #ApplyExpr[
                                                      $recv: #ApplyExpr[
                                                         $recv: #Array[
                                                            $index: #List[
                                                               $expression: #ApplyExpr[
                                                                  $recv: #NameExpr['pat2']
                                                                  $recv: #NameExpr['gsub']
                                                                  $param: #List[
                                                                     $expression: #Regex['/ /']
                                                                     $expression: #StringExpr['']
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                         $recv: #NameExpr['pack']
                                                         $param: #List[
                                                            $expression: #StringExpr['B*']
                                                         ]
                                                      ]
                                                      $recv: #NameExpr['force_encoding']
                                                      $param: #List[
                                                         $expression: #StringExpr['utf-8']
                                                      ]
                                                   ]
                                                ]
                                                $statement: #IfExpr[
                                                   $cond: #LteExpr[
                                                      $left: #NameExpr['pat2']
                                                      $right: #NameExpr['bits_0x10ffff']
                                                   ]
                                                   $then: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['assert_predicate']
                                                      $param: #List[
                                                         $expression: #NameExpr['s']
                                                         $expression: #NameExpr['valid_encoding?']
                                                         $expression: #StringExpr[
                                                            $inner: #NameExpr['pat2']
                                                         ]
                                                      ]
                                                   ]
                                                   $else: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['assert_not_predicate']
                                                      $param: #List[
                                                         $expression: #NameExpr['s']
                                                         $expression: #NameExpr['valid_encoding?']
                                                         $expression: #StringExpr[
                                                            $inner: #NameExpr['pat2']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                       $statement: #IfExpr[
                                          $cond: #Match[
                                             $left: #Regex['/ /']
                                             $right: #NameExpr['pat0']
                                          ]
                                          $then: #List[
                                             $statement: #AssignExpr[
                                                $left: #NameExpr['pat3']
                                                $right: #ApplyExpr[
                                                   $recv: #NameExpr['pat1']
                                                   $recv: #NameExpr['gsub']
                                                   $param: #List[
                                                      $expression: #Regex['/X/']
                                                      $expression: #StringExpr['0']
                                                   ]
                                                ]
                                             ]
                                             $statement: #AssignExpr[
                                                $left: #NameExpr['s']
                                                $right: #ApplyExpr[
                                                   $recv: #ApplyExpr[
                                                      $recv: #Array[
                                                         $index: #List[
                                                            $expression: #ApplyExpr[
                                                               $recv: #NameExpr['pat3']
                                                               $recv: #NameExpr['gsub']
                                                               $param: #List[
                                                                  $expression: #Regex['/ /']
                                                                  $expression: #StringExpr['']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $recv: #NameExpr['pack']
                                                      $param: #List[
                                                         $expression: #StringExpr['B*']
                                                      ]
                                                   ]
                                                   $recv: #NameExpr['force_encoding']
                                                   $param: #List[
                                                      $expression: #StringExpr['utf-8']
                                                   ]
                                                ]
                                             ]
                                             $statement: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['assert_not_predicate']
                                                $param: #List[
                                                   $expression: #NameExpr['s']
                                                   $expression: #NameExpr['valid_encoding?']
                                                   $expression: #StringExpr[
                                                      $inner: #NameExpr['pat3']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_validate_surrogate']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['pats']
                           $right: #Array[
                              $index: #List[
                                 $expression: #StringExpr['11101101 10011111 10111111']
                                 $expression: #StringExpr['11101101 1010xxxx 10xxxxxx']
                                 $expression: #StringExpr['11101101 1011xxxx 10xxxxxx']
                                 $expression: #StringExpr['11101110 10000000 10000000']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #ApplyExpr[
                              $recv: #NameExpr['pats']
                              $recv: #NameExpr['values_at']
                              $param: #List[
                                 $expression: #IntExpr['1']
                                 $expression: #IntExpr['2']
                              ]
                           ]
                           $recv: #NameExpr['each']
                           $body: #Block[
                              $param: #NameExpr['pat0']
                              $body: #ApplyExpr[
                                 $recv: #Array[
                                    $index: #List[
                                       $expression: #ApplyExpr[
                                          $recv: #NameExpr['pat0']
                                          $recv: #NameExpr['gsub']
                                          $param: #List[
                                             $expression: #Regex['/x/']
                                             $expression: #StringExpr['0']
                                          ]
                                       ]
                                       $expression: #ApplyExpr[
                                          $recv: #NameExpr['pat0']
                                          $recv: #NameExpr['gsub']
                                          $param: #List[
                                             $expression: #Regex['/x/']
                                             $expression: #StringExpr['1']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['each']
                                 $body: #Block[
                                    $param: #NameExpr['pat1']
                                    $body: #List[
                                       $statement: #AssignExpr[
                                          $left: #NameExpr['s']
                                          $right: #ApplyExpr[
                                             $recv: #ApplyExpr[
                                                $recv: #Array[
                                                   $index: #List[
                                                      $expression: #ApplyExpr[
                                                         $recv: #NameExpr['pat1']
                                                         $recv: #NameExpr['gsub']
                                                         $param: #List[
                                                            $expression: #Regex['/ /']
                                                            $expression: #StringExpr['']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                                $recv: #NameExpr['pack']
                                                $param: #List[
                                                   $expression: #StringExpr['B*']
                                                ]
                                             ]
                                             $recv: #NameExpr['force_encoding']
                                             $param: #List[
                                                $expression: #StringExpr['utf-8']
                                             ]
                                          ]
                                       ]
                                       $statement: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['assert_not_predicate']
                                          $param: #List[
                                             $expression: #NameExpr['s']
                                             $expression: #NameExpr['valid_encoding?']
                                             $expression: #StringExpr[
                                                $inner: #NameExpr['pat1']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #ApplyExpr[
                              $recv: #NameExpr['pats']
                              $recv: #NameExpr['values_at']
                              $param: #List[
                                 $expression: #IntExpr['0']
                                 $expression: #IntExpr['3']
                              ]
                           ]
                           $recv: #NameExpr['each']
                           $body: #Block[
                              $param: #NameExpr['pat']
                              $body: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['s']
                                    $right: #ApplyExpr[
                                       $recv: #ApplyExpr[
                                          $recv: #Array[
                                             $index: #List[
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['pat']
                                                   $recv: #NameExpr['gsub']
                                                   $param: #List[
                                                      $expression: #Regex['/ /']
                                                      $expression: #StringExpr['']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $recv: #NameExpr['pack']
                                          $param: #List[
                                             $expression: #StringExpr['B*']
                                          ]
                                       ]
                                       $recv: #NameExpr['force_encoding']
                                       $param: #List[
                                          $expression: #StringExpr['utf-8']
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_predicate']
                                    $param: #List[
                                       $expression: #NameExpr['s']
                                       $expression: #NameExpr['valid_encoding?']
                                       $expression: #StringExpr[
                                          $inner: #NameExpr['pat']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_regexp_too_short_multibyte_character']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/\\xfe/e']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/\\x8e/e']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/\\x8f/e']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/\\x8f\\xa1/e']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/\\xef/s']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/\\xc2/u']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/\\xe0\\x80/u']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/\\xf0\\x80\\x80/u']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/\\xf8\\x80\\x80\\x80/u']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/\\xfc\\x80\\x80\\x80\\x80/u']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/\\xfe/e']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/\\xc2/u']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/\\xc2\\xff/u']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/\\xc2 /u']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/\\xc2\\x20/u']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_regexp_generic']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_generic_ascii']
                           $param: #List[
                              $expression: #Regex['/a/']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_generic_ascii']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Regexp']
                                 $recv: #NameExpr['new']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #StringExpr['a']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_generic_ascii']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Regexp']
                                 $recv: #NameExpr['new']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #StringExpr['a']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_generic_ascii']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Regexp']
                                 $recv: #NameExpr['new']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['s']
                                       $param: #List[
                                          $expression: #StringExpr['a']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_generic_ascii']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Regexp']
                                 $recv: #NameExpr['new']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['u']
                                       $param: #List[
                                          $expression: #StringExpr['a']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #Array[
                              $index: #List[
                                 $expression: #Regex['/a/']
                                 $expression: #ApplyExpr[
                                    $recv: #NameExpr['Regexp']
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['a']
                                          $param: #List[
                                             $expression: #StringExpr['a']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                           $recv: #NameExpr['each']
                           $body: #Block[
                              $param: #NameExpr['r']
                              $body: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #IntExpr['0']
                                       $expression: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['a']
                                                $param: #List[
                                                   $expression: #StringExpr['a']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #IntExpr['0']
                                       $expression: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['e']
                                                $param: #List[
                                                   $expression: #StringExpr['a']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #IntExpr['0']
                                       $expression: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['s']
                                                $param: #List[
                                                   $expression: #StringExpr['a']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #IntExpr['0']
                                       $expression: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['u']
                                                $param: #List[
                                                   $expression: #StringExpr['a']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #Nil['nil']
                                       $expression: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['a']
                                                $param: #List[
                                                   $expression: #StringExpr['\\xc2\\xa1']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #Nil['nil']
                                       $expression: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['e']
                                                $param: #List[
                                                   $expression: #StringExpr['\\xc2\\xa1']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #Nil['nil']
                                       $expression: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['s']
                                                $param: #List[
                                                   $expression: #StringExpr['\\xc2\\xa1']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #Nil['nil']
                                       $expression: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['u']
                                                $param: #List[
                                                   $expression: #StringExpr['\\xc2\\xa1']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_regexp_ascii_none']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['r']
                           $right: #Regex['/a/n']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_warning']
                           $param: #List[
                              $expression: #Regex['%r{regexp match /.../n against to}']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_regexp_generic_ascii']
                                 $param: #List[
                                    $expression: #NameExpr['r']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['0']
                              $expression: #AssignExpr[
                                 $left: #NameExpr['r']
                                 $right: #ComplExpr[
                                    $expr: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #StringExpr['a']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['0']
                              $expression: #AssignExpr[
                                 $left: #NameExpr['r']
                                 $right: #ComplExpr[
                                    $expr: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #StringExpr['a']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['0']
                              $expression: #AssignExpr[
                                 $left: #NameExpr['r']
                                 $right: #ComplExpr[
                                    $expr: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['s']
                                       $param: #List[
                                          $expression: #StringExpr['a']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['0']
                              $expression: #AssignExpr[
                                 $left: #NameExpr['r']
                                 $right: #ComplExpr[
                                    $expr: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['u']
                                       $param: #List[
                                          $expression: #StringExpr['a']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Nil['nil']
                              $expression: #AssignExpr[
                                 $left: #NameExpr['r']
                                 $right: #ComplExpr[
                                    $expr: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #StringExpr['\\xc2\\xa1']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_warning']
                           $param: #List[
                              $expression: #Regex['%r{regexp match /.../n against to EUC-JP string}']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #Nil['nil']
                                    $expression: #AssignExpr[
                                       $left: #NameExpr['r']
                                       $right: #ComplExpr[
                                          $expr: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['e']
                                             $param: #List[
                                                $expression: #StringExpr['\\xc2\\xa1']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_warning']
                           $param: #List[
                              $expression: #Regex['%r{regexp match /.../n against to Windows-31J string}']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #Nil['nil']
                                    $expression: #AssignExpr[
                                       $left: #NameExpr['r']
                                       $right: #ComplExpr[
                                          $expr: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['s']
                                             $param: #List[
                                                $expression: #StringExpr['\\xc2\\xa1']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_warning']
                           $param: #List[
                              $expression: #Regex['%r{regexp match /.../n against to UTF-8 string}']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #Nil['nil']
                                    $expression: #AssignExpr[
                                       $left: #NameExpr['r']
                                       $right: #ComplExpr[
                                          $expr: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['u']
                                             $param: #List[
                                                $expression: #StringExpr['\\xc2\\xa1']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nothing_raised']
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #StringExpr['/\\\\x80/n']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_regexp_ascii']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_ascii8bit']
                           $param: #List[
                              $expression: #Regex['/\\xc2\\xa1/n']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_ascii8bit']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\xc2\\xa1/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_ascii8bit']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\xc2\\xa1/n}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_ascii8bit']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #ParcentNotation['%q{/\\xc2\\xa1/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #StringExpr['\\xc2\\xa1']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_ascii8bit']
                           $param: #List[
                              $expression: #Regex['/#{s}/']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #StringExpr['/\\xa1\\xa1/n']
                                       $recv: #NameExpr['force_encoding']
                                       $param: #List[
                                          $expression: #StringExpr['euc-jp']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #Array[
                              $index: #List[
                                 $expression: #Regex['/\\xc2\\xa1/n']
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['eval']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['a']
                                          $param: #List[
                                             $expression: #ParcentNotation['%{/\\xc2\\xa1/}']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['eval']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['a']
                                          $param: #List[
                                             $expression: #ParcentNotation['%{/\\xc2\\xa1/n}']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                           $recv: #NameExpr['each']
                           $body: #Block[
                              $param: #NameExpr['r']
                              $body: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #Nil['nil']
                                       $expression: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['a']
                                                $param: #List[
                                                   $expression: #StringExpr['a']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #Nil['nil']
                                       $expression: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['e']
                                                $param: #List[
                                                   $expression: #StringExpr['a']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #Nil['nil']
                                       $expression: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['s']
                                                $param: #List[
                                                   $expression: #StringExpr['a']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #Nil['nil']
                                       $expression: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['u']
                                                $param: #List[
                                                   $expression: #StringExpr['a']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #IntExpr['0']
                                       $expression: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['a']
                                                $param: #List[
                                                   $expression: #StringExpr['\\xc2\\xa1']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_raise']
                                    $param: #List[
                                       $expression: #Field[
                                          $recv: #NameExpr['Encoding']
                                          $name: #NameExpr['CompatibilityError']
                                       ]
                                    ]
                                    $body: #Block[
                                       $body: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['e']
                                                $param: #List[
                                                   $expression: #StringExpr['\\xc2\\xa1']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_raise']
                                    $param: #List[
                                       $expression: #Field[
                                          $recv: #NameExpr['Encoding']
                                          $name: #NameExpr['CompatibilityError']
                                       ]
                                    ]
                                    $body: #Block[
                                       $body: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['s']
                                                $param: #List[
                                                   $expression: #StringExpr['\\xc2\\xa1']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_raise']
                                    $param: #List[
                                       $expression: #Field[
                                          $recv: #NameExpr['Encoding']
                                          $name: #NameExpr['CompatibilityError']
                                       ]
                                    ]
                                    $body: #Block[
                                       $body: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['u']
                                                $param: #List[
                                                   $expression: #StringExpr['\\xc2\\xa1']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_regexp_euc']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_eucjp']
                           $param: #List[
                              $expression: #Regex['/a/e']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_eucjp']
                           $param: #List[
                              $expression: #Regex['/\\xc2\\xa1/e']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_eucjp']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\xc2\\xa1/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_eucjp']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #ParcentNotation['%q{/\\xc2\\xa1/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #Array[
                              $index: #List[
                                 $expression: #Regex['/a/e']
                              ]
                           ]
                           $recv: #NameExpr['each']
                           $body: #Block[
                              $param: #NameExpr['r']
                              $body: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #IntExpr['0']
                                       $expression: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['a']
                                                $param: #List[
                                                   $expression: #StringExpr['a']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #IntExpr['0']
                                       $expression: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['e']
                                                $param: #List[
                                                   $expression: #StringExpr['a']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #IntExpr['0']
                                       $expression: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['s']
                                                $param: #List[
                                                   $expression: #StringExpr['a']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #IntExpr['0']
                                       $expression: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['u']
                                                $param: #List[
                                                   $expression: #StringExpr['a']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_raise']
                                    $param: #List[
                                       $expression: #Field[
                                          $recv: #NameExpr['Encoding']
                                          $name: #NameExpr['CompatibilityError']
                                       ]
                                    ]
                                    $body: #Block[
                                       $body: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['a']
                                                $param: #List[
                                                   $expression: #StringExpr['\\xc2\\xa1']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #Nil['nil']
                                       $expression: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['e']
                                                $param: #List[
                                                   $expression: #StringExpr['\\xc2\\xa1']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_raise']
                                    $param: #List[
                                       $expression: #Field[
                                          $recv: #NameExpr['Encoding']
                                          $name: #NameExpr['CompatibilityError']
                                       ]
                                    ]
                                    $body: #Block[
                                       $body: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['s']
                                                $param: #List[
                                                   $expression: #StringExpr['\\xc2\\xa1']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_raise']
                                    $param: #List[
                                       $expression: #Field[
                                          $recv: #NameExpr['Encoding']
                                          $name: #NameExpr['CompatibilityError']
                                       ]
                                    ]
                                    $body: #Block[
                                       $body: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['u']
                                                $param: #List[
                                                   $expression: #StringExpr['\\xc2\\xa1']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #Array[
                              $index: #List[
                                 $expression: #Regex['/\\xc2\\xa1/e']
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['eval']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['e']
                                          $param: #List[
                                             $expression: #ParcentNotation['%{/\\xc2\\xa1/}']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['eval']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['e']
                                          $param: #List[
                                             $expression: #ParcentNotation['%q{/\\xc2\\xa1/}']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                           $recv: #NameExpr['each']
                           $body: #Block[
                              $param: #NameExpr['r']
                              $body: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #Nil['nil']
                                       $expression: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['a']
                                                $param: #List[
                                                   $expression: #StringExpr['a']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #Nil['nil']
                                       $expression: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['e']
                                                $param: #List[
                                                   $expression: #StringExpr['a']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #Nil['nil']
                                       $expression: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['s']
                                                $param: #List[
                                                   $expression: #StringExpr['a']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #Nil['nil']
                                       $expression: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['u']
                                                $param: #List[
                                                   $expression: #StringExpr['a']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_raise']
                                    $param: #List[
                                       $expression: #Field[
                                          $recv: #NameExpr['Encoding']
                                          $name: #NameExpr['CompatibilityError']
                                       ]
                                    ]
                                    $body: #Block[
                                       $body: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['a']
                                                $param: #List[
                                                   $expression: #StringExpr['\\xc2\\xa1']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #IntExpr['0']
                                       $expression: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['e']
                                                $param: #List[
                                                   $expression: #StringExpr['\\xc2\\xa1']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_raise']
                                    $param: #List[
                                       $expression: #Field[
                                          $recv: #NameExpr['Encoding']
                                          $name: #NameExpr['CompatibilityError']
                                       ]
                                    ]
                                    $body: #Block[
                                       $body: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['s']
                                                $param: #List[
                                                   $expression: #StringExpr['\\xc2\\xa1']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_raise']
                                    $param: #List[
                                       $expression: #Field[
                                          $recv: #NameExpr['Encoding']
                                          $name: #NameExpr['CompatibilityError']
                                       ]
                                    ]
                                    $body: #Block[
                                       $body: #AssignExpr[
                                          $left: #NameExpr['r']
                                          $right: #ComplExpr[
                                             $expr: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['u']
                                                $param: #List[
                                                   $expression: #StringExpr['\\xc2\\xa1']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_regexp_sjis']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_sjis']
                           $param: #List[
                              $expression: #Regex['/a/s']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_sjis']
                           $param: #List[
                              $expression: #Regex['/\\xc2\\xa1/s']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_sjis']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['s']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\xc2\\xa1/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_sjis']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['s']
                                       $param: #List[
                                          $expression: #ParcentNotation['%q{/\\xc2\\xa1/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_regexp_windows_31j']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ExceptionBlock[
                           $main: #Match[
                              $left: #ApplyExpr[
                                 $recv: #NameExpr['Regexp']
                                 $recv: #NameExpr['new']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #StringExpr['\\xa1']
                                       $recv: #NameExpr['force_encoding']
                                       $param: #List[
                                          $expression: #StringExpr['windows-31j']
                                       ]
                                    ]
                                 ]
                              ]
                              $right: #ApplyExpr[
                                 $recv: #StringExpr['\\xa1\\xa1']
                                 $recv: #NameExpr['force_encoding']
                                 $param: #List[
                                    $expression: #StringExpr['euc-jp']
                                 ]
                              ]
                           ]
                           $rescue: #List[
                              $rescue: #Rescue[
                                 $class: #Field[
                                    $recv: #NameExpr['Encoding']
                                    $name: #NameExpr['CompatibilityError']
                                 ]
                                 $then: #AssignExpr[
                                    $left: #NameExpr['err']
                                    $right: #BuiltInVariable['$!']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_match']
                           $param: #List[
                              $expression: #Regex['/windows-31j/i']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['err']
                                 $recv: #NameExpr['message']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_regexp_embed']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['r']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['eval']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['/\\xc2\\xa1/']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['RegexpError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['s']
                                       $param: #List[
                                          $expression: #StringExpr['/\\xc2\\xa1\\#{r}/s']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['RegexpError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['s']
                                       $param: #List[
                                          $expression: #StringExpr['/\\#{r}\\xc2\\xa1/s']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r']
                           $right: #Regex['/\\xc2\\xa1/e']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['RegexpError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['s']
                                       $param: #List[
                                          $expression: #StringExpr['/\\xc2\\xa1\\#{r}/s']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['RegexpError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['s']
                                       $param: #List[
                                          $expression: #StringExpr['/\\#{r}\\xc2\\xa1/s']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['eval']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['/\\xc2\\xa1/']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['RegexpError']
                           ]
                           $body: #Block[
                              $body: #Regex['/\\xc2\\xa1#{r}/s']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r']
                           $right: #Regex['/\\xc2\\xa1/e']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['RegexpError']
                           ]
                           $body: #Block[
                              $body: #Regex['/\\xc2\\xa1#{r}/s']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r1']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Regexp']
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #StringExpr['foo']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['ascii-8bit']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r2']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['eval']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #StringExpr['/bar#{r1}/']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['ascii-8bit']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['US_ASCII']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['r2']
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r1']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Regexp']
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #StringExpr['foo']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['us-ascii']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r2']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['eval']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #StringExpr['/bar#{r1}/']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['ascii-8bit']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['US_ASCII']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['r2']
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r1']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Regexp']
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #StringExpr['foo']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['ascii-8bit']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r2']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['eval']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #StringExpr['/bar#{r1}/']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['us-ascii']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['US_ASCII']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['r2']
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r1']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Regexp']
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #StringExpr['foo']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['us-ascii']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r2']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['eval']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #StringExpr['/bar#{r1}/']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['us-ascii']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['US_ASCII']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['r2']
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r1']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Regexp']
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #StringExpr['\\xa1']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['ascii-8bit']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r2']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['eval']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #StringExpr['/bar#{r1}/']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['ascii-8bit']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['ASCII_8BIT']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['r2']
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r1']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Regexp']
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #StringExpr['\\xa1']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['ascii-8bit']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r2']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['eval']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #StringExpr['/bar#{r1}/']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['us-ascii']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['ASCII_8BIT']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['r2']
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r1']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Regexp']
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #StringExpr['foo']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['ascii-8bit']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r2']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['eval']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #StringExpr['/\\xa1#{r1}/']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['ascii-8bit']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['ASCII_8BIT']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['r2']
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r1']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Regexp']
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #StringExpr['foo']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['us-ascii']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r2']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['eval']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #StringExpr['/\\xa1#{r1}/']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['ascii-8bit']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['ASCII_8BIT']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['r2']
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r1']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Regexp']
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #StringExpr['\\xa1']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['ascii-8bit']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r2']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['eval']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #StringExpr['/\\xa1#{r1}/']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['ascii-8bit']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['ASCII_8BIT']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['r2']
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_regexp_named_class']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_match']
                           $param: #List[
                              $expression: #Regex['/[[:space:]]/u']
                              $expression: #StringExpr['\\u{00a0}']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_match']
                           $param: #List[
                              $expression: #Regex['/[[:space:]]/']
                              $expression: #StringExpr['\\u{00a0}']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_regexp_property']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              $recv: #StringExpr['\\p{Hiragana}']
                              $recv: #NameExpr['force_encoding']
                              $param: #List[
                                 $expression: #StringExpr['euc-jp']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['EUC_JP']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r']
                           $right: #Nil['nil']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nothing_raised']
                           $body: #Block[
                              $body: #AssignExpr[
                                 $left: #NameExpr['r']
                                 $right: #ApplyExpr[
                                    $recv: #NameExpr['Regexp']
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $expression: #NameExpr['s']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_predicate']
                           $param: #List[
                              $expression: #NameExpr['r']
                              $expression: #NameExpr['fixed_encoding?']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_match']
                           $param: #List[
                              $expression: #NameExpr['r']
                              $expression: #ApplyExpr[
                                 $recv: #StringExpr['\\xa4\\xa2']
                                 $recv: #NameExpr['force_encoding']
                                 $param: #List[
                                    $expression: #StringExpr['euc-jp']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['eval']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #StringExpr['/\\p{Hiragana}/']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['euc-jp']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_predicate']
                           $param: #List[
                              $expression: #NameExpr['r']
                              $expression: #NameExpr['fixed_encoding?']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_match']
                           $param: #List[
                              $expression: #NameExpr['r']
                              $expression: #ApplyExpr[
                                 $recv: #StringExpr['\\xa4\\xa2']
                                 $recv: #NameExpr['force_encoding']
                                 $param: #List[
                                    $expression: #StringExpr['euc-jp']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r']
                           $right: #Regex['/\\p{Hiragana}/e']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_predicate']
                           $param: #List[
                              $expression: #NameExpr['r']
                              $expression: #NameExpr['fixed_encoding?']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_match']
                           $param: #List[
                              $expression: #NameExpr['r']
                              $expression: #ApplyExpr[
                                 $recv: #StringExpr['\\xa4\\xa2']
                                 $recv: #NameExpr['force_encoding']
                                 $param: #List[
                                    $expression: #StringExpr['euc-jp']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r']
                           $right: #Regex['/\\p{AsciI}/e']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_predicate']
                           $param: #List[
                              $expression: #NameExpr['r']
                              $expression: #NameExpr['fixed_encoding?']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_match']
                           $param: #List[
                              $expression: #NameExpr['r']
                              $expression: #ApplyExpr[
                                 $recv: #StringExpr['a']
                                 $recv: #NameExpr['force_encoding']
                                 $param: #List[
                                    $expression: #StringExpr['euc-jp']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r']
                           $right: #Regex['/\\p{hiraganA}/e']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_predicate']
                           $param: #List[
                              $expression: #NameExpr['r']
                              $expression: #NameExpr['fixed_encoding?']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_match']
                           $param: #List[
                              $expression: #NameExpr['r']
                              $expression: #ApplyExpr[
                                 $recv: #StringExpr['\\xa4\\xa2']
                                 $recv: #NameExpr['force_encoding']
                                 $param: #List[
                                    $expression: #StringExpr['euc-jp']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['eval']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #StringExpr['/\\u{3042}\\p{Hiragana}/']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['euc-jp']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_predicate']
                           $param: #List[
                              $expression: #NameExpr['r']
                              $expression: #NameExpr['fixed_encoding?']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['UTF_8']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['r']
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['eval']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #StringExpr['/\\p{Hiragana}\\u{3042}/']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['euc-jp']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_predicate']
                           $param: #List[
                              $expression: #NameExpr['r']
                              $expression: #NameExpr['fixed_encoding?']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['UTF_8']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['r']
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_regexp_embed_preprocess']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['r1']
                           $right: #Regex['/\\xa4\\xa2/e']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r2']
                           $right: #Regex['/#{r1}/']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_include']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['r2']
                                 $recv: #NameExpr['source']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['r1']
                                 $recv: #NameExpr['source']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_begin_end_offset']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['str']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['e']
                              $param: #List[
                                 $expression: #StringExpr['\\244\\242\\244\\244\\244\\246\\244\\250\\244\\252a']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #Match[
                                 $left: #Regex['/(a)/']
                                 $right: #NameExpr['str']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['a']
                              $expression: #BuiltInVariable['$&']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['5']
                              $expression: #ApplyExpr[
                                 $recv: #BuiltInVariable['$~']
                                 $recv: #NameExpr['begin']
                                 $param: #List[
                                    $expression: #IntExpr['0']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['6']
                              $expression: #ApplyExpr[
                                 $recv: #BuiltInVariable['$~']
                                 $recv: #NameExpr['end']
                                 $param: #List[
                                    $expression: #IntExpr['0']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Array[
                                 $index: #List[
                                    $expression: #IntExpr['5']
                                    $expression: #IntExpr['6']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #BuiltInVariable['$~']
                                 $recv: #NameExpr['offset']
                                 $param: #List[
                                    $expression: #IntExpr['0']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['5']
                              $expression: #ApplyExpr[
                                 $recv: #BuiltInVariable['$~']
                                 $recv: #NameExpr['begin']
                                 $param: #List[
                                    $expression: #IntExpr['1']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['6']
                              $expression: #ApplyExpr[
                                 $recv: #BuiltInVariable['$~']
                                 $recv: #NameExpr['end']
                                 $param: #List[
                                    $expression: #IntExpr['1']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Array[
                                 $index: #List[
                                    $expression: #IntExpr['5']
                                    $expression: #IntExpr['6']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #BuiltInVariable['$~']
                                 $recv: #NameExpr['offset']
                                 $param: #List[
                                    $expression: #IntExpr['1']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_begin_end_offset_sjis']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['str']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['s']
                              $param: #List[
                                 $expression: #StringExpr['\\x81@@']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert']
                           $param: #List[
                              $expression: #Match[
                                 $left: #Regex['/@/']
                                 $right: #NameExpr['str']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['s']
                                 $param: #List[
                                    $expression: #StringExpr['\\x81@']
                                 ]
                              ]
                              $expression: #BuiltInVariable['$`']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['@']
                              $expression: #BuiltInVariable['$&']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['']
                              $expression: #BuiltInVariable['$\'']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Array[
                                 $index: #List[
                                    $expression: #IntExpr['1']
                                    $expression: #IntExpr['2']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #BuiltInVariable['$~']
                                 $recv: #NameExpr['offset']
                                 $param: #List[
                                    $expression: #IntExpr['0']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_quote']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_generic_ascii']
                           $param: #List[
                              $expression: #Regex['/#{Regexp.quote(a("a"))}#{Regexp.quote(e("e"))}/']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_encoding']
                           $param: #List[
                              $expression: #StringExpr['US-ASCII']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['Regexp']
                                    $recv: #NameExpr['quote']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['a']
                                          $param: #List[
                                             $expression: #StringExpr['']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_encoding']
                           $param: #List[
                              $expression: #StringExpr['US-ASCII']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['Regexp']
                                    $recv: #NameExpr['quote']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['e']
                                          $param: #List[
                                             $expression: #StringExpr['']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_encoding']
                           $param: #List[
                              $expression: #StringExpr['US-ASCII']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['Regexp']
                                    $recv: #NameExpr['quote']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['s']
                                          $param: #List[
                                             $expression: #StringExpr['']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_encoding']
                           $param: #List[
                              $expression: #StringExpr['US-ASCII']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['Regexp']
                                    $recv: #NameExpr['quote']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['u']
                                          $param: #List[
                                             $expression: #StringExpr['']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_encoding']
                           $param: #List[
                              $expression: #StringExpr['US-ASCII']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['Regexp']
                                    $recv: #NameExpr['quote']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['a']
                                          $param: #List[
                                             $expression: #StringExpr['a']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_encoding']
                           $param: #List[
                              $expression: #StringExpr['US-ASCII']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['Regexp']
                                    $recv: #NameExpr['quote']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['e']
                                          $param: #List[
                                             $expression: #StringExpr['a']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_encoding']
                           $param: #List[
                              $expression: #StringExpr['US-ASCII']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['Regexp']
                                    $recv: #NameExpr['quote']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['s']
                                          $param: #List[
                                             $expression: #StringExpr['a']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_encoding']
                           $param: #List[
                              $expression: #StringExpr['US-ASCII']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['Regexp']
                                    $recv: #NameExpr['quote']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['u']
                                          $param: #List[
                                             $expression: #StringExpr['a']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_encoding']
                           $param: #List[
                              $expression: #StringExpr['ASCII-8BIT']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['Regexp']
                                    $recv: #NameExpr['quote']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['a']
                                          $param: #List[
                                             $expression: #StringExpr['\\xc2\\xa1']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_encoding']
                           $param: #List[
                              $expression: #StringExpr['EUC-JP']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['Regexp']
                                    $recv: #NameExpr['quote']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['e']
                                          $param: #List[
                                             $expression: #StringExpr['\\xc2\\xa1']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_encoding']
                           $param: #List[
                              $expression: #StringExpr['Windows-31J']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['Regexp']
                                    $recv: #NameExpr['quote']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['s']
                                          $param: #List[
                                             $expression: #StringExpr['\\xc2\\xa1']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_encoding']
                           $param: #List[
                              $expression: #StringExpr['UTF-8']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['Regexp']
                                    $recv: #NameExpr['quote']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['u']
                                          $param: #List[
                                             $expression: #StringExpr['\\xc2\\xa1']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_union_0']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['r']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Regexp']
                              $recv: #NameExpr['union']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_generic_ascii']
                           $param: #List[
                              $expression: #NameExpr['r']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_not_match']
                           $param: #List[
                              $expression: #NameExpr['r']
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['a']
                                 $param: #List[
                                    $expression: #StringExpr['']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_not_match']
                           $param: #List[
                              $expression: #NameExpr['r']
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['e']
                                 $param: #List[
                                    $expression: #StringExpr['']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_not_match']
                           $param: #List[
                              $expression: #NameExpr['r']
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['s']
                                 $param: #List[
                                    $expression: #StringExpr['']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_not_match']
                           $param: #List[
                              $expression: #NameExpr['r']
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['u']
                                 $param: #List[
                                    $expression: #StringExpr['']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_union_1_asciionly_string']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_generic_ascii']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Regexp']
                                 $recv: #NameExpr['union']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #StringExpr['']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_generic_ascii']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Regexp']
                                 $recv: #NameExpr['union']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #StringExpr['']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_generic_ascii']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Regexp']
                                 $recv: #NameExpr['union']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['s']
                                       $param: #List[
                                          $expression: #StringExpr['']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_generic_ascii']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Regexp']
                                 $recv: #NameExpr['union']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['u']
                                       $param: #List[
                                          $expression: #StringExpr['']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_generic_ascii']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Regexp']
                                 $recv: #NameExpr['union']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #StringExpr['a']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_generic_ascii']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Regexp']
                                 $recv: #NameExpr['union']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #StringExpr['a']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_generic_ascii']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Regexp']
                                 $recv: #NameExpr['union']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['s']
                                       $param: #List[
                                          $expression: #StringExpr['a']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_generic_ascii']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Regexp']
                                 $recv: #NameExpr['union']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['u']
                                       $param: #List[
                                          $expression: #StringExpr['a']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_generic_ascii']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Regexp']
                                 $recv: #NameExpr['union']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #StringExpr['\\t']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_generic_ascii']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Regexp']
                                 $recv: #NameExpr['union']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #StringExpr['\\t']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_generic_ascii']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Regexp']
                                 $recv: #NameExpr['union']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['s']
                                       $param: #List[
                                          $expression: #StringExpr['\\t']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_generic_ascii']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Regexp']
                                 $recv: #NameExpr['union']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['u']
                                       $param: #List[
                                          $expression: #StringExpr['\\t']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_union_1_nonascii_string']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_ascii8bit']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Regexp']
                                 $recv: #NameExpr['union']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #StringExpr['\\xc2\\xa1']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_eucjp']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Regexp']
                                 $recv: #NameExpr['union']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #StringExpr['\\xc2\\xa1']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_sjis']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Regexp']
                                 $recv: #NameExpr['union']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['s']
                                       $param: #List[
                                          $expression: #StringExpr['\\xc2\\xa1']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_utf8']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Regexp']
                                 $recv: #NameExpr['union']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['u']
                                       $param: #List[
                                          $expression: #StringExpr['\\xc2\\xa1']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_union_1_regexp']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_generic_ascii']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Regexp']
                                 $recv: #NameExpr['union']
                                 $param: #List[
                                    $expression: #Regex['//']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_warning']
                           $param: #List[
                              $expression: #Regex['%r{regexp match /.../n against to}']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_regexp_generic_ascii']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['Regexp']
                                       $recv: #NameExpr['union']
                                       $param: #List[
                                          $expression: #Regex['//n']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_eucjp']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Regexp']
                                 $recv: #NameExpr['union']
                                 $param: #List[
                                    $expression: #Regex['//e']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_sjis']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Regexp']
                                 $recv: #NameExpr['union']
                                 $param: #List[
                                    $expression: #Regex['//s']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_utf8']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Regexp']
                                 $recv: #NameExpr['union']
                                 $param: #List[
                                    $expression: #Regex['//u']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_union_2']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['ary']
                           $right: #Array[
                              $index: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['a']
                                    $param: #List[
                                       $expression: #StringExpr['']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['s']
                                    $param: #List[
                                       $expression: #StringExpr['']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['a']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['s']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['ary']
                           $recv: #NameExpr['each']
                           $body: #Block[
                              $param: #NameExpr['s1']
                              $body: #ApplyExpr[
                                 $recv: #NameExpr['ary']
                                 $recv: #NameExpr['each']
                                 $body: #Block[
                                    $param: #NameExpr['s2']
                                    $body: #IfExpr[
                                       $cond: #ApplyExpr[
                                          $recv: #NameExpr['s1']
                                          $recv: #NameExpr['empty?']
                                       ]
                                       $then: #IfExpr[
                                          $cond: #ApplyExpr[
                                             $recv: #NameExpr['s2']
                                             $recv: #NameExpr['empty?']
                                          ]
                                          $then: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['assert_regexp_generic_ascii']
                                             $param: #List[
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['Regexp']
                                                   $recv: #NameExpr['union']
                                                   $param: #List[
                                                      $expression: #NameExpr['s1']
                                                      $expression: #NameExpr['s2']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $else: #List[
                                             $statement: #AssignExpr[
                                                $left: #NameExpr['r']
                                                $right: #ApplyExpr[
                                                   $recv: #NameExpr['Regexp']
                                                   $recv: #NameExpr['union']
                                                   $param: #List[
                                                      $expression: #NameExpr['s1']
                                                      $expression: #NameExpr['s2']
                                                   ]
                                                ]
                                             ]
                                             $statement: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['assert_regexp_fixed_encoding']
                                                $param: #List[
                                                   $expression: #NameExpr['r']
                                                ]
                                             ]
                                             $statement: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['assert_equal']
                                                $param: #List[
                                                   $expression: #ApplyExpr[
                                                      $recv: #NameExpr['s2']
                                                      $recv: #NameExpr['encoding']
                                                   ]
                                                   $expression: #ApplyExpr[
                                                      $recv: #NameExpr['r']
                                                      $recv: #NameExpr['encoding']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                       $else: #IfExpr[
                                          $cond: #ApplyExpr[
                                             $recv: #NameExpr['s2']
                                             $recv: #NameExpr['empty?']
                                          ]
                                          $then: #List[
                                             $statement: #AssignExpr[
                                                $left: #NameExpr['r']
                                                $right: #ApplyExpr[
                                                   $recv: #NameExpr['Regexp']
                                                   $recv: #NameExpr['union']
                                                   $param: #List[
                                                      $expression: #NameExpr['s1']
                                                      $expression: #NameExpr['s2']
                                                   ]
                                                ]
                                             ]
                                             $statement: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['assert_regexp_fixed_encoding']
                                                $param: #List[
                                                   $expression: #NameExpr['r']
                                                ]
                                             ]
                                             $statement: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['assert_equal']
                                                $param: #List[
                                                   $expression: #ApplyExpr[
                                                      $recv: #NameExpr['s1']
                                                      $recv: #NameExpr['encoding']
                                                   ]
                                                   $expression: #ApplyExpr[
                                                      $recv: #NameExpr['r']
                                                      $recv: #NameExpr['encoding']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $else: #IfExpr[
                                             $cond: #EqExpr[
                                                $left: #ApplyExpr[
                                                   $recv: #NameExpr['s1']
                                                   $recv: #NameExpr['encoding']
                                                ]
                                                $right: #ApplyExpr[
                                                   $recv: #NameExpr['s2']
                                                   $recv: #NameExpr['encoding']
                                                ]
                                             ]
                                             $then: #List[
                                                $statement: #AssignExpr[
                                                   $left: #NameExpr['r']
                                                   $right: #ApplyExpr[
                                                      $recv: #NameExpr['Regexp']
                                                      $recv: #NameExpr['union']
                                                      $param: #List[
                                                         $expression: #NameExpr['s1']
                                                         $expression: #NameExpr['s2']
                                                      ]
                                                   ]
                                                ]
                                                $statement: #ApplyExpr[
                                                   #Self['self']
                                                   $recv: #NameExpr['assert_regexp_fixed_encoding']
                                                   $param: #List[
                                                      $expression: #NameExpr['r']
                                                   ]
                                                ]
                                                $statement: #ApplyExpr[
                                                   #Self['self']
                                                   $recv: #NameExpr['assert_equal']
                                                   $param: #List[
                                                      $expression: #ApplyExpr[
                                                         $recv: #NameExpr['s1']
                                                         $recv: #NameExpr['encoding']
                                                      ]
                                                      $expression: #ApplyExpr[
                                                         $recv: #NameExpr['r']
                                                         $recv: #NameExpr['encoding']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                             $else: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['assert_raise']
                                                $param: #List[
                                                   $expression: #NameExpr['ArgumentError']
                                                ]
                                                $body: #Block[
                                                   $body: #ApplyExpr[
                                                      $recv: #NameExpr['Regexp']
                                                      $recv: #NameExpr['union']
                                                      $param: #List[
                                                         $expression: #NameExpr['s1']
                                                         $expression: #NameExpr['s2']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_dynamic_ascii_regexp']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_warning']
                           $param: #List[
                              $expression: #Regex['%r{regexp match /.../n against to}']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_regexp_generic_ascii']
                                 $param: #List[
                                    $expression: #Regex['/#{ }/n']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_ascii8bit']
                           $param: #List[
                              $expression: #Regex['/#{ }\\xc2\\xa1/n']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_ascii8bit']
                           $param: #List[
                              $expression: #Regex['/\\xc2\\xa1#{ }/n']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nothing_raised']
                           $body: #Block[
                              $body: #List[
                                 $statement: #MultipleAssign[
                                    $left: #MultipleLeftHandSideExpression[
                                       $item: #NameExpr['s1']
                                       $item: #NameExpr['s2']
                                    ]
                                    $right: #MultipleRightHandSideExpression[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['a']
                                          $param: #List[
                                             $expression: #StringExpr['\\xc2']
                                          ]
                                       ]
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['a']
                                          $param: #List[
                                             $expression: #StringExpr['\\xa1']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #Regex['/#{s1}#{s2}/']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_dynamic_eucjp_regexp']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_eucjp']
                           $param: #List[
                              $expression: #Regex['/#{ }/e']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_eucjp']
                           $param: #List[
                              $expression: #Regex['/#{ }\\xc2\\xa1/e']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_eucjp']
                           $param: #List[
                              $expression: #Regex['/\\xc2\\xa1#{ }/e']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/\\xc2#{ }/e']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/#{ }\\xc2/e']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/\\xc2#{ }\\xa1/e']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['ArgumentError']
                           ]
                           $body: #Block[
                              $body: #List[
                                 $statement: #MultipleAssign[
                                    $left: #MultipleLeftHandSideExpression[
                                       $item: #NameExpr['s1']
                                       $item: #NameExpr['s2']
                                    ]
                                    $right: #MultipleRightHandSideExpression[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['e']
                                          $param: #List[
                                             $expression: #StringExpr['\\xc2']
                                          ]
                                       ]
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['e']
                                          $param: #List[
                                             $expression: #StringExpr['\\xa1']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #Regex['/#{s1}#{s2}/']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_dynamic_sjis_regexp']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_sjis']
                           $param: #List[
                              $expression: #Regex['/#{ }/s']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_sjis']
                           $param: #List[
                              $expression: #Regex['/#{ }\\xc2\\xa1/s']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_sjis']
                           $param: #List[
                              $expression: #Regex['/\\xc2\\xa1#{ }/s']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/\\x81#{ }/s']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/#{ }\\x81/s']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/\\x81#{ }\\xa1/s']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['ArgumentError']
                           ]
                           $body: #Block[
                              $body: #List[
                                 $statement: #MultipleAssign[
                                    $left: #MultipleLeftHandSideExpression[
                                       $item: #NameExpr['s1']
                                       $item: #NameExpr['s2']
                                    ]
                                    $right: #MultipleRightHandSideExpression[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['s']
                                          $param: #List[
                                             $expression: #StringExpr['\\x81']
                                          ]
                                       ]
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['s']
                                          $param: #List[
                                             $expression: #StringExpr['\\xa1']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #Regex['/#{s1}#{s2}/']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_dynamic_utf8_regexp']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_utf8']
                           $param: #List[
                              $expression: #Regex['/#{ }/u']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_utf8']
                           $param: #List[
                              $expression: #Regex['/#{ }\\xc2\\xa1/u']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_fixed_utf8']
                           $param: #List[
                              $expression: #Regex['/\\xc2\\xa1#{ }/u']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/\\xc2#{ }/u']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/#{ }\\xc2/u']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/\\xc2#{ }\\xa1/u']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['ArgumentError']
                           ]
                           $body: #Block[
                              $body: #List[
                                 $statement: #MultipleAssign[
                                    $left: #MultipleLeftHandSideExpression[
                                       $item: #NameExpr['s1']
                                       $item: #NameExpr['s2']
                                    ]
                                    $right: #MultipleRightHandSideExpression[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['u']
                                          $param: #List[
                                             $expression: #StringExpr['\\xc2']
                                          ]
                                       ]
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['u']
                                          $param: #List[
                                             $expression: #StringExpr['\\xa1']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #Regex['/#{s1}#{s2}/']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_regexp_unicode']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nothing_raised']
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/\\u{0}/u']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nothing_raised']
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/\\u{D7FF}/u']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/\\u{D800}/u']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/\\u{DFFF}/u']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nothing_raised']
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/\\u{E000}/u']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nothing_raised']
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/\\u{10FFFF}/u']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #StringExpr['/\\u{110000}/u']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_regexp_mixed_unicode']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\xc2\\xa1\\\\u{6666}/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\xc2\\xa1\\\\u{6666}/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['s']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\xc2\\xa1\\\\u{6666}/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nothing_raised']
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['u']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\xc2\\xa1\\\\u{6666}/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\\\u{6666}\\xc2\\xa1/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\\\u{6666}\\xc2\\xa1/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['s']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\\\u{6666}\\xc2\\xa1/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nothing_raised']
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['u']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\\\u{6666}\\xc2\\xa1/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\\\xc2\\\\xa1\\\\u{6666}/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\\\xc2\\\\xa1\\\\u{6666}/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['s']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\\\xc2\\\\xa1\\\\u{6666}/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nothing_raised']
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['u']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\\\xc2\\\\xa1\\\\u{6666}/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\\\u{6666}\\\\xc2\\\\xa1/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\\\u{6666}\\\\xc2\\\\xa1/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['s']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\\\u{6666}\\\\xc2\\\\xa1/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nothing_raised']
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['u']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\\\u{6666}\\\\xc2\\\\xa1/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\xc2\\xa1#{ }\\\\u{6666}/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\xc2\\xa1#{ }\\\\u{6666}/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['s']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\xc2\\xa1#{ }\\\\u{6666}/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nothing_raised']
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['u']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\xc2\\xa1#{ }\\\\u{6666}/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\\\u{6666}#{ }\\xc2\\xa1/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\\\u{6666}#{ }\\xc2\\xa1/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['s']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\\\u{6666}#{ }\\xc2\\xa1/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nothing_raised']
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['u']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\\\u{6666}#{ }\\xc2\\xa1/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\\\xc2\\\\xa1#{ }\\\\u{6666}/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\\\xc2\\\\xa1#{ }\\\\u{6666}/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['s']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\\\xc2\\\\xa1#{ }\\\\u{6666}/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nothing_raised']
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['u']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\\\xc2\\\\xa1#{ }\\\\u{6666}/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\\\u{6666}#{ }\\\\xc2\\\\xa1/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\\\u{6666}#{ }\\\\xc2\\\\xa1/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['SyntaxError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['s']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\\\u{6666}#{ }\\\\xc2\\\\xa1/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nothing_raised']
                           $body: #Block[
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['u']
                                       $param: #List[
                                          $expression: #ParcentNotation['%{/\\\\u{6666}#{ }\\\\xc2\\\\xa1/}']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_str_allocate']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['String']
                              $recv: #NameExpr['allocate']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['ASCII_8BIT']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_str_String']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['String']
                              $param: #List[
                                 $expression: #IntExpr['10']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['US_ASCII']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_sprintf_c']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_strenc']
                           $param: #List[
                              $expression: #StringExpr['\\x80']
                              $expression: #StringExpr['ASCII-8BIT']
                              $expression: #ModExpr[
                                 $left: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['a']
                                    $param: #List[
                                       $expression: #StringExpr['%c']
                                    ]
                                 ]
                                 $right: #IntExpr['128']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_strenc']
                           $param: #List[
                              $expression: #StringExpr['\\xc2\\xa1']
                              $expression: #StringExpr['EUC-JP']
                              $expression: #ModExpr[
                                 $left: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['%c']
                                    ]
                                 ]
                                 $right: #HexInteger['0xc2a1']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['ArgumentError']
                           ]
                           $body: #Block[
                              $body: #ModExpr[
                                 $left: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['%c']
                                    ]
                                 ]
                                 $right: #HexInteger['0xc2']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_strenc']
                           $param: #List[
                              $expression: #StringExpr['\\xc2']
                              $expression: #StringExpr['Windows-31J']
                              $expression: #ModExpr[
                                 $left: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['s']
                                    $param: #List[
                                       $expression: #StringExpr['%c']
                                    ]
                                 ]
                                 $right: #HexInteger['0xc2']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_strenc']
                           $param: #List[
                              $expression: #StringExpr['\\u{c2a1}']
                              $expression: #StringExpr['UTF-8']
                              $expression: #ModExpr[
                                 $left: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['%c']
                                    ]
                                 ]
                                 $right: #HexInteger['0xc2a1']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_strenc']
                           $param: #List[
                              $expression: #StringExpr['\\u{c2}']
                              $expression: #StringExpr['UTF-8']
                              $expression: #ModExpr[
                                 $left: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['%c']
                                    ]
                                 ]
                                 $right: #HexInteger['0xc2']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['CompatibilityError']
                              ]
                           ]
                           $body: #Block[
                              $body: #ModExpr[
                                 $left: #StringExpr['%s%s']
                                 $right: #Array[
                                    $index: #List[
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['s']
                                          $param: #List[
                                             $expression: #StringExpr['\\xc2\\xa1']
                                          ]
                                       ]
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['e']
                                          $param: #List[
                                             $expression: #StringExpr['\\xc2\\xa1']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_sprintf_p']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $recv: #ApplyExpr[
                           $recv: #NameExpr['Encoding']
                           $recv: #NameExpr['list']
                        ]
                        $recv: #NameExpr['each']
                        $body: #Block[
                           $param: #NameExpr['e']
                           $body: #List[
                              $statement: #AssignExpr[
                                 $left: #NameExpr['format']
                                 $right: #ApplyExpr[
                                    $recv: #StringExpr['%p']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #NameExpr['e']
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 $recv: #Array[
                                    $index: #List[
                                       $expression: #StringExpr['']
                                       $expression: #StringExpr['a']
                                       $expression: #StringExpr['\\xC2\\xA1']
                                       $expression: #StringExpr['\\x00']
                                    ]
                                 ]
                                 $recv: #NameExpr['each']
                                 $body: #Block[
                                    $param: #NameExpr['s']
                                    $body: #List[
                                       $statement: #ApplyExpr[
                                          $recv: #NameExpr['s']
                                          $recv: #NameExpr['force_encoding']
                                          $param: #List[
                                             $expression: #NameExpr['e']
                                          ]
                                       ]
                                       $statement: #AssignExpr[
                                          $left: #NameExpr['enc']
                                          $right: #ApplyExpr[
                                             $recv: #AddExpr[
                                                $left: #ApplyExpr[
                                                   $recv: #StringExpr['']
                                                   $recv: #NameExpr['force_encoding']
                                                   $param: #List[
                                                      $expression: #NameExpr['e']
                                                   ]
                                                ]
                                                $right: #ApplyExpr[
                                                   $recv: #NameExpr['s']
                                                   $recv: #NameExpr['inspect']
                                                ]
                                             ]
                                             $recv: #NameExpr['encoding']
                                          ]
                                       ]
                                       $statement: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['assert_strenc']
                                          $param: #List[
                                             $expression: #ApplyExpr[
                                                $recv: #NameExpr['s']
                                                $recv: #NameExpr['inspect']
                                             ]
                                             $expression: #NameExpr['enc']
                                             $expression: #ModExpr[
                                                $left: #NameExpr['format']
                                                $right: #NameExpr['s']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #AssignExpr[
                                 $left: #NameExpr['s']
                                 $right: #ApplyExpr[
                                    $recv: #StringExpr['\\xC2\\xA1']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #NameExpr['e']
                                    ]
                                 ]
                              ]
                              $statement: #AssignExpr[
                                 $left: #NameExpr['enc']
                                 $right: #ApplyExpr[
                                    $recv: #AddExpr[
                                       $left: #StringExpr['']
                                       $right: #ApplyExpr[
                                          $recv: #NameExpr['s']
                                          $recv: #NameExpr['inspect']
                                       ]
                                    ]
                                    $recv: #NameExpr['encoding']
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_strenc']
                                 $param: #List[
                                    $expression: #ModExpr[
                                       $left: #StringExpr['%10s']
                                       $right: #ApplyExpr[
                                          $recv: #NameExpr['s']
                                          $recv: #NameExpr['inspect']
                                       ]
                                    ]
                                    $expression: #NameExpr['enc']
                                    $expression: #ModExpr[
                                       $left: #StringExpr['%10p']
                                       $right: #NameExpr['s']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_sprintf_s']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_strenc']
                           $param: #List[
                              $expression: #StringExpr['']
                              $expression: #StringExpr['ASCII-8BIT']
                              $expression: #ModExpr[
                                 $left: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['a']
                                    $param: #List[
                                       $expression: #StringExpr['%s']
                                    ]
                                 ]
                                 $right: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['a']
                                    $param: #List[
                                       $expression: #StringExpr['']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_strenc']
                           $param: #List[
                              $expression: #StringExpr['']
                              $expression: #StringExpr['EUC-JP']
                              $expression: #ModExpr[
                                 $left: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['%s']
                                    ]
                                 ]
                                 $right: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_strenc']
                           $param: #List[
                              $expression: #StringExpr['']
                              $expression: #StringExpr['Windows-31J']
                              $expression: #ModExpr[
                                 $left: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['s']
                                    $param: #List[
                                       $expression: #StringExpr['%s']
                                    ]
                                 ]
                                 $right: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['s']
                                    $param: #List[
                                       $expression: #StringExpr['']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_strenc']
                           $param: #List[
                              $expression: #StringExpr['']
                              $expression: #StringExpr['UTF-8']
                              $expression: #ModExpr[
                                 $left: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['%s']
                                    ]
                                 ]
                                 $right: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_strenc']
                           $param: #List[
                              $expression: #StringExpr['a']
                              $expression: #StringExpr['ASCII-8BIT']
                              $expression: #ModExpr[
                                 $left: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['a']
                                    $param: #List[
                                       $expression: #StringExpr['%s']
                                    ]
                                 ]
                                 $right: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['a']
                                    $param: #List[
                                       $expression: #StringExpr['a']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_strenc']
                           $param: #List[
                              $expression: #StringExpr['a']
                              $expression: #StringExpr['EUC-JP']
                              $expression: #ModExpr[
                                 $left: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['%s']
                                    ]
                                 ]
                                 $right: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['a']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_strenc']
                           $param: #List[
                              $expression: #StringExpr['a']
                              $expression: #StringExpr['Windows-31J']
                              $expression: #ModExpr[
                                 $left: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['s']
                                    $param: #List[
                                       $expression: #StringExpr['%s']
                                    ]
                                 ]
                                 $right: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['s']
                                    $param: #List[
                                       $expression: #StringExpr['a']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_strenc']
                           $param: #List[
                              $expression: #StringExpr['a']
                              $expression: #StringExpr['UTF-8']
                              $expression: #ModExpr[
                                 $left: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['%s']
                                    ]
                                 ]
                                 $right: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['a']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_strenc']
                           $param: #List[
                              $expression: #StringExpr['\\xC2\\xA1']
                              $expression: #StringExpr['ASCII-8BIT']
                              $expression: #ModExpr[
                                 $left: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['a']
                                    $param: #List[
                                       $expression: #StringExpr['%s']
                                    ]
                                 ]
                                 $right: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['a']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_strenc']
                           $param: #List[
                              $expression: #StringExpr['\\xC2\\xA1']
                              $expression: #StringExpr['EUC-JP']
                              $expression: #ModExpr[
                                 $left: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['%s']
                                    ]
                                 ]
                                 $right: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_strenc']
                           $param: #List[
                              $expression: #StringExpr['\\xC2\\xA1']
                              $expression: #StringExpr['UTF-8']
                              $expression: #ModExpr[
                                 $left: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['%s']
                                    ]
                                 ]
                                 $right: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_strenc']
                           $param: #List[
                              $expression: #StringExpr['        \\xC2\\xA1']
                              $expression: #StringExpr['ASCII-8BIT']
                              $expression: #ModExpr[
                                 $left: #StringExpr['%10s']
                                 $right: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['a']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_strenc']
                           $param: #List[
                              $expression: #StringExpr['         \\xA1\\xA1']
                              $expression: #StringExpr['EUC-JP']
                              $expression: #ModExpr[
                                 $left: #StringExpr['%10s']
                                 $right: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['\\xa1\\xa1']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_strenc']
                           $param: #List[
                              $expression: #StringExpr['         \\xC2\\xA1']
                              $expression: #StringExpr['UTF-8']
                              $expression: #ModExpr[
                                 $left: #StringExpr['%10s']
                                 $right: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_strenc']
                           $param: #List[
                              $expression: #StringExpr['\\x00']
                              $expression: #StringExpr['ASCII-8BIT']
                              $expression: #ModExpr[
                                 $left: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['a']
                                    $param: #List[
                                       $expression: #StringExpr['%s']
                                    ]
                                 ]
                                 $right: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['a']
                                    $param: #List[
                                       $expression: #StringExpr['\\x00']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_strenc']
                           $param: #List[
                              $expression: #StringExpr['\\x00']
                              $expression: #StringExpr['EUC-JP']
                              $expression: #ModExpr[
                                 $left: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['%s']
                                    ]
                                 ]
                                 $right: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['\\x00']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_strenc']
                           $param: #List[
                              $expression: #StringExpr['\\x00']
                              $expression: #StringExpr['Windows-31J']
                              $expression: #ModExpr[
                                 $left: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['s']
                                    $param: #List[
                                       $expression: #StringExpr['%s']
                                    ]
                                 ]
                                 $right: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['s']
                                    $param: #List[
                                       $expression: #StringExpr['\\x00']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_strenc']
                           $param: #List[
                              $expression: #StringExpr['\\x00']
                              $expression: #StringExpr['UTF-8']
                              $expression: #ModExpr[
                                 $left: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['%s']
                                    ]
                                 ]
                                 $right: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\x00']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['EUC-JP']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ModExpr[
                                       $left: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['e']
                                          $param: #List[
                                             $expression: #StringExpr['\\xc2\\xa1 %s']
                                          ]
                                       ]
                                       $right: #StringExpr['foo']
                                    ]
                                    $recv: #NameExpr['encoding']
                                 ]
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_str_lt']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_operator']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['a']
                                 $param: #List[
                                    $expression: #StringExpr['a']
                                 ]
                              ]
                              $expression: #NameExpr['<']
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['a']
                                 $param: #List[
                                    $expression: #StringExpr['\\xa1']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_operator']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['a']
                                 $param: #List[
                                    $expression: #StringExpr['a']
                                 ]
                              ]
                              $expression: #NameExpr['<']
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['s']
                                 $param: #List[
                                    $expression: #StringExpr['\\xa1']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_operator']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['s']
                                 $param: #List[
                                    $expression: #StringExpr['a']
                                 ]
                              ]
                              $expression: #NameExpr['<']
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['a']
                                 $param: #List[
                                    $expression: #StringExpr['\\xa1']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_str_multiply']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['str']
                           $right: #StringExpr['\\u3042']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #TrueExpr['true']
                              $expression: #ApplyExpr[
                                 $recv: #MulExpr[
                                    $left: #NameExpr['str']
                                    $right: #IntExpr['0']
                                 ]
                                 $recv: #NameExpr['ascii_only?']
                              ]
                              $expression: #StringExpr['[ruby-dev:33895]']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #MulExpr[
                                    $left: #NameExpr['str']
                                    $right: #IntExpr['1']
                                 ]
                                 $recv: #NameExpr['ascii_only?']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #MulExpr[
                                    $left: #NameExpr['str']
                                    $right: #IntExpr['2']
                                 ]
                                 $recv: #NameExpr['ascii_only?']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_str_aref']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['a']
                                 $param: #List[
                                    $expression: #StringExpr['\\xc2']
                                 ]
                              ]
                              $expression: #Indexer[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['a']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1']
                                    ]
                                 ]
                                 $index: #List[
                                    $expression: #IntExpr['0']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['a']
                                 $param: #List[
                                    $expression: #StringExpr['\\xa1']
                                 ]
                              ]
                              $expression: #Indexer[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['a']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1']
                                    ]
                                 ]
                                 $index: #List[
                                    $expression: #IntExpr['1']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Nil['nil']
                              $expression: #Indexer[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['a']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1']
                                    ]
                                 ]
                                 $index: #List[
                                    $expression: #IntExpr['2']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['e']
                                 $param: #List[
                                    $expression: #StringExpr['\\xc2\\xa1']
                                 ]
                              ]
                              $expression: #Indexer[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1']
                                    ]
                                 ]
                                 $index: #List[
                                    $expression: #IntExpr['0']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Nil['nil']
                              $expression: #Indexer[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1']
                                    ]
                                 ]
                                 $index: #List[
                                    $expression: #IntExpr['1']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['s']
                                 $param: #List[
                                    $expression: #StringExpr['\\xc2']
                                 ]
                              ]
                              $expression: #Indexer[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['s']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1']
                                    ]
                                 ]
                                 $index: #List[
                                    $expression: #IntExpr['0']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['s']
                                 $param: #List[
                                    $expression: #StringExpr['\\xa1']
                                 ]
                              ]
                              $expression: #Indexer[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['s']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1']
                                    ]
                                 ]
                                 $index: #List[
                                    $expression: #IntExpr['1']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Nil['nil']
                              $expression: #Indexer[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['s']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1']
                                    ]
                                 ]
                                 $index: #List[
                                    $expression: #IntExpr['2']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['u']
                                 $param: #List[
                                    $expression: #StringExpr['\\xc2\\xa1']
                                 ]
                              ]
                              $expression: #Indexer[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1']
                                    ]
                                 ]
                                 $index: #List[
                                    $expression: #IntExpr['0']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Nil['nil']
                              $expression: #Indexer[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1']
                                    ]
                                 ]
                                 $index: #List[
                                    $expression: #IntExpr['1']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['str']
                           $right: #StringExpr['\\u3042']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #TrueExpr['true']
                              $expression: #ApplyExpr[
                                 $recv: #Indexer[
                                    $recv: #NameExpr['str']
                                    $index: #List[
                                       $expression: #IntExpr['0']
                                       $expression: #IntExpr['0']
                                    ]
                                 ]
                                 $recv: #NameExpr['ascii_only?']
                              ]
                              $expression: #StringExpr['[ruby-dev:33895]']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #Indexer[
                                    $recv: #NameExpr['str']
                                    $index: #List[
                                       $expression: #IntExpr['0']
                                       $expression: #IntExpr['1']
                                    ]
                                 ]
                                 $recv: #NameExpr['ascii_only?']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #Indexer[
                                    $recv: #NameExpr['str']
                                    $index: #List[
                                       $expression: #ClosedRange[
                                          #IntExpr['0']
                                          #MinusExpr[
                                             $expr: #IntExpr['1']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['ascii_only?']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_utf8str_aref']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #StringExpr['abcdefghijklmnopqrstuvwxyz\\u{3042 3044 3046 3048 304A}']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['a']
                              $expression: #Indexer[
                                 $recv: #NameExpr['s']
                                 $index: #List[
                                    $expression: #IntExpr['0']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['h']
                              $expression: #Indexer[
                                 $recv: #NameExpr['s']
                                 $index: #List[
                                    $expression: #IntExpr['7']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['i']
                              $expression: #Indexer[
                                 $recv: #NameExpr['s']
                                 $index: #List[
                                    $expression: #IntExpr['8']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['j']
                              $expression: #Indexer[
                                 $recv: #NameExpr['s']
                                 $index: #List[
                                    $expression: #IntExpr['9']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['\\u{3044}']
                              $expression: #Indexer[
                                 $recv: #NameExpr['s']
                                 $index: #List[
                                    $expression: #IntExpr['27']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['\\u{3046}']
                              $expression: #Indexer[
                                 $recv: #NameExpr['s']
                                 $index: #List[
                                    $expression: #IntExpr['28']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['\\u{3048}']
                              $expression: #Indexer[
                                 $recv: #NameExpr['s']
                                 $index: #List[
                                    $expression: #IntExpr['29']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #StringExpr['abcdefghijklmnopqrstuvw\\u{3042 3044 3046 3048 304A}']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['\\u{3044}']
                              $expression: #Indexer[
                                 $recv: #NameExpr['s']
                                 $index: #List[
                                    $expression: #IntExpr['24']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_str_aref_len']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['a']
                                 $param: #List[
                                    $expression: #StringExpr['\\xa1']
                                 ]
                              ]
                              $expression: #Indexer[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['a']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1\\xc2\\xa2\\xc2\\xa3']
                                    ]
                                 ]
                                 $index: #List[
                                    $expression: #IntExpr['1']
                                    $expression: #IntExpr['1']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['a']
                                 $param: #List[
                                    $expression: #StringExpr['\\xa1\\xc2']
                                 ]
                              ]
                              $expression: #Indexer[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['a']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1\\xc2\\xa2\\xc2\\xa3']
                                    ]
                                 ]
                                 $index: #List[
                                    $expression: #IntExpr['1']
                                    $expression: #IntExpr['2']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['e']
                                 $param: #List[
                                    $expression: #StringExpr['\\xc2\\xa2']
                                 ]
                              ]
                              $expression: #Indexer[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1\\xc2\\xa2\\xc2\\xa3']
                                    ]
                                 ]
                                 $index: #List[
                                    $expression: #IntExpr['1']
                                    $expression: #IntExpr['1']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['e']
                                 $param: #List[
                                    $expression: #StringExpr['\\xc2\\xa2\\xc2\\xa3']
                                 ]
                              ]
                              $expression: #Indexer[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1\\xc2\\xa2\\xc2\\xa3']
                                    ]
                                 ]
                                 $index: #List[
                                    $expression: #IntExpr['1']
                                    $expression: #IntExpr['2']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['s']
                                 $param: #List[
                                    $expression: #StringExpr['\\xa1']
                                 ]
                              ]
                              $expression: #Indexer[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['s']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1\\xc2\\xa2\\xc2\\xa3']
                                    ]
                                 ]
                                 $index: #List[
                                    $expression: #IntExpr['1']
                                    $expression: #IntExpr['1']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['s']
                                 $param: #List[
                                    $expression: #StringExpr['\\xa1\\xc2']
                                 ]
                              ]
                              $expression: #Indexer[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['s']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1\\xc2\\xa2\\xc2\\xa3']
                                    ]
                                 ]
                                 $index: #List[
                                    $expression: #IntExpr['1']
                                    $expression: #IntExpr['2']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['u']
                                 $param: #List[
                                    $expression: #StringExpr['\\xc2\\xa2']
                                 ]
                              ]
                              $expression: #Indexer[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1\\xc2\\xa2\\xc2\\xa3']
                                    ]
                                 ]
                                 $index: #List[
                                    $expression: #IntExpr['1']
                                    $expression: #IntExpr['1']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['u']
                                 $param: #List[
                                    $expression: #StringExpr['\\xc2\\xa2\\xc2\\xa3']
                                 ]
                              ]
                              $expression: #Indexer[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1\\xc2\\xa2\\xc2\\xa3']
                                    ]
                                 ]
                                 $index: #List[
                                    $expression: #IntExpr['1']
                                    $expression: #IntExpr['2']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_str_aref_substr']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['a']
                                 $param: #List[
                                    $expression: #StringExpr['\\xa1\\xc2']
                                 ]
                              ]
                              $expression: #Indexer[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['a']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1\\xc2\\xa2\\xc2\\xa3']
                                    ]
                                 ]
                                 $index: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #StringExpr['\\xa1\\xc2']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['CompatibilityError']
                              ]
                           ]
                           $body: #Block[
                              $body: #Indexer[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['a']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1\\xc2\\xa2\\xc2\\xa3']
                                    ]
                                 ]
                                 $index: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #StringExpr['\\xa1\\xc2']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Nil['nil']
                              $expression: #Indexer[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1\\xc2\\xa2\\xc2\\xa3']
                                    ]
                                 ]
                                 $index: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #StringExpr['\\xa1\\xc2']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['CompatibilityError']
                              ]
                           ]
                           $body: #Block[
                              $body: #Indexer[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1\\xc2\\xa2\\xc2\\xa3']
                                    ]
                                 ]
                                 $index: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['s']
                                       $param: #List[
                                          $expression: #StringExpr['\\xa1\\xc2']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['s']
                                 $param: #List[
                                    $expression: #StringExpr['\\xa1\\xc2']
                                 ]
                              ]
                              $expression: #Indexer[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['s']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1\\xc2\\xa2\\xc2\\xa3']
                                    ]
                                 ]
                                 $index: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['s']
                                       $param: #List[
                                          $expression: #StringExpr['\\xa1\\xc2']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['CompatibilityError']
                              ]
                           ]
                           $body: #Block[
                              $body: #Indexer[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['s']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1\\xc2\\xa2\\xc2\\xa3']
                                    ]
                                 ]
                                 $index: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['u']
                                       $param: #List[
                                          $expression: #StringExpr['\\xa1\\xc2']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Nil['nil']
                              $expression: #Indexer[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1\\xc2\\xa2\\xc2\\xa3']
                                    ]
                                 ]
                                 $index: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['u']
                                       $param: #List[
                                          $expression: #StringExpr['\\xa1\\xc2']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['CompatibilityError']
                              ]
                           ]
                           $body: #Block[
                              $body: #Indexer[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1\\xc2\\xa2\\xc2\\xa3']
                                    ]
                                 ]
                                 $index: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #StringExpr['\\xa1\\xc2']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nil']
                           $param: #List[
                              $expression: #Indexer[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['\\xa1\\xa2\\xa3\\xa4']
                                    ]
                                 ]
                                 $index: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #StringExpr['\\xa2\\xa3']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['bug2379']
                           $right: #StringExpr['[ruby-core:26787]']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['\\u{439}']
                              $expression: #Indexer[
                                 $recv: #StringExpr['\\u{439}']
                                 $index: #List[
                                    $expression: #IntExpr['0']
                                    $expression: #IntExpr['30']
                                 ]
                              ]
                              $expression: #NameExpr['bug2379']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['\\u{439}']
                              $expression: #Indexer[
                                 $recv: #StringExpr['a\\u{439}']
                                 $index: #List[
                                    $expression: #IntExpr['1']
                                    $expression: #IntExpr['30']
                                 ]
                              ]
                              $expression: #NameExpr['bug2379']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['\\u{439}']
                              $expression: #Indexer[
                                 $recv: #Indexer[
                                    $recv: #StringExpr['a\\u{439}bcdefghijklmnop']
                                    $index: #List[
                                       $expression: #IntExpr['1']
                                       $expression: #IntExpr['1']
                                    ]
                                 ]
                                 $index: #List[
                                    $expression: #IntExpr['0']
                                    $expression: #IntExpr['1']
                                 ]
                              ]
                              $expression: #NameExpr['bug2379']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_str_aref_force_encoding']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['bug5836']
                           $right: #StringExpr['[ruby-core:41896]']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #ApplyExpr[
                              $recv: #NameExpr['Encoding']
                              $recv: #NameExpr['list']
                           ]
                           $recv: #NameExpr['each']
                           $body: #Block[
                              $param: #NameExpr['enc']
                              $body: #List[
                                 $statement: #Unless[
                                    $then: #Next['next']
                                    $cond: #ApplyExpr[
                                       $recv: #NameExpr['enc']
                                       $recv: #NameExpr['ascii_compatible?']
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['s']
                                    $right: #ApplyExpr[
                                       $recv: #StringExpr['abc']
                                       $recv: #NameExpr['force_encoding']
                                       $param: #List[
                                          $expression: #NameExpr['enc']
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #StringExpr['']
                                       $expression: #Indexer[
                                          $recv: #NameExpr['s']
                                          $index: #List[
                                             $expression: #IntExpr['3']
                                             $expression: #IntExpr['1']
                                          ]
                                       ]
                                       $expression: #NameExpr['bug5836']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_aset']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['e']
                              $param: #List[
                                 $expression: #StringExpr['\\xa3\\xb0\\xa3\\xb1\\xa3\\xb2\\xa3\\xb3\\xa3\\xb4']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['CompatibilityError']
                              ]
                           ]
                           $body: #Block[
                              $body: #AssignExpr[
                                 $left: #Indexer[
                                    $base: #NameExpr['s']
                                    $index: #List[
                                       $expression: #StringExpr['\\xb0\\xa3']
                                    ]
                                 ]
                                 $right: #StringExpr['foo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['a']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['ua']
                              $param: #List[
                                 $expression: #StringExpr['a']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #Indexer[
                              $base: #NameExpr['a']
                              $index: #List[
                                 $expression: #Regex['/a/']
                              ]
                           ]
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['u']
                              $param: #List[
                                 $expression: #StringExpr['']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['US_ASCII']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['a']
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_str_center']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_encoding']
                           $param: #List[
                              $expression: #StringExpr['EUC-JP']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #StringExpr['a']
                                    $recv: #NameExpr['center']
                                    $param: #List[
                                       $expression: #IntExpr['5']
                                       $expression: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['e']
                                          $param: #List[
                                             $expression: #StringExpr['\\xa1\\xa2']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_encoding']
                           $param: #List[
                              $expression: #StringExpr['EUC-JP']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #StringExpr['\\xa3\\xb0']
                                       ]
                                    ]
                                    $recv: #NameExpr['center']
                                    $param: #List[
                                       $expression: #IntExpr['10']
                                    ]
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_squeeze']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['e']
                              $param: #List[
                                 $expression: #StringExpr['\\xa3\\xb0\\xa3\\xb1\\xa3\\xb1\\xa3\\xb3\\xa3\\xb4']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['e']
                                 $param: #List[
                                    $expression: #StringExpr['\\xa3\\xb0\\xa3\\xb1\\xa3\\xb3\\xa3\\xb4']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['squeeze']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_tr']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['s']
                              $param: #List[
                                 $expression: #StringExpr['\\x81\\x41']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['tr']
                                 $param: #List[
                                    $expression: #StringExpr['A']
                                    $expression: #StringExpr['B']
                                 ]
                              ]
                              $expression: #NameExpr['s']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['tr_s']
                                 $param: #List[
                                    $expression: #StringExpr['A']
                                    $expression: #StringExpr['B']
                                 ]
                              ]
                              $expression: #NameExpr['s']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nothing_raised']
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #StringExpr['a']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['ASCII-8BIT']
                                    ]
                                 ]
                                 $recv: #NameExpr['tr']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #StringExpr['a']
                                       ]
                                    ]
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #StringExpr['a']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['e']
                                 $param: #List[
                                    $expression: #StringExpr['\\xA1\\xA1']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['a']
                                    $param: #List[
                                       $expression: #StringExpr['a']
                                    ]
                                 ]
                                 $recv: #NameExpr['tr']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #StringExpr['a']
                                       ]
                                    ]
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #StringExpr['\\xA1\\xA1']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['X\\u3042\\u3044X']
                              $expression: #ApplyExpr[
                                 $recv: #StringExpr['A\\u3042\\u3044\\u3046']
                                 $recv: #NameExpr['tr']
                                 $param: #List[
                                    $expression: #StringExpr['^\\u3042\\u3044']
                                    $expression: #StringExpr['X']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #MulExpr[
                                 $left: #StringExpr['\\u3042\\u3046']
                                 $right: #IntExpr['100']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #MulExpr[
                                    $left: #StringExpr['\\u3042\\u3044']
                                    $right: #IntExpr['100']
                                 ]
                                 $recv: #NameExpr['tr']
                                 $param: #List[
                                    $expression: #StringExpr['\\u3044']
                                    $expression: #StringExpr['\\u3046']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['Y']
                              $expression: #ApplyExpr[
                                 $recv: #StringExpr['\\u3042']
                                 $recv: #NameExpr['tr']
                                 $param: #List[
                                    $expression: #StringExpr['^X']
                                    $expression: #StringExpr['Y']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_tr_s']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['assert_equal']
                        $param: #List[
                           $expression: #ApplyExpr[
                              $recv: #StringExpr['\\xA1\\xA1']
                              $recv: #NameExpr['force_encoding']
                              $param: #List[
                                 $expression: #StringExpr['EUC-JP']
                              ]
                           ]
                           $expression: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #StringExpr['a']
                                 $recv: #NameExpr['force_encoding']
                                 $param: #List[
                                    $expression: #StringExpr['ASCII-8BIT']
                                 ]
                              ]
                              $recv: #NameExpr['tr']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #StringExpr['a']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['ASCII-8BIT']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    $recv: #StringExpr['\\xA1\\xA1']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['EUC-JP']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_count']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['0']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['\\xa1\\xa2']
                                    ]
                                 ]
                                 $recv: #NameExpr['count']
                                 $param: #List[
                                    $expression: #StringExpr['z']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['e']
                              $param: #List[
                                 $expression: #StringExpr['\\xa3\\xb0\\xa3\\xb1\\xa3\\xb2\\xa3\\xb3\\xa3\\xb4']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['CompatibilityError']
                              ]
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['count']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #StringExpr['\\xa3\\xb0']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_count_sjis_trailing_byte']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['bug10078']
                           $right: #StringExpr['[ruby-dev:48442] [Bug #10078]']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['0']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['s']
                                    $param: #List[
                                       $expression: #StringExpr['\\x98\\x61']
                                    ]
                                 ]
                                 $recv: #NameExpr['count']
                                 $param: #List[
                                    $expression: #StringExpr['a']
                                 ]
                              ]
                              $expression: #NameExpr['bug10078']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_delete']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #StringExpr['\\xa1\\xa2']
                                       ]
                                    ]
                                    $recv: #NameExpr['delete']
                                    $param: #List[
                                       $expression: #StringExpr['z']
                                    ]
                                 ]
                                 $recv: #NameExpr['length']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['e']
                              $param: #List[
                                 $expression: #StringExpr['\\xa3\\xb0\\xa3\\xb1\\xa3\\xb2\\xa3\\xb3\\xa3\\xb4']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['CompatibilityError']
                              ]
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['delete']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #StringExpr['\\xa3\\xb2']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['a']
                           $right: #StringExpr['\\u3042\\u3044\\u3046\\u3042\\u3044\\u3046']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['a']
                           $recv: #NameExpr['delete!']
                           $param: #List[
                              $expression: #StringExpr['\\u3042\\u3044']
                              $expression: #StringExpr['^\\u3044']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['\\u3044\\u3046\\u3044\\u3046']
                              $expression: #NameExpr['a']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_include?']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['\\xa1\\xa2\\xa3\\xa4']
                                    ]
                                 ]
                                 $recv: #NameExpr['include?']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #StringExpr['\\xa3']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['e']
                              $param: #List[
                                 $expression: #StringExpr['\\xa3\\xb0\\xa3\\xb1\\xa3\\xb2\\xa3\\xb3\\xa3\\xb4']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['include?']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #StringExpr['\\xb0\\xa3']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['bug11488']
                           $right: #StringExpr['[ruby-core:70592] [Bug #11488]']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['each_encoding']
                           $param: #List[
                              $expression: #StringExpr['abcdef']
                              $expression: #StringExpr['def']
                           ]
                           $body: #Block[
                              $param: #MultipleLeftHandSideExpression[
                                 $item: #NameExpr['str']
                                 $item: #NameExpr['substr']
                              ]
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #TrueExpr['true']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['str']
                                       $recv: #NameExpr['include?']
                                       $param: #List[
                                          $expression: #NameExpr['substr']
                                       ]
                                    ]
                                    $expression: #NameExpr['bug11488']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_index']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['e']
                              $param: #List[
                                 $expression: #StringExpr['\\xa3\\xb0\\xa3\\xb1\\xa3\\xb2\\xa3\\xb3\\xa3\\xb4']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nil']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['index']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #StringExpr['\\xb3\\xa3']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nil']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['\\xa1\\xa2\\xa3\\xa4']
                                    ]
                                 ]
                                 $recv: #NameExpr['index']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #StringExpr['\\xa3']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nil']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['\\xa1\\xa2\\xa3\\xa4']
                                    ]
                                 ]
                                 $recv: #NameExpr['rindex']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #StringExpr['\\xa3']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['e']
                              $param: #List[
                                 $expression: #StringExpr['\\xa3\\xb0\\xa3\\xb1\\xa3\\xb2\\xa3\\xb3\\xa3\\xb4']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['CompatibilityError']
                              ]
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['rindex']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #StringExpr['\\xb1\\xa3']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['bug11488']
                           $right: #StringExpr['[ruby-core:70592] [Bug #11488]']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['each_encoding']
                           $param: #List[
                              $expression: #StringExpr['abcdef']
                              $expression: #StringExpr['def']
                           ]
                           $body: #Block[
                              $param: #MultipleLeftHandSideExpression[
                                 $item: #NameExpr['str']
                                 $item: #NameExpr['substr']
                              ]
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #IntExpr['3']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['str']
                                       $recv: #NameExpr['index']
                                       $param: #List[
                                          $expression: #NameExpr['substr']
                                       ]
                                    ]
                                    $expression: #NameExpr['bug11488']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_next']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['s1']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['e']
                              $param: #List[
                                 $expression: #StringExpr['\\xa1\\xa1']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s2']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['s1']
                              $recv: #NameExpr['dup']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #AddExpr[
                              $left: #MulExpr[
                                 $left: #IntExpr['94']
                                 $right: #IntExpr['94']
                              ]
                              $right: #IntExpr['94']
                           ]
                           $recv: #NameExpr['times']
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #NameExpr['s2']
                                 $recv: #NameExpr['next!']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_not_equal']
                           $param: #List[
                              $expression: #NameExpr['s1']
                              $expression: #NameExpr['s2']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_sub']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              $recv: #StringExpr['abc']
                              $recv: #NameExpr['sub']
                              $param: #List[
                                 $expression: #Regex['/b/']
                                 $expression: #ApplyExpr[
                                    $recv: #StringExpr['\\xa1\\xa1']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['euc-jp']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_encoding']
                           $param: #List[
                              $expression: #StringExpr['EUC-JP']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['EUC_JP']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #StringExpr['\\xa4\\xa2']
                                       $recv: #NameExpr['force_encoding']
                                       $param: #List[
                                          $expression: #StringExpr['euc-jp']
                                       ]
                                    ]
                                    $recv: #NameExpr['sub']
                                    $param: #List[
                                       $expression: #Regex['/./']
                                       $expression: #StringExpr['\\&']
                                    ]
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['EUC_JP']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #StringExpr['\\xa4\\xa2']
                                       $recv: #NameExpr['force_encoding']
                                       $param: #List[
                                          $expression: #StringExpr['euc-jp']
                                       ]
                                    ]
                                    $recv: #NameExpr['gsub']
                                    $param: #List[
                                       $expression: #Regex['/./']
                                       $expression: #StringExpr['\\&']
                                    ]
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_sub2']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              $recv: #StringExpr['\\x80']
                              $recv: #NameExpr['force_encoding']
                              $param: #List[
                                 $expression: #StringExpr['ASCII-8BIT']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Regexp']
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #StringExpr['\\x80']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['ASCII-8BIT']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s2']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['s']
                              $recv: #NameExpr['sub']
                              $param: #List[
                                 $expression: #NameExpr['r']
                                 $expression: #StringExpr['']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_empty']
                           $param: #List[
                              $expression: #NameExpr['s2']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_predicate']
                           $param: #List[
                              $expression: #NameExpr['s2']
                              $expression: #NameExpr['ascii_only?']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_sub3']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['repl']
                           $right: #ApplyExpr[
                              $recv: #StringExpr['\\x81']
                              $recv: #NameExpr['force_encoding']
                              $param: #List[
                                 $expression: #StringExpr['sjis']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['repl']
                                 $recv: #NameExpr['valid_encoding?']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              $recv: #StringExpr['a@']
                              $recv: #NameExpr['sub']
                              $param: #List[
                                 $expression: #Regex['/a/']
                                 $expression: #NameExpr['repl']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_predicate']
                           $param: #List[
                              $expression: #NameExpr['s']
                              $expression: #NameExpr['valid_encoding?']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_insert']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['e']
                              $param: #List[
                                 $expression: #StringExpr['\\xa3\\xb0\\xa3\\xb1\\xa3\\xb2\\xa3\\xb3\\xa3\\xb4']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['e']
                                 $param: #List[
                                    $expression: #StringExpr['\\xa3\\xb0\\xa3\\xb1\\xa3\\xb2\\xa3\\xb3\\xa3\\xb4a']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['insert']
                                 $param: #List[
                                    $expression: #MinusExpr[
                                       $expr: #IntExpr['1']
                                    ]
                                    $expression: #StringExpr['a']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_scan']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['assert_equal']
                        $param: #List[
                           $expression: #Array[
                              $index: #List[
                                 $expression: #StringExpr['a']
                              ]
                           ]
                           $expression: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['e']
                                 $param: #List[
                                    $expression: #StringExpr['\\xa1\\xa2a\\xa3\\xa4']
                                 ]
                              ]
                              $recv: #NameExpr['scan']
                              $param: #List[
                                 $expression: #Regex['/a/']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_dup_scan']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['s1']
                           $right: #MulExpr[
                              $left: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['e']
                                 $param: #List[
                                    $expression: #StringExpr['\\xa4\\xa2']
                                 ]
                              ]
                              $right: #IntExpr['100']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s2']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['s1']
                              $recv: #NameExpr['b']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['s2']
                           $recv: #NameExpr['scan']
                           $param: #List[
                              $expression: #Regex['/\\A./n']
                           ]
                           $body: #Block[
                              $param: #NameExpr['f']
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #Field[
                                       $recv: #NameExpr['Encoding']
                                       $name: #NameExpr['ASCII_8BIT']
                                    ]
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['f']
                                       $recv: #NameExpr['encoding']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_dup_aref']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['s1']
                           $right: #MulExpr[
                              $left: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['e']
                                 $param: #List[
                                    $expression: #StringExpr['\\xa4\\xa2']
                                 ]
                              ]
                              $right: #IntExpr['100']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s2']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['s1']
                              $recv: #NameExpr['b']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['ASCII_8BIT']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #Indexer[
                                    $recv: #NameExpr['s2']
                                    $index: #List[
                                       $expression: #ClosedRange[
                                          #IntExpr['10']
                                          #MinusExpr[
                                             $expr: #IntExpr['1']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_upto']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['s1']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['e']
                              $param: #List[
                                 $expression: #StringExpr['\\xa1\\xa2']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s2']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['s']
                              $param: #List[
                                 $expression: #StringExpr['\\xa1\\xa2']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['CompatibilityError']
                              ]
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #NameExpr['s1']
                                 $recv: #NameExpr['upto']
                                 $param: #List[
                                    $expression: #NameExpr['s2']
                                 ]
                                 $body: #Block[
                                    $param: #NameExpr['x']
                                    $body: #Break['break']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_casecmp']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['s1']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['s']
                              $param: #List[
                                 $expression: #StringExpr['\\x81\\x41']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s2']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['s']
                              $param: #List[
                                 $expression: #StringExpr['\\x81\\x61']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_not_equal']
                           $param: #List[
                              $expression: #IntExpr['0']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s1']
                                 $recv: #NameExpr['casecmp']
                                 $param: #List[
                                    $expression: #NameExpr['s2']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_reverse']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['bug11387']
                           $right: #StringExpr['[ruby-dev:49189] [Bug #11387]']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s1']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['u']
                              $param: #List[
                                 $expression: #StringExpr['abcdefghij\\xf0']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s2']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['s1']
                              $recv: #NameExpr['reverse']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_not_predicate']
                           $param: #List[
                              $expression: #NameExpr['s1']
                              $expression: #NameExpr['valid_encoding?']
                              $expression: #NameExpr['bug11387']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['u']
                                 $param: #List[
                                    $expression: #StringExpr['\\xf0jihgfedcba']
                                 ]
                              ]
                              $expression: #NameExpr['s2']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_not_predicate']
                           $param: #List[
                              $expression: #NameExpr['s2']
                              $expression: #NameExpr['valid_encoding?']
                              $expression: #NameExpr['bug11387']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_reverse_bang']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['u']
                              $param: #List[
                                 $expression: #StringExpr['abcdefghij\\xf0']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['s']
                           $recv: #NameExpr['reverse!']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['u']
                                 $param: #List[
                                    $expression: #StringExpr['\\xf0jihgfedcba']
                                 ]
                              ]
                              $expression: #NameExpr['s']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_plus']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['assert_raise']
                        $param: #List[
                           $expression: #Field[
                              $recv: #NameExpr['Encoding']
                              $name: #NameExpr['CompatibilityError']
                           ]
                        ]
                        $body: #Block[
                           $body: #AddExpr[
                              $left: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['u']
                                 $param: #List[
                                    $expression: #StringExpr['\\xe3\\x81\\x82']
                                 ]
                              ]
                              $right: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['a']
                                 $param: #List[
                                    $expression: #StringExpr['\\xa1']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_chomp']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['e']
                              $param: #List[
                                 $expression: #StringExpr['\\xa3\\xb0\\xa3\\xb1\\xa3\\xb2\\xa3\\xb3\\xa3\\xb4']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['CompatibilityError']
                              ]
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['chomp']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['s']
                                       $param: #List[
                                          $expression: #StringExpr['\\xa3\\xb4']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_gsub']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #StringExpr['abc']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['s']
                           $recv: #NameExpr['ascii_only?']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['s']
                           $recv: #NameExpr['gsub!']
                           $param: #List[
                              $expression: #Regex['/b/']
                              $expression: #StringExpr['\\x80']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['ascii_only?']
                              ]
                              $expression: #StringExpr['[ruby-core:14566] reported by Sam Ruby']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              $recv: #StringExpr['abc']
                              $recv: #NameExpr['force_encoding']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['Encoding']
                                    $name: #NameExpr['ASCII_8BIT']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['ASCII_8BIT']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['CompatibilityError']
                              ]
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #StringExpr['abc']
                                 $recv: #NameExpr['gsub']
                                 $param: #List[
                                    $expression: #Regex['/[ac]/']
                                 ]
                                 $body: #Block[
                                    $body: #Conditional[
                                       $cond: #EqExpr[
                                          $left: #BuiltInVariable['$&']
                                          $right: #StringExpr['a']
                                       ]
                                       $then: #ApplyExpr[
                                          $recv: #StringExpr['\\xc2\\xa1']
                                          $recv: #NameExpr['force_encoding']
                                          $param: #List[
                                             $expression: #StringExpr['euc-jp']
                                          ]
                                       ]
                                       $else: #ApplyExpr[
                                          $recv: #StringExpr['\\xc2\\xa1']
                                          $recv: #NameExpr['force_encoding']
                                          $param: #List[
                                             $expression: #StringExpr['utf-8']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['e']
                              $param: #List[
                                 $expression: #StringExpr['\\xa3\\xb0\\xa3\\xb1\\xa3\\xb2\\xa3\\xb3\\xa3\\xb4']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['e']
                                 $param: #List[
                                    $expression: #StringExpr['\\xa3\\xb0z\\xa3\\xb2\\xa3\\xb3\\xa3\\xb4']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['gsub']
                                 $param: #List[
                                    $expression: #Regex['/\\xa3\\xb1/e']
                                    $expression: #StringExpr['z']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['ASCII_8BIT']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #StringExpr['']
                                       ]
                                    ]
                                    $recv: #NameExpr['gsub']
                                    $param: #List[
                                       $expression: #Regex['//']
                                    ]
                                    $body: #Block[
                                       $body: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['e']
                                          $param: #List[
                                             $expression: #StringExpr['']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['ASCII_8BIT']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #StringExpr['a']
                                       ]
                                    ]
                                    $recv: #NameExpr['gsub']
                                    $param: #List[
                                       $expression: #Regex['/a/']
                                    ]
                                    $body: #Block[
                                       $body: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['e']
                                          $param: #List[
                                             $expression: #StringExpr['']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_end_with']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['s1']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['s']
                              $param: #List[
                                 $expression: #StringExpr['\\x81\\x40']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s2']
                           $right: #StringExpr['@']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s1']
                                 $recv: #NameExpr['end_with?']
                                 $param: #List[
                                    $expression: #NameExpr['s2']
                                 ]
                              ]
                              $expression: #StringExpr[
                                 $inner: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['encdump']
                                    $param: #List[
                                       $expression: #NameExpr['s1']
                                    ]
                                 ]
                                 $inner: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['encdump']
                                    $param: #List[
                                       $expression: #NameExpr['s2']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['each_encoding']
                           $param: #List[
                              $expression: #StringExpr['\\u3042\\u3044']
                              $expression: #StringExpr['\\u3044']
                           ]
                           $body: #Block[
                              $param: #MultipleLeftHandSideExpression[
                                 $item: #NameExpr['_s1']
                                 $item: #NameExpr['_s2']
                              ]
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #TrueExpr['true']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['_s1']
                                       $recv: #NameExpr['end_with?']
                                       $param: #List[
                                          $expression: #NameExpr['_s2']
                                       ]
                                    ]
                                    $expression: #StringExpr[
                                       $inner: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['encdump']
                                          $param: #List[
                                             $expression: #NameExpr['_s1']
                                          ]
                                       ]
                                       $inner: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['encdump']
                                          $param: #List[
                                             $expression: #NameExpr['_s2']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['each_encoding']
                           $param: #List[
                              $expression: #StringExpr['\\u3042a\\u3044']
                              $expression: #StringExpr['a\\u3044']
                           ]
                           $body: #Block[
                              $param: #MultipleLeftHandSideExpression[
                                 $item: #NameExpr['_s1']
                                 $item: #NameExpr['_s2']
                              ]
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #TrueExpr['true']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['_s1']
                                       $recv: #NameExpr['end_with?']
                                       $param: #List[
                                          $expression: #NameExpr['_s2']
                                       ]
                                    ]
                                    $expression: #StringExpr[
                                       $inner: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['encdump']
                                          $param: #List[
                                             $expression: #NameExpr['_s1']
                                          ]
                                       ]
                                       $inner: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['encdump']
                                          $param: #List[
                                             $expression: #NameExpr['_s2']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_each_line']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['e']
                              $param: #List[
                                 $expression: #StringExpr['\\xa3\\xb0\\xa3\\xb1\\xa3\\xb2\\xa3\\xb3\\xa3\\xb4']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['CompatibilityError']
                              ]
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['each_line']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['a']
                                       $param: #List[
                                          $expression: #StringExpr['\\xa3\\xb1']
                                       ]
                                    ]
                                 ]
                                 $body: #Block[
                                    $param: #NameExpr['l']
                                    $body: #Empty['']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['e']
                              $param: #List[
                                 $expression: #StringExpr['\\xa4\\xa2\\nfoo']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['actual']
                           $right: #Array['[]']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['s']
                           $recv: #NameExpr['each_line']
                           $body: #Block[
                              $param: #NameExpr['line']
                              $body: #LShiftExpr[
                                 $left: #NameExpr['actual']
                                 $right: #NameExpr['line']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['expected']
                           $right: #Array[
                              $index: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['\\xa4\\xa2\\n']
                                    ]
                                 ]
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['foo']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['expected']
                              $expression: #NameExpr['actual']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_each_char']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['a']
                           $right: #Array[
                              $index: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['\\xa4\\xa2']
                                    ]
                                 ]
                                 $expression: #StringExpr['b']
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['\\xa4\\xa4']
                                    ]
                                 ]
                                 $expression: #StringExpr['c']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              $recv: #StringExpr['\\xa4\\xa2b\\xa4\\xa4c']
                              $recv: #NameExpr['force_encoding']
                              $param: #List[
                                 $expression: #StringExpr['euc-jp']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['a']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['s']
                                    $recv: #NameExpr['each_char']
                                 ]
                                 $recv: #NameExpr['to_a']
                              ]
                              $expression: #StringExpr[
                                 $inner: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['encdump']
                                    $param: #List[
                                       $expression: #NameExpr['s']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_str_concat']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #StringExpr['']
                                    $recv: #NameExpr['concat']
                                    $param: #List[
                                       $expression: #HexInteger['0xA2']
                                    ]
                                 ]
                                 $recv: #NameExpr['size']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['ASCII_8BIT']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #StringExpr['']
                                       $recv: #NameExpr['force_encoding']
                                       $param: #List[
                                          $expression: #StringExpr['US-ASCII']
                                       ]
                                    ]
                                    $recv: #NameExpr['concat']
                                    $param: #List[
                                       $expression: #HexInteger['0xA2']
                                    ]
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #StringExpr['A\\x84\\x31\\xA4\\x39']
                                 $recv: #NameExpr['force_encoding']
                                 $param: #List[
                                    $expression: #StringExpr['GB18030']
                                 ]
                              ]
                              $expression: #LShiftExpr[
                                 $left: #ApplyExpr[
                                    $recv: #StringExpr['A']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['GB18030']
                                    ]
                                 ]
                                 $right: #HexInteger['0x8431A439']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_regexp_match']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Array[
                                 $index: #List[
                                    $expression: #IntExpr['0']
                                    $expression: #IntExpr['0']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #Regex['//']
                                    $recv: #NameExpr['match']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          $recv: #StringExpr['\\xa1\\xa1']
                                          $recv: #NameExpr['force_encoding']
                                          $param: #List[
                                             $expression: #StringExpr['euc-jp']
                                          ]
                                       ]
                                       $expression: #MinusExpr[
                                          $expr: #IntExpr['1']
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['offset']
                                 $param: #List[
                                    $expression: #IntExpr['0']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['0']
                              $expression: #Match[
                                 $left: #Regex['//']
                                 $right: #NameExpr['a']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_split']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['\\xa1\\xa2\\xa1\\xa3']
                                    ]
                                 ]
                                 $recv: #NameExpr['split']
                                 $param: #List[
                                    $expression: #Regex['//']
                                 ]
                              ]
                              $expression: #Array[
                                 $index: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #StringExpr['\\xa1\\xa2']
                                       ]
                                    ]
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #StringExpr['\\xa1\\xa3']
                                       ]
                                    ]
                                 ]
                              ]
                              $expression: #StringExpr['[ruby-dev:32452]']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['each_encoding']
                           $param: #List[
                              $expression: #StringExpr['abc,def']
                              $expression: #StringExpr[',']
                              $expression: #StringExpr['abc']
                              $expression: #StringExpr['def']
                           ]
                           $body: #Block[
                              $param: #MultipleLeftHandSideExpression[
                                 $item: #NameExpr['str']
                                 $item: #NameExpr['sep']
                                 $item: #Variadic[
                                    $item: #NameExpr['expected']
                                 ]
                              ]
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #NameExpr['expected']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['str']
                                       $recv: #NameExpr['split']
                                       $param: #List[
                                          $expression: #NameExpr['sep']
                                          $expression: #MinusExpr[
                                             $expr: #IntExpr['1']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['each_encoding']
                           $param: #List[
                              $expression: #StringExpr['abc\\0def']
                              $expression: #StringExpr['\\0']
                              $expression: #StringExpr['abc']
                              $expression: #StringExpr['def']
                           ]
                           $body: #Block[
                              $param: #MultipleLeftHandSideExpression[
                                 $item: #NameExpr['str']
                                 $item: #NameExpr['sep']
                                 $item: #Variadic[
                                    $item: #NameExpr['expected']
                                 ]
                              ]
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #NameExpr['expected']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['str']
                                       $recv: #NameExpr['split']
                                       $param: #List[
                                          $expression: #NameExpr['sep']
                                          $expression: #MinusExpr[
                                             $expr: #IntExpr['1']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_nonascii_method_name']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['eval']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['e']
                                 $param: #List[
                                    $expression: #StringExpr['def \\xc2\\xa1() @nonascii_method_name = :e end']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['eval']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['u']
                                 $param: #List[
                                    $expression: #StringExpr['def \\xc2\\xa1() @nonascii_method_name = :u end']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['eval']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['e']
                                 $param: #List[
                                    $expression: #StringExpr['\\xc2\\xa1()']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['e']
                              $expression: #NameExpr['@nonascii_method_name']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['eval']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['u']
                                 $param: #List[
                                    $expression: #StringExpr['\\xc2\\xa1()']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['u']
                              $expression: #NameExpr['@nonascii_method_name']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['me']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['method']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['mu']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['method']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xc2\\xa1']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_not_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['me']
                                 $recv: #NameExpr['name']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['mu']
                                 $recv: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_not_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['me']
                                 $recv: #NameExpr['inspect']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['mu']
                                 $recv: #NameExpr['inspect']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['e']
                                 $param: #List[
                                    $expression: #StringExpr['\\xc2\\xa1']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['me']
                                    $recv: #NameExpr['name']
                                 ]
                                 $recv: #NameExpr['to_s']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['u']
                                 $param: #List[
                                    $expression: #StringExpr['\\xc2\\xa1']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['mu']
                                    $recv: #NameExpr['name']
                                 ]
                                 $recv: #NameExpr['to_s']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_symbol']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['s1']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #StringExpr['\\xc2\\xa1']
                                 $recv: #NameExpr['force_encoding']
                                 $param: #List[
                                    $expression: #StringExpr['euc-jp']
                                 ]
                              ]
                              $recv: #NameExpr['intern']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s2']
                           $right: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #StringExpr['\\xc2\\xa1']
                                 $recv: #NameExpr['force_encoding']
                                 $param: #List[
                                    $expression: #StringExpr['utf-8']
                                 ]
                              ]
                              $recv: #NameExpr['intern']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_not_equal']
                           $param: #List[
                              $expression: #NameExpr['s1']
                              $expression: #NameExpr['s2']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_symbol_op']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['ops']
                           $right: #ParcentNotation['%w"\n      .. ... + - * / % ** +@ -@ | ^ & ! <=> > >= < <= ==\n      === != =~ !~ ~ ! [] []= << >> :: `\n    "']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['ops']
                           $recv: #NameExpr['each']
                           $body: #Block[
                              $param: #NameExpr['op']
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #Field[
                                       $recv: #NameExpr['Encoding']
                                       $name: #NameExpr['US_ASCII']
                                    ]
                                    $expression: #ApplyExpr[
                                       $recv: #ApplyExpr[
                                          $recv: #NameExpr['op']
                                          $recv: #NameExpr['intern']
                                       ]
                                       $recv: #NameExpr['encoding']
                                    ]
                                    $expression: #StringExpr['[ruby-dev:33449]']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_chr']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           $recv: #IntExpr['0']
                           $recv: #NameExpr['upto']
                           $param: #List[
                              $expression: #IntExpr['255']
                           ]
                           $body: #Block[
                              $param: #NameExpr['b']
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #Array[
                                          $index: #List[
                                             $expression: #NameExpr['b']
                                          ]
                                       ]
                                       $recv: #NameExpr['pack']
                                       $param: #List[
                                          $expression: #StringExpr['C']
                                       ]
                                    ]
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['b']
                                       $recv: #NameExpr['chr']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #StringExpr['\\x84\\x31\\xA4\\x39']
                                 $recv: #NameExpr['force_encoding']
                                 $param: #List[
                                    $expression: #StringExpr['GB18030']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #HexInteger['0x8431A439']
                                 $recv: #NameExpr['chr']
                                 $param: #List[
                                    $expression: #StringExpr['GB18030']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['e']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['assert_raise']
                              $param: #List[
                                 $expression: #NameExpr['RangeError']
                              ]
                              $body: #Block[
                                 $body: #ApplyExpr[
                                    $recv: #IntExpr['2206368128']
                                    $recv: #NameExpr['chr']
                                    $param: #List[
                                       $expression: #Field[
                                          $recv: #NameExpr['Encoding']
                                          $name: #NameExpr['UTF_8']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_not_match']
                           $param: #List[
                              $expression: #Regex['/-\\d+ out of char range/']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['e']
                                 $recv: #NameExpr['message']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['RangeError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #HexInteger['0x80']
                                 $recv: #NameExpr['chr']
                                 $param: #List[
                                    $expression: #StringExpr['US-ASCII']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['RangeError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #HexInteger['0x80']
                                 $recv: #NameExpr['chr']
                                 $param: #List[
                                    $expression: #StringExpr['SHIFT_JIS']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['RangeError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #HexInteger['0xE0']
                                 $recv: #NameExpr['chr']
                                 $param: #List[
                                    $expression: #StringExpr['SHIFT_JIS']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['RangeError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #HexInteger['0x100']
                                 $recv: #NameExpr['chr']
                                 $param: #List[
                                    $expression: #StringExpr['SHIFT_JIS']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['RangeError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #HexInteger['0xA0']
                                 $recv: #NameExpr['chr']
                                 $param: #List[
                                    $expression: #StringExpr['EUC-JP']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['RangeError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #HexInteger['0x100']
                                 $recv: #NameExpr['chr']
                                 $param: #List[
                                    $expression: #StringExpr['EUC-JP']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['RangeError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #HexInteger['0xA1A0']
                                 $recv: #NameExpr['chr']
                                 $param: #List[
                                    $expression: #StringExpr['EUC-JP']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_marshal']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['s1']
                           $right: #ApplyExpr[
                              $recv: #StringExpr['\\xa1\\xa1']
                              $recv: #NameExpr['force_encoding']
                              $param: #List[
                                 $expression: #StringExpr['euc-jp']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s2']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Marshal']
                              $recv: #NameExpr['load']
                              $param: #List[
                                 $expression: #ApplyExpr[
                                    $recv: #NameExpr['Marshal']
                                    $recv: #NameExpr['dump']
                                    $param: #List[
                                       $expression: #NameExpr['s1']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['s1']
                              $expression: #NameExpr['s2']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_env']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['locale_encoding']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Encoding']
                              $recv: #NameExpr['find']
                              $param: #List[
                                 $expression: #StringExpr['locale']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['ENV']
                           $recv: #NameExpr['each']
                           $body: #Block[
                              $param: #MultipleLeftHandSideExpression[
                                 $item: #NameExpr['k']
                                 $item: #NameExpr['v']
                              ]
                              $body: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #NameExpr['locale_encoding']
                                       $expression: #ApplyExpr[
                                          $recv: #NameExpr['k']
                                          $recv: #NameExpr['encoding']
                                       ]
                                       $expression: #NameExpr['k']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_equal']
                                    $param: #List[
                                       $expression: #NameExpr['locale_encoding']
                                       $expression: #ApplyExpr[
                                          $recv: #NameExpr['v']
                                          $recv: #NameExpr['encoding']
                                       ]
                                       $expression: #NameExpr['v']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_empty_string']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['assert_equal']
                        $param: #List[
                           $expression: #Field[
                              $recv: #NameExpr['Encoding']
                              $name: #NameExpr['US_ASCII']
                           ]
                           $expression: #ApplyExpr[
                              $recv: #StringExpr['']
                              $recv: #NameExpr['encoding']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_nil_to_s']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['assert_equal']
                        $param: #List[
                           $expression: #Field[
                              $recv: #NameExpr['Encoding']
                              $name: #NameExpr['US_ASCII']
                           ]
                           $expression: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #Nil['nil']
                                 $recv: #NameExpr['to_s']
                              ]
                              $recv: #NameExpr['encoding']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_nil_inspect']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['assert_equal']
                        $param: #List[
                           $expression: #Field[
                              $recv: #NameExpr['Encoding']
                              $name: #NameExpr['US_ASCII']
                           ]
                           $expression: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #Nil['nil']
                                 $recv: #NameExpr['inspect']
                              ]
                              $recv: #NameExpr['encoding']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_true_to_s']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['assert_equal']
                        $param: #List[
                           $expression: #Field[
                              $recv: #NameExpr['Encoding']
                              $name: #NameExpr['US_ASCII']
                           ]
                           $expression: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #TrueExpr['true']
                                 $recv: #NameExpr['to_s']
                              ]
                              $recv: #NameExpr['encoding']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_false_to_s']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['assert_equal']
                        $param: #List[
                           $expression: #Field[
                              $recv: #NameExpr['Encoding']
                              $name: #NameExpr['US_ASCII']
                           ]
                           $expression: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #FalseExpr['false']
                                 $recv: #NameExpr['to_s']
                              ]
                              $recv: #NameExpr['encoding']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_fixnum_to_s']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['assert_equal']
                        $param: #List[
                           $expression: #Field[
                              $recv: #NameExpr['Encoding']
                              $name: #NameExpr['US_ASCII']
                           ]
                           $expression: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #IntExpr['1']
                                 $recv: #NameExpr['to_s']
                              ]
                              $recv: #NameExpr['encoding']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_float_to_s']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['assert_equal']
                        $param: #List[
                           $expression: #Field[
                              $recv: #NameExpr['Encoding']
                              $name: #NameExpr['US_ASCII']
                           ]
                           $expression: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #FloatExpr['1.0']
                                 $recv: #NameExpr['to_s']
                              ]
                              $recv: #NameExpr['encoding']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_bignum_to_s']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['assert_equal']
                        $param: #List[
                           $expression: #Field[
                              $recv: #NameExpr['Encoding']
                              $name: #NameExpr['US_ASCII']
                           ]
                           $expression: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #LShiftExpr[
                                    $left: #IntExpr['1']
                                    $right: #IntExpr['129']
                                 ]
                                 $recv: #NameExpr['to_s']
                              ]
                              $recv: #NameExpr['encoding']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_array_to_s']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['US_ASCII']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #Array['[]']
                                    $recv: #NameExpr['to_s']
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['US_ASCII']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #Array[
                                       $index: #List[
                                          $expression: #Nil['nil']
                                       ]
                                    ]
                                    $recv: #NameExpr['to_s']
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['US_ASCII']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #Array[
                                       $index: #List[
                                          $expression: #IntExpr['1']
                                       ]
                                    ]
                                    $recv: #NameExpr['to_s']
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #StringExpr['']
                                    $recv: #NameExpr['inspect']
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #Array[
                                       $index: #List[
                                          $expression: #StringExpr['']
                                       ]
                                    ]
                                    $recv: #NameExpr['to_s']
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #StringExpr['a']
                                    $recv: #NameExpr['inspect']
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #Array[
                                       $index: #List[
                                          $expression: #StringExpr['a']
                                       ]
                                    ]
                                    $recv: #NameExpr['to_s']
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['US_ASCII']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #Array[
                                       $index: #List[
                                          $expression: #Nil['nil']
                                          $expression: #IntExpr['1']
                                          $expression: #StringExpr['']
                                          $expression: #StringExpr['a']
                                          $expression: #StringExpr['\\x20']
                                          $expression: #Array['[]']
                                       ]
                                    ]
                                    $recv: #NameExpr['to_s']
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_hash_to_s']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['US_ASCII']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #List['{}']
                                    $recv: #NameExpr['to_s']
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['US_ASCII']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #List[
                                       $hash: #Hash[
                                          $key: #IntExpr['1']
                                          $value: #Nil['nil']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['foo']
                                          $value: #StringExpr['']
                                       ]
                                    ]
                                    $recv: #NameExpr['to_s']
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_encoding_find']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['TypeError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #NameExpr['Encoding']
                                 $recv: #NameExpr['find']
                                 $param: #List[
                                    $expression: #Nil['nil']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['TypeError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #NameExpr['Encoding']
                                 $recv: #NameExpr['find']
                                 $param: #List[
                                    $expression: #IntExpr['0']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['TypeError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #NameExpr['Encoding']
                                 $recv: #NameExpr['find']
                                 $param: #List[
                                    $expression: #Array['[]']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['TypeError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #NameExpr['Encoding']
                                 $recv: #NameExpr['find']
                                 $param: #List[
                                    $expression: #List['{}']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_encoding_to_s']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['US_ASCII']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #Field[
                                       $recv: #NameExpr['Encoding']
                                       $name: #NameExpr['US_ASCII']
                                    ]
                                    $recv: #NameExpr['to_s']
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['US_ASCII']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #Field[
                                       $recv: #NameExpr['Encoding']
                                       $name: #NameExpr['US_ASCII']
                                    ]
                                    $recv: #NameExpr['inspect']
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_regexp_source']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              $recv: #StringExpr['\\xa4\\xa2']
                              $recv: #NameExpr['force_encoding']
                              $param: #List[
                                 $expression: #StringExpr['euc-jp']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['r']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['Regexp']
                              $recv: #NameExpr['new']
                              $param: #List[
                                 $expression: #NameExpr['s']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['t']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['r']
                              $recv: #NameExpr['source']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['s']
                              $expression: #NameExpr['t']
                              $expression: #StringExpr[
                                 $inner: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['encdump']
                                    $param: #List[
                                       $expression: #NameExpr['s']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_magic_comment']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['US_ASCII']
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #StringExpr['__ENCODING__']
                                       $recv: #NameExpr['force_encoding']
                                       $param: #List[
                                          $expression: #StringExpr['US-ASCII']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['ASCII_8BIT']
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #StringExpr['__ENCODING__']
                                       $recv: #NameExpr['force_encoding']
                                       $param: #List[
                                          $expression: #StringExpr['ASCII-8BIT']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['US_ASCII']
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #StringExpr['# -*- encoding: US-ASCII -*-\\n__ENCODING__']
                                       $recv: #NameExpr['force_encoding']
                                       $param: #List[
                                          $expression: #StringExpr['ASCII-8BIT']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['ASCII_8BIT']
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #StringExpr['# -*- encoding: ASCII-8BIT -*-\\n__ENCODING__']
                                       $recv: #NameExpr['force_encoding']
                                       $param: #List[
                                          $expression: #StringExpr['US-ASCII']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_magic_comment_vim']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['US_ASCII']
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #StringExpr['# vim: filetype=ruby, fileencoding: US-ASCII, ts=3, sw=3\\n__ENCODING__']
                                       $recv: #NameExpr['force_encoding']
                                       $param: #List[
                                          $expression: #StringExpr['ASCII-8BIT']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['ASCII_8BIT']
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #StringExpr['# vim: filetype=ruby, fileencoding: ASCII-8BIT, ts=3, sw=3\\n__ENCODING__']
                                       $recv: #NameExpr['force_encoding']
                                       $param: #List[
                                          $expression: #StringExpr['US-ASCII']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_magic_comment_at_various_positions']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['US_ASCII']
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #StringExpr['#!/usr/bin/ruby\\n# -*- encoding: US-ASCII -*-\\n__ENCODING__']
                                       $recv: #NameExpr['force_encoding']
                                       $param: #List[
                                          $expression: #StringExpr['ASCII-8BIT']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['ASCII_8BIT']
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #StringExpr['#!/usr/bin/ruby\\n# -*- encoding: ASCII-8BIT -*-\\n__ENCODING__']
                                       $recv: #NameExpr['force_encoding']
                                       $param: #List[
                                          $expression: #StringExpr['US-ASCII']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['ASCII_8BIT']
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #StringExpr['\\n# -*- encoding: US-ASCII -*-\\n__ENCODING__']
                                       $recv: #NameExpr['force_encoding']
                                       $param: #List[
                                          $expression: #StringExpr['ASCII-8BIT']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['US_ASCII']
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #StringExpr['\\n# -*- encoding: ASCII-8BIT -*-\\n__ENCODING__']
                                       $recv: #NameExpr['force_encoding']
                                       $param: #List[
                                          $expression: #StringExpr['US-ASCII']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['ASCII_8BIT']
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #StringExpr['v=1 # -*- encoding: US-ASCII -*-\\n__ENCODING__']
                                       $recv: #NameExpr['force_encoding']
                                       $param: #List[
                                          $expression: #StringExpr['ASCII-8BIT']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['US_ASCII']
                              ]
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['eval']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #StringExpr['v=1 # -*- encoding: ASCII-8BIT -*-\\n__ENCODING__']
                                       $recv: #NameExpr['force_encoding']
                                       $param: #List[
                                          $expression: #StringExpr['US-ASCII']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_regexp_usascii']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_usascii_literal']
                           $param: #List[
                              $expression: #StringExpr['//']
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['US_ASCII']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_usascii_literal']
                           $param: #List[
                              $expression: #StringExpr['/#{ }/']
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['US_ASCII']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_usascii_literal']
                           $param: #List[
                              $expression: #StringExpr['/#{"a"}/']
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['US_ASCII']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_usascii_literal']
                           $param: #List[
                              $expression: #StringExpr['/#{%q"\\x80"}/']
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['ASCII_8BIT']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_usascii_literal']
                           $param: #List[
                              $expression: #StringExpr['/#{"\\x80"}/']
                              $expression: #Nil['nil']
                              $expression: #NameExpr['SyntaxError']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_usascii_literal']
                           $param: #List[
                              $expression: #StringExpr['/a/']
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['US_ASCII']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_usascii_literal']
                           $param: #List[
                              $expression: #StringExpr['/a#{ }/']
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['US_ASCII']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_usascii_literal']
                           $param: #List[
                              $expression: #StringExpr['/a#{"a"}/']
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['US_ASCII']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_usascii_literal']
                           $param: #List[
                              $expression: #StringExpr['/a#{%q"\\x80"}/']
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['ASCII_8BIT']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_usascii_literal']
                           $param: #List[
                              $expression: #StringExpr['/a#{"\\x80"}/']
                              $expression: #Nil['nil']
                              $expression: #NameExpr['SyntaxError']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_usascii_literal']
                           $param: #List[
                              $expression: #StringExpr['/\\x80/']
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['ASCII_8BIT']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_usascii_literal']
                           $param: #List[
                              $expression: #StringExpr['/\\x80#{ }/']
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['ASCII_8BIT']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_usascii_literal']
                           $param: #List[
                              $expression: #StringExpr['/\\x80#{"a"}/']
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['ASCII_8BIT']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_usascii_literal']
                           $param: #List[
                              $expression: #StringExpr['/\\x80#{%q"\\x80"}/']
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['ASCII_8BIT']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_usascii_literal']
                           $param: #List[
                              $expression: #StringExpr['/\\x80#{"\\x80"}/']
                              $expression: #Nil['nil']
                              $expression: #NameExpr['SyntaxError']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_usascii_literal']
                           $param: #List[
                              $expression: #StringExpr['/\\u1234/']
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['UTF_8']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_usascii_literal']
                           $param: #List[
                              $expression: #StringExpr['/\\u1234#{ }/']
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['UTF_8']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_usascii_literal']
                           $param: #List[
                              $expression: #StringExpr['/\\u1234#{"a"}/']
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['UTF_8']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_usascii_literal']
                           $param: #List[
                              $expression: #StringExpr['/\\u1234#{%q"\\x80"}/']
                              $expression: #Nil['nil']
                              $expression: #NameExpr['SyntaxError']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_usascii_literal']
                           $param: #List[
                              $expression: #StringExpr['/\\u1234#{"\\x80"}/']
                              $expression: #Nil['nil']
                              $expression: #NameExpr['SyntaxError']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_usascii_literal']
                           $param: #List[
                              $expression: #StringExpr['/\\u1234\\x80/']
                              $expression: #Nil['nil']
                              $expression: #NameExpr['SyntaxError']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_regexp_usascii_literal']
                           $param: #List[
                              $expression: #StringExpr['/\\u1234#{ }\\x80/']
                              $expression: #Nil['nil']
                              $expression: #NameExpr['RegexpError']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_gbk']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['assert_equal']
                        $param: #List[
                           $expression: #StringExpr['']
                           $expression: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #StringExpr['\\x81\\x40']
                                 $recv: #NameExpr['force_encoding']
                                 $param: #List[
                                    $expression: #StringExpr['GBK']
                                 ]
                              ]
                              $recv: #NameExpr['chop']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_euc_tw']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['assert_equal']
                        $param: #List[
                           $expression: #StringExpr['a']
                           $expression: #ApplyExpr[
                              $recv: #ApplyExpr[
                                 $recv: #StringExpr['a\\x8e\\xa2\\xa1\\xa1']
                                 $recv: #NameExpr['force_encoding']
                                 $param: #List[
                                    $expression: #StringExpr['euc-tw']
                                 ]
                              ]
                              $recv: #NameExpr['chop']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_valid_encoding']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              $recv: #StringExpr['\\xa1']
                              $recv: #NameExpr['force_encoding']
                              $param: #List[
                                 $expression: #StringExpr['euc-jp']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['valid_encoding?']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #TrueExpr['true']
                              $expression: #ApplyExpr[
                                 $recv: #AddExpr[
                                    $left: #NameExpr['s']
                                    $right: #NameExpr['s']
                                 ]
                                 $recv: #NameExpr['valid_encoding?']
                              ]
                              $expression: #StringExpr['[ruby-dev:33826]']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #TrueExpr['true']
                              $expression: #ApplyExpr[
                                 $recv: #MulExpr[
                                    $left: #NameExpr['s']
                                    $right: #IntExpr['2']
                                 ]
                                 $recv: #NameExpr['valid_encoding?']
                              ]
                              $expression: #StringExpr['[ruby-dev:33826]']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #TrueExpr['true']
                              $expression: #ApplyExpr[
                                 $recv: #ModExpr[
                                    $left: #StringExpr['%s%s']
                                    $right: #Array[
                                       $index: #List[
                                          $expression: #NameExpr['s']
                                          $expression: #NameExpr['s']
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['valid_encoding?']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #TrueExpr['true']
                              $expression: #ApplyExpr[
                                 $recv: #LShiftExpr[
                                    $left: #ApplyExpr[
                                       $recv: #NameExpr['s']
                                       $recv: #NameExpr['dup']
                                    ]
                                    $right: #NameExpr['s']
                                 ]
                                 $recv: #NameExpr['valid_encoding?']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #TrueExpr['true']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #StringExpr['']
                                    $recv: #NameExpr['center']
                                    $param: #List[
                                       $expression: #IntExpr['2']
                                       $expression: #NameExpr['s']
                                    ]
                                 ]
                                 $recv: #NameExpr['valid_encoding?']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              $recv: #StringExpr['\\xa1\\xa1\\x8f']
                              $recv: #NameExpr['force_encoding']
                              $param: #List[
                                 $expression: #StringExpr['euc-jp']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['valid_encoding?']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #TrueExpr['true']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['s']
                                    $recv: #NameExpr['reverse']
                                 ]
                                 $recv: #NameExpr['valid_encoding?']
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['bug4018']
                           $right: #StringExpr['[ruby-core:33027]']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              $recv: #StringExpr['\\xa1\\xa1']
                              $recv: #NameExpr['force_encoding']
                              $param: #List[
                                 $expression: #StringExpr['euc-jp']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #TrueExpr['true']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['valid_encoding?']
                              ]
                           ]
                        ]
                        $statement: #LShiftExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              $recv: #StringExpr['\\x8f']
                              $recv: #NameExpr['force_encoding']
                              $param: #List[
                                 $expression: #StringExpr['euc-jp']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['valid_encoding?']
                              ]
                              $expression: #NameExpr['bug4018']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              $recv: #StringExpr['aa']
                              $recv: #NameExpr['force_encoding']
                              $param: #List[
                                 $expression: #StringExpr['utf-16be']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #TrueExpr['true']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['valid_encoding?']
                              ]
                           ]
                        ]
                        $statement: #LShiftExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              $recv: #StringExpr['\\xff']
                              $recv: #NameExpr['force_encoding']
                              $param: #List[
                                 $expression: #StringExpr['utf-16be']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['valid_encoding?']
                              ]
                              $expression: #NameExpr['bug4018']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['bug6190']
                           $right: #StringExpr['[ruby-core:43557]']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #StringExpr['\\xe9']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['s']
                              $recv: #NameExpr['encode']
                              $param: #List[
                                 $expression: #StringExpr['utf-8']
                                 $expression: #StringExpr['utf-8']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['valid_encoding?']
                              ]
                              $expression: #NameExpr['bug6190']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #StringExpr['\\xe9']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['s']
                           $recv: #NameExpr['encode!']
                           $param: #List[
                              $expression: #StringExpr['utf-8']
                              $expression: #StringExpr['utf-8']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #FalseExpr['false']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['valid_encoding?']
                              ]
                              $expression: #NameExpr['bug6190']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_getbyte']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #HexInteger['0x82']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xE3\\x81\\x82\\xE3\\x81\\x84']
                                    ]
                                 ]
                                 $recv: #NameExpr['getbyte']
                                 $param: #List[
                                    $expression: #IntExpr['2']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #HexInteger['0x82']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xE3\\x81\\x82\\xE3\\x81\\x84']
                                    ]
                                 ]
                                 $recv: #NameExpr['getbyte']
                                 $param: #List[
                                    $expression: #MinusExpr[
                                       $expr: #IntExpr['4']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nil']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xE3\\x81\\x82\\xE3\\x81\\x84']
                                    ]
                                 ]
                                 $recv: #NameExpr['getbyte']
                                 $param: #List[
                                    $expression: #IntExpr['100']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_setbyte']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['u']
                              $param: #List[
                                 $expression: #StringExpr['\\xE3\\x81\\x82\\xE3\\x81\\x84']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['s']
                           $recv: #NameExpr['setbyte']
                           $param: #List[
                              $expression: #IntExpr['2']
                              $expression: #HexInteger['0x84']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['u']
                                 $param: #List[
                                    $expression: #StringExpr['\\xE3\\x81\\x84\\xE3\\x81\\x84']
                                 ]
                              ]
                              $expression: #NameExpr['s']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['u']
                              $param: #List[
                                 $expression: #StringExpr['\\xE3\\x81\\x82\\xE3\\x81\\x84']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['IndexError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['setbyte']
                                 $param: #List[
                                    $expression: #IntExpr['100']
                                    $expression: #IntExpr['0']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['u']
                              $param: #List[
                                 $expression: #StringExpr['\\xE3\\x81\\x82\\xE3\\x81\\x84']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['s']
                           $recv: #NameExpr['setbyte']
                           $param: #List[
                              $expression: #MinusExpr[
                                 $expr: #IntExpr['4']
                              ]
                              $expression: #HexInteger['0x84']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['u']
                                 $param: #List[
                                    $expression: #StringExpr['\\xE3\\x81\\x84\\xE3\\x81\\x84']
                                 ]
                              ]
                              $expression: #NameExpr['s']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['x']
                           $right: #MulExpr[
                              $left: #StringExpr['x']
                              $right: #IntExpr['100']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['t']
                           $right: #Nil['nil']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['failure']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['proc']
                              $body: #Block[
                                 $body: #StringExpr[
                                    $inner: #NameExpr['i']
                                    $inner: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['encdump']
                                       $param: #List[
                                          $expression: #NameExpr['t']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #StringExpr['\\u{3042 3044}']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #ApplyExpr[
                              $recv: #NameExpr['s']
                              $recv: #NameExpr['bytesize']
                           ]
                           $recv: #NameExpr['times']
                           $body: #Block[
                              $param: #NameExpr['i']
                              $body: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['t']
                                    $right: #AddExpr[
                                       $left: #NameExpr['s']
                                       $right: #NameExpr['x']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['t']
                                    $recv: #NameExpr['setbyte']
                                    $param: #List[
                                       $expression: #NameExpr['i']
                                       $expression: #AddExpr[
                                          $left: #ApplyExpr[
                                             $recv: #NameExpr['t']
                                             $recv: #NameExpr['getbyte']
                                             $param: #List[
                                                $expression: #NameExpr['i']
                                             ]
                                          ]
                                          $right: #IntExpr['1']
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_predicate']
                                    $param: #List[
                                       $expression: #NameExpr['t']
                                       $expression: #NameExpr['valid_encoding?']
                                       $expression: #NameExpr['failure']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_not_predicate']
                                    $param: #List[
                                       $expression: #NameExpr['t']
                                       $expression: #NameExpr['ascii_only?']
                                       $expression: #NameExpr['failure']
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['t']
                                    $right: #AddExpr[
                                       $left: #NameExpr['s']
                                       $right: #NameExpr['x']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['t']
                                    $recv: #NameExpr['setbyte']
                                    $param: #List[
                                       $expression: #NameExpr['i']
                                       $expression: #HexInteger['0x20']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_not_predicate']
                                    $param: #List[
                                       $expression: #NameExpr['t']
                                       $expression: #NameExpr['valid_encoding?']
                                       $expression: #NameExpr['failure']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #StringExpr['\\u{41 42 43}']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #ApplyExpr[
                              $recv: #NameExpr['s']
                              $recv: #NameExpr['bytesize']
                           ]
                           $recv: #NameExpr['times']
                           $body: #Block[
                              $param: #NameExpr['i']
                              $body: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['t']
                                    $right: #AddExpr[
                                       $left: #NameExpr['s']
                                       $right: #NameExpr['x']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['t']
                                    $recv: #NameExpr['setbyte']
                                    $param: #List[
                                       $expression: #NameExpr['i']
                                       $expression: #HexInteger['0x20']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_predicate']
                                    $param: #List[
                                       $expression: #NameExpr['t']
                                       $expression: #NameExpr['valid_encoding?']
                                       $expression: #NameExpr['failure']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_predicate']
                                    $param: #List[
                                       $expression: #NameExpr['t']
                                       $expression: #NameExpr['ascii_only?']
                                       $expression: #NameExpr['failure']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['t']
                                    $recv: #NameExpr['setbyte']
                                    $param: #List[
                                       $expression: #NameExpr['i']
                                       $expression: #HexInteger['0xe3']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['assert_not_predicate']
                                    $param: #List[
                                       $expression: #NameExpr['t']
                                       $expression: #NameExpr['valid_encoding?']
                                       $expression: #NameExpr['failure']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_compatible']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nil']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Encoding']
                                 $recv: #NameExpr['compatible?']
                                 $param: #List[
                                    $expression: #StringExpr['']
                                    $expression: #IntExpr['0']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['UTF_8']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Encoding']
                                 $recv: #NameExpr['compatible?']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['u']
                                       $param: #List[
                                          $expression: #StringExpr['']
                                       ]
                                    ]
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['ua']
                                       $param: #List[
                                          $expression: #StringExpr['abc']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['UTF_8']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Encoding']
                                 $recv: #NameExpr['compatible?']
                                 $param: #List[
                                    $expression: #Field[
                                       $recv: #NameExpr['Encoding']
                                       $name: #NameExpr['UTF_8']
                                    ]
                                    $expression: #Field[
                                       $recv: #NameExpr['Encoding']
                                       $name: #NameExpr['UTF_8']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['UTF_8']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Encoding']
                                 $recv: #NameExpr['compatible?']
                                 $param: #List[
                                    $expression: #Field[
                                       $recv: #NameExpr['Encoding']
                                       $name: #NameExpr['UTF_8']
                                    ]
                                    $expression: #Field[
                                       $recv: #NameExpr['Encoding']
                                       $name: #NameExpr['US_ASCII']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['ASCII_8BIT']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Encoding']
                                 $recv: #NameExpr['compatible?']
                                 $param: #List[
                                    $expression: #Field[
                                       $recv: #NameExpr['Encoding']
                                       $name: #NameExpr['ASCII_8BIT']
                                    ]
                                    $expression: #Field[
                                       $recv: #NameExpr['Encoding']
                                       $name: #NameExpr['US_ASCII']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nil']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Encoding']
                                 $recv: #NameExpr['compatible?']
                                 $param: #List[
                                    $expression: #Field[
                                       $recv: #NameExpr['Encoding']
                                       $name: #NameExpr['UTF_8']
                                    ]
                                    $expression: #Field[
                                       $recv: #NameExpr['Encoding']
                                       $name: #NameExpr['ASCII_8BIT']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_force_encoding']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['u']
                                 $param: #List[
                                    $expression: #StringExpr['\\x80']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #StringExpr['']
                                 $recv: #NameExpr['center']
                                 $param: #List[
                                    $expression: #IntExpr['1']
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['u']
                                       $param: #List[
                                          $expression: #StringExpr['\\x80']
                                       ]
                                    ]
                                 ]
                              ]
                              $expression: #StringExpr['moved from btest/knownbug, [ruby-dev:33807]']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['a']
                           $right: #LShiftExpr[
                              $left: #LShiftExpr[
                                 $left: #ApplyExpr[
                                    $recv: #StringExpr['']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['ascii-8bit']
                                    ]
                                 ]
                                 $right: #HexInteger['0xC3']
                              ]
                              $right: #HexInteger['0xB6']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['a']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['utf-8']
                                    ]
                                 ]
                                 $recv: #NameExpr['size']
                              ]
                              $expression: #StringExpr['[ruby-core:22437]']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['b']
                           $right: #LShiftExpr[
                              $left: #LShiftExpr[
                                 $left: #ApplyExpr[
                                    $recv: #StringExpr['']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['ascii-8bit']
                                    ]
                                 ]
                                 $right: #ApplyExpr[
                                    $recv: #HexInteger['0xC3']
                                    $recv: #NameExpr['chr']
                                 ]
                              ]
                              $right: #ApplyExpr[
                                 $recv: #HexInteger['0xB6']
                                 $recv: #NameExpr['chr']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #IntExpr['1']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['b']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['utf-8']
                                    ]
                                 ]
                                 $recv: #NameExpr['size']
                              ]
                              $expression: #StringExpr['[ruby-core:22437]']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['TypeError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #StringExpr['']
                                 $recv: #NameExpr['force_encoding']
                                 $param: #List[
                                    $expression: #Nil['nil']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_combchar_codepoint']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Array[
                                 $index: #List[
                                    $expression: #HexInteger['0x30BB']
                                    $expression: #HexInteger['0x309A']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #StringExpr['\\u30BB\\u309A']
                                    $recv: #NameExpr['codepoints']
                                 ]
                                 $recv: #NameExpr['to_a']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Array[
                                 $index: #List[
                                    $expression: #HexInteger['0x30BB']
                                    $expression: #HexInteger['0x309A']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #StringExpr['\\u30BB\\u309A']
                                    $recv: #NameExpr['codepoints']
                                 ]
                                 $recv: #NameExpr['to_a']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['each_encoding']
                  $param: #List[
                     $param: #VariadicParam[
                        $name: #NameExpr['strings']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $recv: #ApplyExpr[
                           $recv: #NameExpr['Encoding']
                           $recv: #NameExpr['list']
                        ]
                        $recv: #NameExpr['each']
                        $body: #Block[
                           $param: #NameExpr['enc']
                           $body: #List[
                              $statement: #IfExpr[
                                 $then: #Next['next']
                                 $cond: #ApplyExpr[
                                    $recv: #NameExpr['enc']
                                    $recv: #NameExpr['dummy?']
                                 ]
                              ]
                              $statement: #Rescue[
                                 $body: #AssignExpr[
                                    $left: #NameExpr['strs']
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['strings']
                                       $recv: #NameExpr['map']
                                       $body: #Block[
                                          $param: #NameExpr['s']
                                          $body: #ApplyExpr[
                                             $recv: #NameExpr['s']
                                             $recv: #NameExpr['encode']
                                             $param: #List[
                                                $expression: #NameExpr['enc']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $rescue: #Next['next']
                              ]
                              $statement: #Yield[
                                 $param: #List[
                                    $variadic: #Variadic[
                                       $base: #NameExpr['strs']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_str_b']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #StringExpr['\\u3042']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['a']
                                 $param: #List[
                                    $expression: #StringExpr['\\xE3\\x81\\x82']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['b']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['ASCII_8BIT']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['s']
                                    $recv: #NameExpr['b']
                                 ]
                                 $recv: #NameExpr['encoding']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['s']
                           $recv: #NameExpr['taint']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_predicate']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['b']
                              ]
                              $expression: #NameExpr['tainted?']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              $recv: #StringExpr['abc']
                              $recv: #NameExpr['b']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_predicate']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['b']
                              ]
                              $expression: #NameExpr['ascii_only?']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_scrub_valid_string']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['str']
                           $right: #StringExpr['foo']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['str']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['str']
                                 $recv: #NameExpr['scrub']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_not_same']
                           $param: #List[
                              $expression: #NameExpr['str']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['str']
                                 $recv: #NameExpr['scrub']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_predicate']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['str']
                                       $recv: #NameExpr['dup']
                                    ]
                                    $recv: #NameExpr['taint']
                                 ]
                                 $recv: #NameExpr['scrub']
                              ]
                              $expression: #NameExpr['tainted?']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['str']
                           $right: #StringExpr['\\u3042\\u3044']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['str']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['str']
                                 $recv: #NameExpr['scrub']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_not_same']
                           $param: #List[
                              $expression: #NameExpr['str']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['str']
                                 $recv: #NameExpr['scrub']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_predicate']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['str']
                                       $recv: #NameExpr['dup']
                                    ]
                                    $recv: #NameExpr['taint']
                                 ]
                                 $recv: #NameExpr['scrub']
                              ]
                              $expression: #NameExpr['tainted?']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['str']
                           $recv: #NameExpr['force_encoding']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['ISO_2022_JP']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['str']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['str']
                                 $recv: #NameExpr['scrub']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_not_same']
                           $param: #List[
                              $expression: #NameExpr['str']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['str']
                                 $recv: #NameExpr['scrub']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nothing_raised']
                           $param: #List[
                              $expression: #NameExpr['ArgumentError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #NameExpr['str']
                                 $recv: #NameExpr['scrub']
                                 $param: #List[
                                    $expression: #Nil['nil']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_predicate']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       $recv: #NameExpr['str']
                                       $recv: #NameExpr['dup']
                                    ]
                                    $recv: #NameExpr['taint']
                                 ]
                                 $recv: #NameExpr['scrub']
                              ]
                              $expression: #NameExpr['tainted?']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_scrub_replace_default']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['\\uFFFD\\uFFFD\\uFFFD']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\x80\\x80\\x80']
                                    ]
                                 ]
                                 $recv: #NameExpr['scrub']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['\\uFFFDA']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xF4\\x80\\x80A']
                                    ]
                                 ]
                                 $recv: #NameExpr['scrub']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_predicate']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['u']
                                       $param: #List[
                                          $expression: #StringExpr['\\x80\\x80\\x80']
                                       ]
                                    ]
                                    $recv: #NameExpr['taint']
                                 ]
                                 $recv: #NameExpr['scrub']
                              ]
                              $expression: #NameExpr['tainted?']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_predicate']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['u']
                                       $param: #List[
                                          $expression: #StringExpr['\\xF4\\x80\\x80A']
                                       ]
                                    ]
                                    $recv: #NameExpr['taint']
                                 ]
                                 $recv: #NameExpr['scrub']
                              ]
                              $expression: #NameExpr['tainted?']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['\\x41\\uFFFD\\uFFFD\\x41\\uFFFD\\x41']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\x41\\xC0\\xAF\\x41\\xF4\\x80\\x80\\x41']
                                    ]
                                 ]
                                 $recv: #NameExpr['scrub']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['\\x41\\uFFFD\\uFFFD\\uFFFD\\x41']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\x41\\xE0\\x9F\\x80\\x41']
                                    ]
                                 ]
                                 $recv: #NameExpr['scrub']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['\\u0061\\uFFFD\\uFFFD\\uFFFD\\u0062\\uFFFD\\u0063\\uFFFD\\uFFFD\\u0064']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\x61\\xF1\\x80\\x80\\xE1\\x80\\xC2\\x62\\x80\\x63\\x80\\xBF\\x64']
                                    ]
                                 ]
                                 $recv: #NameExpr['scrub']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['abcdefghijklmnopqrstuvwxyz\\u0061\\uFFFD\\uFFFD\\uFFFD\\u0062\\uFFFD\\u0063\\uFFFD\\uFFFD\\u0064']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['abcdefghijklmnopqrstuvwxyz\\x61\\xF1\\x80\\x80\\xE1\\x80\\xC2\\x62\\x80\\x63\\x80\\xBF\\x64']
                                    ]
                                 ]
                                 $recv: #NameExpr['scrub']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_scrub_replace_argument']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['foo']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['foo']
                                    ]
                                 ]
                                 $recv: #NameExpr['scrub']
                                 $param: #List[
                                    $expression: #StringExpr['\\u3013']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_predicate']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['u']
                                       $param: #List[
                                          $expression: #StringExpr['foo']
                                       ]
                                    ]
                                    $recv: #NameExpr['taint']
                                 ]
                                 $recv: #NameExpr['scrub']
                                 $param: #List[
                                    $expression: #StringExpr['\\u3013']
                                 ]
                              ]
                              $expression: #NameExpr['tainted?']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_not_predicate']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['foo']
                                    ]
                                 ]
                                 $recv: #NameExpr['scrub']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #StringExpr['\\u3013']
                                       $recv: #NameExpr['taint']
                                    ]
                                 ]
                              ]
                              $expression: #NameExpr['tainted?']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['\\u3042\\u3044']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xE3\\x81\\x82\\xE3\\x81\\x84']
                                    ]
                                 ]
                                 $recv: #NameExpr['scrub']
                                 $param: #List[
                                    $expression: #StringExpr['\\u3013']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_predicate']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['u']
                                       $param: #List[
                                          $expression: #StringExpr['\\xE3\\x81\\x82\\xE3\\x81\\x84']
                                       ]
                                    ]
                                    $recv: #NameExpr['taint']
                                 ]
                                 $recv: #NameExpr['scrub']
                                 $param: #List[
                                    $expression: #StringExpr['\\u3013']
                                 ]
                              ]
                              $expression: #NameExpr['tainted?']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_not_predicate']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xE3\\x81\\x82\\xE3\\x81\\x84']
                                    ]
                                 ]
                                 $recv: #NameExpr['scrub']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #StringExpr['\\u3013']
                                       $recv: #NameExpr['taint']
                                    ]
                                 ]
                              ]
                              $expression: #NameExpr['tainted?']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['\\u3042\\u3013']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xE3\\x81\\x82\\xE3\\x81']
                                    ]
                                 ]
                                 $recv: #NameExpr['scrub']
                                 $param: #List[
                                    $expression: #StringExpr['\\u3013']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_predicate']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['u']
                                       $param: #List[
                                          $expression: #StringExpr['\\xE3\\x81\\x82\\xE3\\x81']
                                       ]
                                    ]
                                    $recv: #NameExpr['taint']
                                 ]
                                 $recv: #NameExpr['scrub']
                                 $param: #List[
                                    $expression: #StringExpr['\\u3013']
                                 ]
                              ]
                              $expression: #NameExpr['tainted?']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_predicate']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xE3\\x81\\x82\\xE3\\x81']
                                    ]
                                 ]
                                 $recv: #NameExpr['scrub']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #StringExpr['\\u3013']
                                       $recv: #NameExpr['taint']
                                    ]
                                 ]
                              ]
                              $expression: #NameExpr['tainted?']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['CompatibilityError']
                              ]
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xE3\\x81\\x82\\xE3\\x81']
                                    ]
                                 ]
                                 $recv: #NameExpr['scrub']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #StringExpr['\\xA4\\xA2']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['TypeError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xE3\\x81\\x82\\xE3\\x81']
                                    ]
                                 ]
                                 $recv: #NameExpr['scrub']
                                 $param: #List[
                                    $expression: #IntExpr['1']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['ArgumentError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xE3\\x81\\x82\\xE3\\x81\\x82\\xE3\\x81']
                                    ]
                                 ]
                                 $recv: #NameExpr['scrub']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['u']
                                       $param: #List[
                                          $expression: #StringExpr['\\x81']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['e']
                                 $param: #List[
                                    $expression: #StringExpr['\\xA4\\xA2\\xA2\\xAE']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['\\xA4\\xA2\\xA4']
                                    ]
                                 ]
                                 $recv: #NameExpr['scrub']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #StringExpr['\\xA2\\xAE']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_scrub_replace_block']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['\\u3042<e381>']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xE3\\x81\\x82\\xE3\\x81']
                                    ]
                                 ]
                                 $recv: #NameExpr['scrub']
                                 $body: #Block[
                                    $param: #NameExpr['x']
                                    $body: #AddExpr[
                                       $left: #AddExpr[
                                          $left: #StringExpr['<']
                                          $right: #Indexer[
                                             $recv: #ApplyExpr[
                                                $recv: #NameExpr['x']
                                                $recv: #NameExpr['unpack']
                                                $param: #List[
                                                   $expression: #StringExpr['H*']
                                                ]
                                             ]
                                             $index: #List[
                                                $expression: #IntExpr['0']
                                             ]
                                          ]
                                       ]
                                       $right: #StringExpr['>']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_predicate']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['u']
                                       $param: #List[
                                          $expression: #StringExpr['\\xE3\\x81\\x82\\xE3\\x81']
                                       ]
                                    ]
                                    $recv: #NameExpr['taint']
                                 ]
                                 $recv: #NameExpr['scrub']
                                 $body: #Block[
                                    $param: #NameExpr['x']
                                    $body: #AddExpr[
                                       $left: #AddExpr[
                                          $left: #StringExpr['<']
                                          $right: #Indexer[
                                             $recv: #ApplyExpr[
                                                $recv: #NameExpr['x']
                                                $recv: #NameExpr['unpack']
                                                $param: #List[
                                                   $expression: #StringExpr['H*']
                                                ]
                                             ]
                                             $index: #List[
                                                $expression: #IntExpr['0']
                                             ]
                                          ]
                                       ]
                                       $right: #StringExpr['>']
                                    ]
                                 ]
                              ]
                              $expression: #NameExpr['tainted?']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_predicate']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xE3\\x81\\x82\\xE3\\x81']
                                    ]
                                 ]
                                 $recv: #NameExpr['scrub']
                                 $body: #Block[
                                    $param: #NameExpr['x']
                                    $body: #ApplyExpr[
                                       $recv: #AddExpr[
                                          $left: #AddExpr[
                                             $left: #StringExpr['<']
                                             $right: #Indexer[
                                                $recv: #ApplyExpr[
                                                   $recv: #NameExpr['x']
                                                   $recv: #NameExpr['unpack']
                                                   $param: #List[
                                                      $expression: #StringExpr['H*']
                                                   ]
                                                ]
                                                $index: #List[
                                                   $expression: #IntExpr['0']
                                                ]
                                             ]
                                          ]
                                          $right: #StringExpr['>']
                                       ]
                                       $recv: #NameExpr['taint']
                                    ]
                                 ]
                              ]
                              $expression: #NameExpr['tainted?']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['CompatibilityError']
                              ]
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xE3\\x81\\x82\\xE3\\x81']
                                    ]
                                 ]
                                 $recv: #NameExpr['scrub']
                                 $body: #Block[
                                    $body: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #StringExpr['\\xA4\\xA2']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['TypeError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xE3\\x81\\x82\\xE3\\x81']
                                    ]
                                 ]
                                 $recv: #NameExpr['scrub']
                                 $body: #Block[
                                    $body: #IntExpr['1']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['ArgumentError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['\\xE3\\x81\\x82\\xE3\\x81\\x82\\xE3\\x81']
                                    ]
                                 ]
                                 $recv: #NameExpr['scrub']
                                 $body: #Block[
                                    $body: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['u']
                                       $param: #List[
                                          $expression: #StringExpr['\\x81']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['e']
                                 $param: #List[
                                    $expression: #StringExpr['\\xA4\\xA2\\xA2\\xAE']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['e']
                                    $param: #List[
                                       $expression: #StringExpr['\\xA4\\xA2\\xA4']
                                    ]
                                 ]
                                 $recv: #NameExpr['scrub']
                                 $body: #Block[
                                    $body: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['e']
                                       $param: #List[
                                          $expression: #StringExpr['\\xA2\\xAE']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['u']
                                 $param: #List[
                                    $expression: #StringExpr['\\x81']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['a\\x81']
                                    ]
                                 ]
                                 $recv: #NameExpr['scrub']
                                 $body: #Block[
                                    $param: #NameExpr['c']
                                    $body: #Break[
                                       $expr: #List[
                                          $expression: #NameExpr['c']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_raise']
                           $param: #List[
                              $expression: #NameExpr['ArgumentError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['u']
                                    $param: #List[
                                       $expression: #StringExpr['a\\x81']
                                    ]
                                 ]
                                 $recv: #NameExpr['scrub']
                                 $body: #Block[
                                    $param: #NameExpr['c']
                                    $body: #NameExpr['c']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_scrub_widechar']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #StringExpr['\\uFFFD\\u3042']
                                 $recv: #NameExpr['encode']
                                 $param: #List[
                                    $expression: #StringExpr['UTF-16BE']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #StringExpr['\\xD8\\x00\\x30\\x42']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #Field[
                                          $recv: #NameExpr['Encoding']
                                          $name: #NameExpr['UTF_16BE']
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['scrub']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #StringExpr['\\uFFFD\\u3042']
                                 $recv: #NameExpr['encode']
                                 $param: #List[
                                    $expression: #StringExpr['UTF-16LE']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #StringExpr['\\x00\\xD8\\x42\\x30']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #Field[
                                          $recv: #NameExpr['Encoding']
                                          $name: #NameExpr['UTF_16LE']
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['scrub']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #StringExpr['\\uFFFD']
                                 $recv: #NameExpr['encode']
                                 $param: #List[
                                    $expression: #StringExpr['UTF-32BE']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #StringExpr['\\xff']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #Field[
                                          $recv: #NameExpr['Encoding']
                                          $name: #NameExpr['UTF_32BE']
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['scrub']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #StringExpr['\\uFFFD']
                                 $recv: #NameExpr['encode']
                                 $param: #List[
                                    $expression: #StringExpr['UTF-32LE']
                                 ]
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #StringExpr['\\xff']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #Field[
                                          $recv: #NameExpr['Encoding']
                                          $name: #NameExpr['UTF_32LE']
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['scrub']
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_scrub_dummy_encoding']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              $recv: #StringExpr['\\u{3042}']
                              $recv: #NameExpr['encode']
                              $param: #List[
                                 $expression: #StringExpr['iso-2022-jp']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['s']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['s']
                                 $recv: #NameExpr['scrub']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #NameExpr['s']
                              $expression: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['s']
                                    $recv: #NameExpr['force_encoding']
                                    $param: #List[
                                       $expression: #StringExpr['iso-2022-jp']
                                    ]
                                 ]
                                 $recv: #NameExpr['scrub']
                                 $param: #List[
                                    $expression: #StringExpr['?']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_scrub_bang']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['str']
                           $right: #StringExpr['\\u3042\\u3044']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_same']
                           $param: #List[
                              $expression: #NameExpr['str']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['str']
                                 $recv: #NameExpr['scrub!']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['str']
                           $recv: #NameExpr['force_encoding']
                           $param: #List[
                              $expression: #Field[
                                 $recv: #NameExpr['Encoding']
                                 $name: #NameExpr['ISO_2022_JP']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_same']
                           $param: #List[
                              $expression: #NameExpr['str']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['str']
                                 $recv: #NameExpr['scrub!']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_nothing_raised']
                           $param: #List[
                              $expression: #NameExpr['ArgumentError']
                           ]
                           $body: #Block[
                              $body: #ApplyExpr[
                                 $recv: #NameExpr['str']
                                 $recv: #NameExpr['scrub!']
                                 $param: #List[
                                    $expression: #Nil['nil']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['str']
                           $right: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['u']
                              $param: #List[
                                 $expression: #StringExpr['\\x80\\x80\\x80']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['str']
                           $recv: #NameExpr['scrub!']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_same']
                           $param: #List[
                              $expression: #NameExpr['str']
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['str']
                                 $recv: #NameExpr['scrub!']
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['\\uFFFD\\uFFFD\\uFFFD']
                              $expression: #NameExpr['str']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_escaped_metachar']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['bug10670']
                           $right: #StringExpr['[ruby-core:67193] [Bug #10670]']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['escape_plain']
                           $right: #ApplyExpr[
                              $recv: #Regex['/\\A[\\x5B]*\\z/']
                              $recv: #NameExpr['freeze']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_match']
                           $param: #List[
                              $expression: #NameExpr['escape_plain']
                              $expression: #ApplyExpr[
                                 $recv: #HexInteger['0x5b']
                                 $recv: #NameExpr['chr']
                                 $param: #List[
                                    $expression: #Field[
                                       $recv: #NameExpr['Encoding']
                                       $name: #NameExpr['UTF_8']
                                    ]
                                 ]
                              ]
                              $expression: #NameExpr['bug10670']
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_match']
                           $param: #List[
                              $expression: #NameExpr['escape_plain']
                              $expression: #ApplyExpr[
                                 $recv: #HexInteger['0x5b']
                                 $recv: #NameExpr['chr']
                              ]
                              $expression: #NameExpr['bug10670']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_inspect_with_default_internal']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['bug11787']
                           $right: #StringExpr['[ruby-dev:49415] [Bug #11787]']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['s']
                           $right: #ApplyExpr[
                              $recv: #NameExpr['EnvUtil']
                              $recv: #NameExpr['with_default_internal']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['Encoding']
                                    $name: #NameExpr['EUC_JP']
                                 ]
                              ]
                              $body: #Block[
                                 $body: #ApplyExpr[
                                    $recv: #Array[
                                       $index: #List[
                                          $expression: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['e']
                                             $param: #List[
                                                $expression: #StringExpr['\\xB4\\xC1\\xBB\\xFA']
                                             ]
                                          ]
                                       ]
                                    ]
                                    $recv: #NameExpr['inspect']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['e']
                                 $param: #List[
                                    $expression: #StringExpr['[\\"\\xB4\\xC1\\xBB\\xFA\\"]']
                                 ]
                              ]
                              $expression: #NameExpr['s']
                              $expression: #NameExpr['bug11787']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['test_greek_capital_gap']
                  $param: #List['']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['bug12204']
                           $right: #StringExpr['[ruby-core:74478] [Bug #12204] GREEK CAPITAL RHO and SIGMA']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['assert_equal']
                           $param: #List[
                              $expression: #StringExpr['\\u03A3']
                              $expression: #ApplyExpr[
                                 $recv: #StringExpr['\\u03A1']
                                 $recv: #NameExpr['succ']
                              ]
                              $expression: #NameExpr['bug12204']
                           ]
                        ]
                     ]
                  ]
               ]
            ]
         ]
      ]
   ]
   #Comsumed['comsumed']
]
