#Source[
   #List[
      $statement: #ApplyExpr[
         #Self['self']
         $recv: #NameExpr['require']
         $param: #List[
            $expression: #StringExpr['socket']
         ]
      ]
      $statement: #ApplyExpr[
         #Self['self']
         $recv: #NameExpr['require']
         $param: #List[
            $expression: #StringExpr['timeout']
         ]
      ]
      $statement: #ApplyExpr[
         #Self['self']
         $recv: #NameExpr['require']
         $param: #List[
            $expression: #StringExpr['thread']
         ]
      ]
      $statement: #ApplyExpr[
         #Self['self']
         $recv: #NameExpr['require']
         $param: #List[
            $expression: #StringExpr['io/wait']
         ]
      ]
      $statement: #ExceptionBlock[
         $main: #ApplyExpr[
            #Self['self']
            $recv: #NameExpr['require']
            $param: #List[
               $expression: #StringExpr['securerandom']
            ]
         ]
         $rescue: #List[
            $rescue: #Rescue[
               $class: #NameExpr['LoadError']
               $then: #Empty['']
            ]
         ]
      ]
      $statement: #Class[
         $name: #NameExpr['Resolv']
         $body: #BlockExpr[
            $main: #List[
               $statement: #SFuncDecl[
                  $path: #Self['self']
                  $name: #NameExpr['getaddress']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['name']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $recv: #NameExpr['DefaultResolver']
                        $recv: #NameExpr['getaddress']
                        $param: #List[
                           $expression: #NameExpr['name']
                        ]
                     ]
                  ]
               ]
               $statement: #SFuncDecl[
                  $path: #Self['self']
                  $name: #NameExpr['getaddresses']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['name']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $recv: #NameExpr['DefaultResolver']
                        $recv: #NameExpr['getaddresses']
                        $param: #List[
                           $expression: #NameExpr['name']
                        ]
                     ]
                  ]
               ]
               $statement: #SFuncDecl[
                  $path: #Self['self']
                  $name: #NameExpr['each_address']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['name']
                     ]
                     $param: #ProcedureParam[
                        $name: #NameExpr['block']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $recv: #NameExpr['DefaultResolver']
                        $recv: #NameExpr['each_address']
                        $param: #List[
                           $expression: #NameExpr['name']
                           $procedure: #Procedure[
                              $base: #NameExpr['block']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #SFuncDecl[
                  $path: #Self['self']
                  $name: #NameExpr['getname']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['address']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $recv: #NameExpr['DefaultResolver']
                        $recv: #NameExpr['getname']
                        $param: #List[
                           $expression: #NameExpr['address']
                        ]
                     ]
                  ]
               ]
               $statement: #SFuncDecl[
                  $path: #Self['self']
                  $name: #NameExpr['getnames']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['address']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $recv: #NameExpr['DefaultResolver']
                        $recv: #NameExpr['getnames']
                        $param: #List[
                           $expression: #NameExpr['address']
                        ]
                     ]
                  ]
               ]
               $statement: #SFuncDecl[
                  $path: #Self['self']
                  $name: #NameExpr['each_name']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['address']
                     ]
                     $param: #ProcedureParam[
                        $name: #NameExpr['proc']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #ApplyExpr[
                        $recv: #NameExpr['DefaultResolver']
                        $recv: #NameExpr['each_name']
                        $param: #List[
                           $expression: #NameExpr['address']
                           $procedure: #Procedure[
                              $base: #NameExpr['proc']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['initialize']
                  $param: #List[
                     $param: #OptionalParam[
                        $name: #NameExpr['resolvers']
                        $default: #Array[
                           $index: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['Hosts']
                                 $recv: #NameExpr['new']
                              ]
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['DNS']
                                 $recv: #NameExpr['new']
                              ]
                           ]
                        ]
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #AssignExpr[
                        $left: #NameExpr['@resolvers']
                        $right: #NameExpr['resolvers']
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['getaddress']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['name']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['each_address']
                           $param: #List[
                              $expression: #NameExpr['name']
                           ]
                           $body: #Block[
                              $param: #NameExpr['address']
                              $body: #RReturnStmt[
                                 $expr: #List[
                                    $expression: #NameExpr['address']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['raise']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['ResolvError']
                                 $recv: #NameExpr['new']
                                 $param: #List[
                                    $expression: #StringExpr[
                                       $inner: #NameExpr['name']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['getaddresses']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['name']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['ret']
                           $right: #Array['[]']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['each_address']
                           $param: #List[
                              $expression: #NameExpr['name']
                           ]
                           $body: #Block[
                              $param: #NameExpr['address']
                              $body: #LShiftExpr[
                                 $left: #NameExpr['ret']
                                 $right: #NameExpr['address']
                              ]
                           ]
                        ]
                        $statement: #RReturnStmt[
                           $expr: #List[
                              $expression: #NameExpr['ret']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['each_address']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['name']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #IfExpr[
                           $cond: #AssignExpr[
                              $left: #NameExpr['AddressRegex']
                              $right: #ComplExpr[
                                 $expr: #NameExpr['name']
                              ]
                           ]
                           $then: #List[
                              $statement: #Yield[
                                 $param: #List[
                                    $expression: #NameExpr['name']
                                 ]
                              ]
                              $statement: #RReturnStmt['return']
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['yielded']
                           $right: #FalseExpr['false']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@resolvers']
                           $recv: #NameExpr['each']
                           $body: #Block[
                              $param: #NameExpr['r']
                              $body: #List[
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['r']
                                    $recv: #NameExpr['each_address']
                                    $param: #List[
                                       $expression: #NameExpr['name']
                                    ]
                                    $body: #Block[
                                       $param: #NameExpr['address']
                                       $body: #List[
                                          $statement: #Yield[
                                             $param: #List[
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['address']
                                                   $recv: #NameExpr['to_s']
                                                ]
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['yielded']
                                             $right: #TrueExpr['true']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #IfExpr[
                                    $then: #RReturnStmt['return']
                                    $cond: #NameExpr['yielded']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['getname']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['address']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['each_name']
                           $param: #List[
                              $expression: #NameExpr['address']
                           ]
                           $body: #Block[
                              $param: #NameExpr['name']
                              $body: #RReturnStmt[
                                 $expr: #List[
                                    $expression: #NameExpr['name']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['raise']
                           $param: #List[
                              $expression: #ApplyExpr[
                                 $recv: #NameExpr['ResolvError']
                                 $recv: #NameExpr['new']
                                 $param: #List[
                                    $expression: #StringExpr[
                                       $inner: #NameExpr['address']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['getnames']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['address']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['ret']
                           $right: #Array['[]']
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['each_name']
                           $param: #List[
                              $expression: #NameExpr['address']
                           ]
                           $body: #Block[
                              $param: #NameExpr['name']
                              $body: #LShiftExpr[
                                 $left: #NameExpr['ret']
                                 $right: #NameExpr['name']
                              ]
                           ]
                        ]
                        $statement: #RReturnStmt[
                           $expr: #List[
                              $expression: #NameExpr['ret']
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #FuncDecl[
                  $name: #NameExpr['each_name']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['address']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['yielded']
                           $right: #FalseExpr['false']
                        ]
                        $statement: #ApplyExpr[
                           $recv: #NameExpr['@resolvers']
                           $recv: #NameExpr['each']
                           $body: #Block[
                              $param: #NameExpr['r']
                              $body: #List[
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['r']
                                    $recv: #NameExpr['each_name']
                                    $param: #List[
                                       $expression: #NameExpr['address']
                                    ]
                                    $body: #Block[
                                       $param: #NameExpr['name']
                                       $body: #List[
                                          $statement: #Yield[
                                             $param: #List[
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['name']
                                                   $recv: #NameExpr['to_s']
                                                ]
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['yielded']
                                             $right: #TrueExpr['true']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #IfExpr[
                                    $then: #RReturnStmt['return']
                                    $cond: #NameExpr['yielded']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #Class[
                  $name: #NameExpr['ResolvError']
                  $super: #NameExpr['StandardError']
                  $body: #BlockExpr[
                     $main: #Empty['']
                  ]
               ]
               $statement: #Class[
                  $name: #NameExpr['ResolvTimeout']
                  $super: #Field[
                     $recv: #NameExpr['Timeout']
                     $name: #NameExpr['Error']
                  ]
                  $body: #BlockExpr[
                     $main: #Empty['']
                  ]
               ]
               $statement: #Class[
                  $name: #NameExpr['Hosts']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #ExceptionBlock[
                           $main: #List[
                              $statement: #Unless[
                                 $then: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['raise']
                                    $param: #List[
                                       $expression: #NameExpr['LoadError']
                                    ]
                                 ]
                                 $cond: #Match[
                                    $left: #Regex['/mswin|mingw|cygwin/']
                                    $right: #NameExpr['RUBY_PLATFORM']
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['require']
                                 $param: #List[
                                    $expression: #StringExpr['win32/resolv']
                                 ]
                              ]
                              $statement: #AssignExpr[
                                 $left: #NameExpr['DefaultFileName']
                                 $right: #ApplyExpr[
                                    $recv: #Field[
                                       $recv: #NameExpr['Win32']
                                       $name: #NameExpr['Resolv']
                                    ]
                                    $recv: #NameExpr['get_hosts_path']
                                 ]
                              ]
                           ]
                           $rescue: #List[
                              $rescue: #Rescue[
                                 $class: #NameExpr['LoadError']
                                 $then: #AssignExpr[
                                    $left: #NameExpr['DefaultFileName']
                                    $right: #StringExpr['/etc/hosts']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['initialize']
                           $param: #List[
                              $param: #OptionalParam[
                                 $name: #NameExpr['filename']
                                 $default: #NameExpr['DefaultFileName']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@filename']
                                    $right: #NameExpr['filename']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@mutex']
                                    $right: #ApplyExpr[
                                       $recv: #Field[
                                          $recv: #NameExpr['Thread']
                                          $name: #NameExpr['Mutex']
                                       ]
                                       $recv: #NameExpr['new']
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@initialized']
                                    $right: #Nil['nil']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['lazy_initialize']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['@mutex']
                                    $recv: #NameExpr['synchronize']
                                    $body: #Block[
                                       $body: #Unless[
                                          $cond: #NameExpr['@initialized']
                                          $then: #List[
                                             $statement: #AssignExpr[
                                                $left: #NameExpr['@name2addr']
                                                $right: #List['{}']
                                             ]
                                             $statement: #AssignExpr[
                                                $left: #NameExpr['@addr2name']
                                                $right: #List['{}']
                                             ]
                                             $statement: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['open']
                                                $param: #List[
                                                   $expression: #NameExpr['@filename']
                                                   $expression: #StringExpr['rb']
                                                ]
                                                $body: #Block[
                                                   $param: #NameExpr['f']
                                                   $body: #ApplyExpr[
                                                      $recv: #NameExpr['f']
                                                      $recv: #NameExpr['each']
                                                      $body: #Block[
                                                         $param: #NameExpr['line']
                                                         $body: #List[
                                                            $statement: #ApplyExpr[
                                                               $recv: #NameExpr['line']
                                                               $recv: #NameExpr['sub!']
                                                               $param: #List[
                                                                  $expression: #Regex['/#.*/']
                                                                  $expression: #StringExpr['']
                                                               ]
                                                            ]
                                                            $statement: #MultipleAssign[
                                                               $left: #MultipleLeftHandSideExpression[
                                                                  $item: #NameExpr['addr']
                                                                  $item: #NameExpr['hostname']
                                                                  $item: #Variadic[
                                                                     $item: #NameExpr['aliases']
                                                                  ]
                                                               ]
                                                               $right: #ApplyExpr[
                                                                  $recv: #NameExpr['line']
                                                                  $recv: #NameExpr['split']
                                                                  $param: #List[
                                                                     $expression: #Regex['/\\s+/']
                                                                  ]
                                                               ]
                                                            ]
                                                            $statement: #Unless[
                                                               $then: #Next['next']
                                                               $cond: #NameExpr['addr']
                                                            ]
                                                            $statement: #ApplyExpr[
                                                               $recv: #NameExpr['addr']
                                                               $recv: #NameExpr['untaint']
                                                            ]
                                                            $statement: #ApplyExpr[
                                                               $recv: #NameExpr['hostname']
                                                               $recv: #NameExpr['untaint']
                                                            ]
                                                            $statement: #Unless[
                                                               $then: #AssignExpr[
                                                                  $left: #Indexer[
                                                                     $base: #NameExpr['@addr2name']
                                                                     $index: #List[
                                                                        $expression: #NameExpr['addr']
                                                                     ]
                                                                  ]
                                                                  $right: #Array['[]']
                                                               ]
                                                               $cond: #ApplyExpr[
                                                                  $base: #NameExpr['@addr2name']
                                                                  $recv: #NameExpr['include?']
                                                                  $param: #List[
                                                                     $expression: #NameExpr['addr']
                                                                  ]
                                                               ]
                                                            ]
                                                            $statement: #LShiftExpr[
                                                               $left: #Indexer[
                                                                  $recv: #NameExpr['@addr2name']
                                                                  $index: #List[
                                                                     $expression: #NameExpr['addr']
                                                                  ]
                                                               ]
                                                               $right: #NameExpr['hostname']
                                                            ]
                                                            $statement: #AddAssign[
                                                               $left: #Indexer[
                                                                  $base: #NameExpr['@addr2name']
                                                                  $index: #List[
                                                                     $expression: #NameExpr['addr']
                                                                  ]
                                                               ]
                                                               $right: #NameExpr['aliases']
                                                            ]
                                                            $statement: #Unless[
                                                               $then: #AssignExpr[
                                                                  $left: #Indexer[
                                                                     $base: #NameExpr['@name2addr']
                                                                     $index: #List[
                                                                        $expression: #NameExpr['hostname']
                                                                     ]
                                                                  ]
                                                                  $right: #Array['[]']
                                                               ]
                                                               $cond: #ApplyExpr[
                                                                  $base: #NameExpr['@name2addr']
                                                                  $recv: #NameExpr['include?']
                                                                  $param: #List[
                                                                     $expression: #NameExpr['hostname']
                                                                  ]
                                                               ]
                                                            ]
                                                            $statement: #LShiftExpr[
                                                               $left: #Indexer[
                                                                  $recv: #NameExpr['@name2addr']
                                                                  $index: #List[
                                                                     $expression: #NameExpr['hostname']
                                                                  ]
                                                               ]
                                                               $right: #NameExpr['addr']
                                                            ]
                                                            $statement: #ApplyExpr[
                                                               $recv: #NameExpr['aliases']
                                                               $recv: #NameExpr['each']
                                                               $body: #Block[
                                                                  $param: #NameExpr['n']
                                                                  $body: #List[
                                                                     $statement: #ApplyExpr[
                                                                        $recv: #NameExpr['n']
                                                                        $recv: #NameExpr['untaint']
                                                                     ]
                                                                     $statement: #Unless[
                                                                        $then: #AssignExpr[
                                                                           $left: #Indexer[
                                                                              $base: #NameExpr['@name2addr']
                                                                              $index: #List[
                                                                                 $expression: #NameExpr['n']
                                                                              ]
                                                                           ]
                                                                           $right: #Array['[]']
                                                                        ]
                                                                        $cond: #ApplyExpr[
                                                                           $base: #NameExpr['@name2addr']
                                                                           $recv: #NameExpr['include?']
                                                                           $param: #List[
                                                                              $expression: #NameExpr['n']
                                                                           ]
                                                                        ]
                                                                     ]
                                                                     $statement: #LShiftExpr[
                                                                        $left: #Indexer[
                                                                           $recv: #NameExpr['@name2addr']
                                                                           $index: #List[
                                                                              $expression: #NameExpr['n']
                                                                           ]
                                                                        ]
                                                                        $right: #NameExpr['addr']
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                             $statement: #ApplyExpr[
                                                $recv: #NameExpr['@name2addr']
                                                $recv: #NameExpr['each']
                                                $body: #Block[
                                                   $param: #MultipleLeftHandSideExpression[
                                                      $item: #NameExpr['name']
                                                      $item: #NameExpr['arr']
                                                   ]
                                                   $body: #ApplyExpr[
                                                      $recv: #NameExpr['arr']
                                                      $recv: #NameExpr['reverse!']
                                                   ]
                                                ]
                                             ]
                                             $statement: #AssignExpr[
                                                $left: #NameExpr['@initialized']
                                                $right: #TrueExpr['true']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #Self['self']
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['getaddress']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['name']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['each_address']
                                    $param: #List[
                                       $expression: #NameExpr['name']
                                    ]
                                    $body: #Block[
                                       $param: #NameExpr['address']
                                       $body: #RReturnStmt[
                                          $expr: #List[
                                             $expression: #NameExpr['address']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['raise']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          $recv: #NameExpr['ResolvError']
                                          $recv: #NameExpr['new']
                                          $param: #List[
                                             $expression: #StringExpr[
                                                $inner: #NameExpr['@filename']
                                                $inner: #NameExpr['name']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['getaddresses']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['name']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['ret']
                                    $right: #Array['[]']
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['each_address']
                                    $param: #List[
                                       $expression: #NameExpr['name']
                                    ]
                                    $body: #Block[
                                       $param: #NameExpr['address']
                                       $body: #LShiftExpr[
                                          $left: #NameExpr['ret']
                                          $right: #NameExpr['address']
                                       ]
                                    ]
                                 ]
                                 $statement: #RReturnStmt[
                                    $expr: #List[
                                       $expression: #NameExpr['ret']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['each_address']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['name']
                              ]
                              $param: #ProcedureParam[
                                 $name: #NameExpr['proc']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #NameExpr['lazy_initialize']
                                 $statement: #IfExpr[
                                    $cond: #ApplyExpr[
                                       $recv: #NameExpr['@name2addr']
                                       $recv: #NameExpr['include?']
                                       $param: #List[
                                          $expression: #NameExpr['name']
                                       ]
                                    ]
                                    $then: #ApplyExpr[
                                       $recv: #Indexer[
                                          $recv: #NameExpr['@name2addr']
                                          $index: #List[
                                             $expression: #NameExpr['name']
                                          ]
                                       ]
                                       $recv: #NameExpr['each']
                                       $param: #List[
                                          $procedure: #Procedure[
                                             $base: #NameExpr['proc']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['getname']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['address']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['each_name']
                                    $param: #List[
                                       $expression: #NameExpr['address']
                                    ]
                                    $body: #Block[
                                       $param: #NameExpr['name']
                                       $body: #RReturnStmt[
                                          $expr: #List[
                                             $expression: #NameExpr['name']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['raise']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          $recv: #NameExpr['ResolvError']
                                          $recv: #NameExpr['new']
                                          $param: #List[
                                             $expression: #StringExpr[
                                                $inner: #NameExpr['@filename']
                                                $inner: #NameExpr['address']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['getnames']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['address']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['ret']
                                    $right: #Array['[]']
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['each_name']
                                    $param: #List[
                                       $expression: #NameExpr['address']
                                    ]
                                    $body: #Block[
                                       $param: #NameExpr['name']
                                       $body: #LShiftExpr[
                                          $left: #NameExpr['ret']
                                          $right: #NameExpr['name']
                                       ]
                                    ]
                                 ]
                                 $statement: #RReturnStmt[
                                    $expr: #List[
                                       $expression: #NameExpr['ret']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['each_name']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['address']
                              ]
                              $param: #ProcedureParam[
                                 $name: #NameExpr['proc']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #NameExpr['lazy_initialize']
                                 $statement: #IfExpr[
                                    $cond: #ApplyExpr[
                                       $recv: #NameExpr['@addr2name']
                                       $recv: #NameExpr['include?']
                                       $param: #List[
                                          $expression: #NameExpr['address']
                                       ]
                                    ]
                                    $then: #ApplyExpr[
                                       $recv: #Indexer[
                                          $recv: #NameExpr['@addr2name']
                                          $index: #List[
                                             $expression: #NameExpr['address']
                                          ]
                                       ]
                                       $recv: #NameExpr['each']
                                       $param: #List[
                                          $procedure: #Procedure[
                                             $base: #NameExpr['proc']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #Class[
                  $name: #NameExpr['DNS']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['Port']
                           $right: #IntExpr['53']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['UDPSize']
                           $right: #IntExpr['512']
                        ]
                        $statement: #SFuncDecl[
                           $path: #Self['self']
                           $name: #NameExpr['open']
                           $param: #List[
                              $param: #VariadicParam[
                                 $name: #NameExpr['args']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['dns']
                                    $right: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['new']
                                       $param: #List[
                                          $variadic: #Variadic[
                                             $base: #NameExpr['args']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #Unless[
                                    $then: #RReturnStmt[
                                       $expr: #List[
                                          $expression: #NameExpr['dns']
                                       ]
                                    ]
                                    $cond: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['block_given?']
                                    ]
                                 ]
                                 $statement: #ExceptionBlock[
                                    $main: #Yield[
                                       $param: #List[
                                          $expression: #NameExpr['dns']
                                       ]
                                    ]
                                    $ensure: #ApplyExpr[
                                       $recv: #NameExpr['dns']
                                       $recv: #NameExpr['close']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['initialize']
                           $param: #List[
                              $param: #OptionalParam[
                                 $name: #NameExpr['config_info']
                                 $default: #Nil['nil']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@mutex']
                                    $right: #ApplyExpr[
                                       $recv: #Field[
                                          $recv: #NameExpr['Thread']
                                          $name: #NameExpr['Mutex']
                                       ]
                                       $recv: #NameExpr['new']
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@config']
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['Config']
                                       $recv: #NameExpr['new']
                                       $param: #List[
                                          $expression: #NameExpr['config_info']
                                       ]
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@initialized']
                                    $right: #Nil['nil']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['timeouts=']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['values']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #AssignExpr[
                                 $left: #Field[
                                    $base: #NameExpr['@config']
                                    $name: #NameExpr['timeouts']
                                 ]
                                 $right: #NameExpr['values']
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['lazy_initialize']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['@mutex']
                                    $recv: #NameExpr['synchronize']
                                    $body: #Block[
                                       $body: #Unless[
                                          $cond: #NameExpr['@initialized']
                                          $then: #List[
                                             $statement: #ApplyExpr[
                                                $recv: #NameExpr['@config']
                                                $recv: #NameExpr['lazy_initialize']
                                             ]
                                             $statement: #AssignExpr[
                                                $left: #NameExpr['@initialized']
                                                $right: #TrueExpr['true']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #Self['self']
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['close']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #ApplyExpr[
                                 $recv: #NameExpr['@mutex']
                                 $recv: #NameExpr['synchronize']
                                 $body: #Block[
                                    $body: #IfExpr[
                                       $cond: #NameExpr['@initialized']
                                       $then: #AssignExpr[
                                          $left: #NameExpr['@initialized']
                                          $right: #FalseExpr['false']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['getaddress']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['name']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['each_address']
                                    $param: #List[
                                       $expression: #NameExpr['name']
                                    ]
                                    $body: #Block[
                                       $param: #NameExpr['address']
                                       $body: #RReturnStmt[
                                          $expr: #List[
                                             $expression: #NameExpr['address']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['raise']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          $recv: #NameExpr['ResolvError']
                                          $recv: #NameExpr['new']
                                          $param: #List[
                                             $expression: #StringExpr[
                                                $inner: #NameExpr['name']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['getaddresses']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['name']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['ret']
                                    $right: #Array['[]']
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['each_address']
                                    $param: #List[
                                       $expression: #NameExpr['name']
                                    ]
                                    $body: #Block[
                                       $param: #NameExpr['address']
                                       $body: #LShiftExpr[
                                          $left: #NameExpr['ret']
                                          $right: #NameExpr['address']
                                       ]
                                    ]
                                 ]
                                 $statement: #RReturnStmt[
                                    $expr: #List[
                                       $expression: #NameExpr['ret']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['each_address']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['name']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['each_resource']
                                    $param: #List[
                                       $expression: #NameExpr['name']
                                       $expression: #Field[
                                          $recv: #Field[
                                             $recv: #NameExpr['Resource']
                                             $name: #NameExpr['IN']
                                          ]
                                          $name: #NameExpr['A']
                                       ]
                                    ]
                                    $body: #Block[
                                       $param: #NameExpr['resource']
                                       $body: #Yield[
                                          $param: #List[
                                             $expression: #ApplyExpr[
                                                $recv: #NameExpr['resource']
                                                $recv: #NameExpr['address']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #IfExpr[
                                    $cond: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['use_ipv6?']
                                    ]
                                    $then: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['each_resource']
                                       $param: #List[
                                          $expression: #NameExpr['name']
                                          $expression: #Field[
                                             $recv: #Field[
                                                $recv: #NameExpr['Resource']
                                                $name: #NameExpr['IN']
                                             ]
                                             $name: #NameExpr['AAAA']
                                          ]
                                       ]
                                       $body: #Block[
                                          $param: #NameExpr['resource']
                                          $body: #Yield[
                                             $param: #List[
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['resource']
                                                   $recv: #NameExpr['address']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['use_ipv6?']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #ExceptionBlock[
                                    $main: #AssignExpr[
                                       $left: #NameExpr['list']
                                       $right: #ApplyExpr[
                                          $recv: #NameExpr['Socket']
                                          $recv: #NameExpr['ip_address_list']
                                       ]
                                    ]
                                    $rescue: #List[
                                       $rescue: #Rescue[
                                          $class: #NameExpr['NotImplementedError']
                                          $then: #RReturnStmt[
                                             $expr: #List[
                                                $expression: #TrueExpr['true']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['list']
                                    $recv: #NameExpr['any?']
                                    $body: #Block[
                                       $param: #NameExpr['a']
                                       $body: #ApplyExpr[
                                          $base: #ApplyExpr[
                                             $recv: #NameExpr['a']
                                             $recv: #NameExpr['ipv6?']
                                          ]
                                          $recv: #NameExpr['&']
                                          $param: #List[
                                             $expression: #LAnd[
                                                $left: #NotExpr[
                                                   $expr: #ApplyExpr[
                                                      $recv: #NameExpr['a']
                                                      $recv: #NameExpr['ipv6_loopback?']
                                                   ]
                                                ]
                                                $right: #NotExpr[
                                                   $expr: #ApplyExpr[
                                                      $recv: #NameExpr['a']
                                                      $recv: #NameExpr['ipv6_linklocal?']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['private']
                           $param: #List[
                              $expression: #NameExpr['use_ipv6?']
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['getname']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['address']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['each_name']
                                    $param: #List[
                                       $expression: #NameExpr['address']
                                    ]
                                    $body: #Block[
                                       $param: #NameExpr['name']
                                       $body: #RReturnStmt[
                                          $expr: #List[
                                             $expression: #NameExpr['name']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['raise']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          $recv: #NameExpr['ResolvError']
                                          $recv: #NameExpr['new']
                                          $param: #List[
                                             $expression: #StringExpr[
                                                $inner: #NameExpr['address']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['getnames']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['address']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['ret']
                                    $right: #Array['[]']
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['each_name']
                                    $param: #List[
                                       $expression: #NameExpr['address']
                                    ]
                                    $body: #Block[
                                       $param: #NameExpr['name']
                                       $body: #LShiftExpr[
                                          $left: #NameExpr['ret']
                                          $right: #NameExpr['name']
                                       ]
                                    ]
                                 ]
                                 $statement: #RReturnStmt[
                                    $expr: #List[
                                       $expression: #NameExpr['ret']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['each_name']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['address']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #Case[
                                    $cond: #NameExpr['address']
                                    $body: #List[
                                       $when: #When[
                                          $cond: #List[
                                             $expression: #NameExpr['Name']
                                          ]
                                          $then: #AssignExpr[
                                             $left: #NameExpr['ptr']
                                             $right: #NameExpr['address']
                                          ]
                                       ]
                                       $when: #When[
                                          $cond: #List[
                                             $expression: #Field[
                                                $recv: #NameExpr['IPv4']
                                                $name: #NameExpr['Regex']
                                             ]
                                          ]
                                          $then: #AssignExpr[
                                             $left: #NameExpr['ptr']
                                             $right: #ApplyExpr[
                                                $recv: #ApplyExpr[
                                                   $recv: #NameExpr['IPv4']
                                                   $recv: #NameExpr['create']
                                                   $param: #List[
                                                      $expression: #NameExpr['address']
                                                   ]
                                                ]
                                                $recv: #NameExpr['to_name']
                                             ]
                                          ]
                                       ]
                                       $when: #When[
                                          $cond: #List[
                                             $expression: #Field[
                                                $recv: #NameExpr['IPv6']
                                                $name: #NameExpr['Regex']
                                             ]
                                          ]
                                          $then: #AssignExpr[
                                             $left: #NameExpr['ptr']
                                             $right: #ApplyExpr[
                                                $recv: #ApplyExpr[
                                                   $recv: #NameExpr['IPv6']
                                                   $recv: #NameExpr['create']
                                                   $param: #List[
                                                      $expression: #NameExpr['address']
                                                   ]
                                                ]
                                                $recv: #NameExpr['to_name']
                                             ]
                                          ]
                                       ]
                                    ]
                                    $else: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['raise']
                                       $param: #List[
                                          $expression: #ApplyExpr[
                                             $recv: #NameExpr['ResolvError']
                                             $recv: #NameExpr['new']
                                             $param: #List[
                                                $expression: #StringExpr[
                                                   $inner: #NameExpr['address']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['each_resource']
                                    $param: #List[
                                       $expression: #NameExpr['ptr']
                                       $expression: #Field[
                                          $recv: #Field[
                                             $recv: #NameExpr['Resource']
                                             $name: #NameExpr['IN']
                                          ]
                                          $name: #NameExpr['PTR']
                                       ]
                                    ]
                                    $body: #Block[
                                       $param: #NameExpr['resource']
                                       $body: #Yield[
                                          $param: #List[
                                             $expression: #ApplyExpr[
                                                $recv: #NameExpr['resource']
                                                $recv: #NameExpr['name']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['getresource']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['name']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['typeclass']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['each_resource']
                                    $param: #List[
                                       $expression: #NameExpr['name']
                                       $expression: #NameExpr['typeclass']
                                    ]
                                    $body: #Block[
                                       $param: #NameExpr['resource']
                                       $body: #RReturnStmt[
                                          $expr: #List[
                                             $expression: #NameExpr['resource']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['raise']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          $recv: #NameExpr['ResolvError']
                                          $recv: #NameExpr['new']
                                          $param: #List[
                                             $expression: #StringExpr[
                                                $inner: #NameExpr['name']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['getresources']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['name']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['typeclass']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['ret']
                                    $right: #Array['[]']
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['each_resource']
                                    $param: #List[
                                       $expression: #NameExpr['name']
                                       $expression: #NameExpr['typeclass']
                                    ]
                                    $body: #Block[
                                       $param: #NameExpr['resource']
                                       $body: #LShiftExpr[
                                          $left: #NameExpr['ret']
                                          $right: #NameExpr['resource']
                                       ]
                                    ]
                                 ]
                                 $statement: #RReturnStmt[
                                    $expr: #List[
                                       $expression: #NameExpr['ret']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['each_resource']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['name']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['typeclass']
                              ]
                              $param: #ProcedureParam[
                                 $name: #NameExpr['proc']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['fetch_resource']
                                 $param: #List[
                                    $expression: #NameExpr['name']
                                    $expression: #NameExpr['typeclass']
                                 ]
                                 $body: #Block[
                                    $param: #MultipleLeftHandSideExpression[
                                       $item: #NameExpr['reply']
                                       $item: #NameExpr['reply_name']
                                    ]
                                    $body: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['extract_resources']
                                       $param: #List[
                                          $expression: #NameExpr['reply']
                                          $expression: #NameExpr['reply_name']
                                          $expression: #NameExpr['typeclass']
                                          $procedure: #Procedure[
                                             $base: #NameExpr['proc']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['fetch_resource']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['name']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['typeclass']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #NameExpr['lazy_initialize']
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['requester']
                                    $right: #NameExpr['make_udp_requester']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['senders']
                                    $right: #List['{}']
                                 ]
                                 $statement: #ExceptionBlock[
                                    $main: #ApplyExpr[
                                       $recv: #NameExpr['@config']
                                       $recv: #NameExpr['resolv']
                                       $param: #List[
                                          $expression: #NameExpr['name']
                                       ]
                                       $body: #Block[
                                          $param: #MultipleLeftHandSideExpression[
                                             $item: #NameExpr['candidate']
                                             $item: #NameExpr['tout']
                                             $item: #NameExpr['nameserver']
                                             $item: #NameExpr['port']
                                          ]
                                          $body: #List[
                                             $statement: #AssignExpr[
                                                $left: #NameExpr['msg']
                                                $right: #ApplyExpr[
                                                   $recv: #NameExpr['Message']
                                                   $recv: #NameExpr['new']
                                                ]
                                             ]
                                             $statement: #AssignExpr[
                                                $left: #Field[
                                                   $base: #NameExpr['msg']
                                                   $name: #NameExpr['rd']
                                                ]
                                                $right: #IntExpr['1']
                                             ]
                                             $statement: #ApplyExpr[
                                                $recv: #NameExpr['msg']
                                                $recv: #NameExpr['add_question']
                                                $param: #List[
                                                   $expression: #NameExpr['candidate']
                                                   $expression: #NameExpr['typeclass']
                                                ]
                                             ]
                                             $statement: #Unless[
                                                $cond: #AssignExpr[
                                                   $left: #NameExpr['sender']
                                                   $right: #Indexer[
                                                      $recv: #NameExpr['senders']
                                                      $index: #List[
                                                         $expression: #Array[
                                                            $index: #List[
                                                               $expression: #NameExpr['candidate']
                                                               $expression: #NameExpr['nameserver']
                                                               $expression: #NameExpr['port']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                                $then: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['sender']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['requester']
                                                         $recv: #NameExpr['sender']
                                                         $param: #List[
                                                            $expression: #NameExpr['msg']
                                                            $expression: #NameExpr['candidate']
                                                            $expression: #NameExpr['nameserver']
                                                            $expression: #NameExpr['port']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #IfExpr[
                                                      $then: #Next['next']
                                                      $cond: #NotExpr[
                                                         $expr: #NameExpr['sender']
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #Indexer[
                                                         $base: #NameExpr['senders']
                                                         $index: #List[
                                                            $expression: #Array[
                                                               $index: #List[
                                                                  $expression: #NameExpr['candidate']
                                                                  $expression: #NameExpr['nameserver']
                                                                  $expression: #NameExpr['port']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $right: #NameExpr['sender']
                                                   ]
                                                ]
                                             ]
                                             $statement: #MultipleAssign[
                                                $left: #MultipleLeftHandSideExpression[
                                                   $item: #NameExpr['reply']
                                                   $item: #NameExpr['reply_name']
                                                ]
                                                $right: #ApplyExpr[
                                                   $recv: #NameExpr['requester']
                                                   $recv: #NameExpr['request']
                                                   $param: #List[
                                                      $expression: #NameExpr['sender']
                                                      $expression: #NameExpr['tout']
                                                   ]
                                                ]
                                             ]
                                             $statement: #Case[
                                                $cond: #ApplyExpr[
                                                   $recv: #NameExpr['reply']
                                                   $recv: #NameExpr['rcode']
                                                ]
                                                $body: #List[
                                                   $when: #When[
                                                      $cond: #List[
                                                         $expression: #Field[
                                                            $recv: #NameExpr['RCode']
                                                            $name: #NameExpr['NoError']
                                                         ]
                                                      ]
                                                      $then: #List[
                                                         $statement: #IfExpr[
                                                            $cond: #AndExpr[
                                                               $left: #EqExpr[
                                                                  $left: #ApplyExpr[
                                                                     $recv: #NameExpr['reply']
                                                                     $recv: #NameExpr['tc']
                                                                  ]
                                                                  $right: #IntExpr['1']
                                                               ]
                                                               $right: #[
                                                                  $base: #StrictEquals[
                                                                     $left: #Field[
                                                                        $recv: #NameExpr['Requester']
                                                                        $name: #NameExpr['TCP']
                                                                     ]
                                                                     $right: #NameExpr['requester']
                                                                  ]
                                                               ]
                                                            ]
                                                            $then: #List[
                                                               $statement: #ApplyExpr[
                                                                  $recv: #NameExpr['requester']
                                                                  $recv: #NameExpr['close']
                                                               ]
                                                               $statement: #AssignExpr[
                                                                  $left: #NameExpr['requester']
                                                                  $right: #ApplyExpr[
                                                                     #Self['self']
                                                                     $recv: #NameExpr['make_tcp_requester']
                                                                     $param: #List[
                                                                        $expression: #NameExpr['nameserver']
                                                                        $expression: #NameExpr['port']
                                                                     ]
                                                                  ]
                                                               ]
                                                               $statement: #AssignExpr[
                                                                  $left: #NameExpr['senders']
                                                                  $right: #List['{}']
                                                               ]
                                                               $statement: #Redo['redo']
                                                            ]
                                                            $else: #Yield[
                                                               $param: #List[
                                                                  $expression: #NameExpr['reply']
                                                                  $expression: #NameExpr['reply_name']
                                                               ]
                                                            ]
                                                         ]
                                                         $statement: #RReturnStmt['return']
                                                      ]
                                                   ]
                                                   $when: #When[
                                                      $cond: #List[
                                                         $expression: #Field[
                                                            $recv: #NameExpr['RCode']
                                                            $name: #NameExpr['NXDomain']
                                                         ]
                                                      ]
                                                      $then: #ApplyExpr[
                                                         #Self['self']
                                                         $recv: #NameExpr['raise']
                                                         $param: #List[
                                                            $expression: #ApplyExpr[
                                                               $recv: #Field[
                                                                  $recv: #NameExpr['Config']
                                                                  $name: #NameExpr['NXDomain']
                                                               ]
                                                               $recv: #NameExpr['new']
                                                               $param: #List[
                                                                  $expression: #ApplyExpr[
                                                                     $recv: #NameExpr['reply_name']
                                                                     $recv: #NameExpr['to_s']
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                                $else: #ApplyExpr[
                                                   #Self['self']
                                                   $recv: #NameExpr['raise']
                                                   $param: #List[
                                                      $expression: #ApplyExpr[
                                                         $recv: #Field[
                                                            $recv: #NameExpr['Config']
                                                            $name: #NameExpr['OtherResolvError']
                                                         ]
                                                         $recv: #NameExpr['new']
                                                         $param: #List[
                                                            $expression: #ApplyExpr[
                                                               $recv: #NameExpr['reply_name']
                                                               $recv: #NameExpr['to_s']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                    $ensure: #ApplyExpr[
                                       $recv: #NameExpr['requester']
                                       $recv: #NameExpr['close']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['make_udp_requester']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['nameserver_port']
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['@config']
                                       $recv: #NameExpr['nameserver_port']
                                    ]
                                 ]
                                 $statement: #IfExpr[
                                    $cond: #EqExpr[
                                       $left: #ApplyExpr[
                                          $recv: #NameExpr['nameserver_port']
                                          $recv: #NameExpr['length']
                                       ]
                                       $right: #IntExpr['1']
                                    ]
                                    $then: #ApplyExpr[
                                       $recv: #Field[
                                          $recv: #NameExpr['Requester']
                                          $name: #NameExpr['ConnectedUDP']
                                       ]
                                       $recv: #NameExpr['new']
                                       $param: #List[
                                          $variadic: #Variadic[
                                             $base: #Indexer[
                                                $recv: #NameExpr['nameserver_port']
                                                $index: #List[
                                                   $expression: #IntExpr['0']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                    $else: #ApplyExpr[
                                       $recv: #Field[
                                          $recv: #NameExpr['Requester']
                                          $name: #NameExpr['UnconnectedUDP']
                                       ]
                                       $recv: #NameExpr['new']
                                       $param: #List[
                                          $variadic: #Variadic[
                                             $base: #NameExpr['nameserver_port']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['make_tcp_requester']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['host']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['port']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #RReturnStmt[
                                 $expr: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #Field[
                                          $recv: #NameExpr['Requester']
                                          $name: #NameExpr['TCP']
                                       ]
                                       $recv: #NameExpr['new']
                                       $param: #List[
                                          $expression: #NameExpr['host']
                                          $expression: #NameExpr['port']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['extract_resources']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['msg']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['name']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['typeclass']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #IfExpr[
                                    $cond: #LtExpr[
                                       $left: #NameExpr['typeclass']
                                       $right: #Field[
                                          $recv: #NameExpr['Resource']
                                          $name: #NameExpr['ANY']
                                       ]
                                    ]
                                    $then: #List[
                                       $statement: #AssignExpr[
                                          $left: #NameExpr['n0']
                                          $right: #ApplyExpr[
                                             $recv: #NameExpr['Name']
                                             $recv: #NameExpr['create']
                                             $param: #List[
                                                $expression: #NameExpr['name']
                                             ]
                                          ]
                                       ]
                                       $statement: #ApplyExpr[
                                          $recv: #NameExpr['msg']
                                          $recv: #NameExpr['each_answer']
                                          $body: #Block[
                                             $param: #MultipleLeftHandSideExpression[
                                                $item: #NameExpr['n']
                                                $item: #NameExpr['ttl']
                                                $item: #NameExpr['data']
                                             ]
                                             $body: #IfExpr[
                                                $then: #Yield[
                                                   $param: #List[
                                                      $expression: #NameExpr['data']
                                                   ]
                                                ]
                                                $cond: #EqExpr[
                                                   $left: #NameExpr['n0']
                                                   $right: #NameExpr['n']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['yielded']
                                    $right: #FalseExpr['false']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['n0']
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['Name']
                                       $recv: #NameExpr['create']
                                       $param: #List[
                                          $expression: #NameExpr['name']
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['msg']
                                    $recv: #NameExpr['each_answer']
                                    $body: #Block[
                                       $param: #MultipleLeftHandSideExpression[
                                          $item: #NameExpr['n']
                                          $item: #NameExpr['ttl']
                                          $item: #NameExpr['data']
                                       ]
                                       $body: #IfExpr[
                                          $cond: #EqExpr[
                                             $left: #NameExpr['n0']
                                             $right: #NameExpr['n']
                                          ]
                                          $then: #Case[
                                             $cond: #NameExpr['data']
                                             $body: #List[
                                                $when: #When[
                                                   $cond: #List[
                                                      $expression: #NameExpr['typeclass']
                                                   ]
                                                   $then: #List[
                                                      $statement: #Yield[
                                                         $param: #List[
                                                            $expression: #NameExpr['data']
                                                         ]
                                                      ]
                                                      $statement: #AssignExpr[
                                                         $left: #NameExpr['yielded']
                                                         $right: #TrueExpr['true']
                                                      ]
                                                   ]
                                                ]
                                                $when: #When[
                                                   $cond: #List[
                                                      $expression: #Field[
                                                         $recv: #NameExpr['Resource']
                                                         $name: #NameExpr['CNAME']
                                                      ]
                                                   ]
                                                   $then: #AssignExpr[
                                                      $left: #NameExpr['n0']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['data']
                                                         $recv: #NameExpr['name']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #IfExpr[
                                    $then: #RReturnStmt['return']
                                    $cond: #NameExpr['yielded']
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['msg']
                                    $recv: #NameExpr['each_answer']
                                    $body: #Block[
                                       $param: #MultipleLeftHandSideExpression[
                                          $item: #NameExpr['n']
                                          $item: #NameExpr['ttl']
                                          $item: #NameExpr['data']
                                       ]
                                       $body: #IfExpr[
                                          $cond: #EqExpr[
                                             $left: #NameExpr['n0']
                                             $right: #NameExpr['n']
                                          ]
                                          $then: #Case[
                                             $cond: #NameExpr['data']
                                             $body: #List[
                                                $when: #When[
                                                   $cond: #List[
                                                      $expression: #NameExpr['typeclass']
                                                   ]
                                                   $then: #Yield[
                                                      $param: #List[
                                                         $expression: #NameExpr['data']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #IfExpr[
                           $cond: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['defined?']
                              $param: #List[
                                 $expression: #NameExpr['SecureRandom']
                              ]
                           ]
                           $then: #SFuncDecl[
                              $path: #Self['self']
                              $name: #NameExpr['random']
                              $param: #List[
                                 $param: #Param[
                                    $param: #NameExpr['arg']
                                 ]
                              ]
                              $body: #BlockExpr[
                                 $main: #ExceptionBlock[
                                    $main: #ApplyExpr[
                                       $recv: #NameExpr['SecureRandom']
                                       $recv: #NameExpr['random_number']
                                       $param: #List[
                                          $expression: #NameExpr['arg']
                                       ]
                                    ]
                                    $rescue: #List[
                                       $rescue: #Rescue[
                                          $class: #NameExpr['NotImplementedError']
                                          $then: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['rand']
                                             $param: #List[
                                                $expression: #NameExpr['arg']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                           $else: #SFuncDecl[
                              $path: #Self['self']
                              $name: #NameExpr['random']
                              $param: #List[
                                 $param: #Param[
                                    $param: #NameExpr['arg']
                                 ]
                              ]
                              $body: #BlockExpr[
                                 $main: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['rand']
                                    $param: #List[
                                       $expression: #NameExpr['arg']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #SFuncDecl[
                           $path: #Self['self']
                           $name: #NameExpr['rangerand']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['range']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['base']
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['range']
                                       $recv: #NameExpr['begin']
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['len']
                                    $right: #SubExpr[
                                       $left: #ApplyExpr[
                                          $recv: #NameExpr['range']
                                          $recv: #NameExpr['end']
                                       ]
                                       $right: #ApplyExpr[
                                          $recv: #NameExpr['range']
                                          $recv: #NameExpr['begin']
                                       ]
                                    ]
                                 ]
                                 $statement: #IfExpr[
                                    $cond: #NotExpr[
                                       $expr: #ApplyExpr[
                                          $recv: #NameExpr['range']
                                          $recv: #NameExpr['exclude_end?']
                                       ]
                                    ]
                                    $then: #AddAssign[
                                       $left: #NameExpr['len']
                                       $right: #IntExpr['1']
                                    ]
                                 ]
                                 $statement: #AddExpr[
                                    $left: #NameExpr['base']
                                    $right: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['random']
                                       $param: #List[
                                          $expression: #NameExpr['len']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['RequestID']
                           $right: #List['{}']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['RequestIDMutex']
                           $right: #ApplyExpr[
                              $recv: #Field[
                                 $recv: #NameExpr['Thread']
                                 $name: #NameExpr['Mutex']
                              ]
                              $recv: #NameExpr['new']
                           ]
                        ]
                        $statement: #SFuncDecl[
                           $path: #Self['self']
                           $name: #NameExpr['allocate_request_id']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['host']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['port']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['id']
                                    $right: #Nil['nil']
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #NameExpr['RequestIDMutex']
                                    $recv: #NameExpr['synchronize']
                                    $body: #Block[
                                       $body: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['h']
                                             $right: #LOrAssign[
                                                $left: #Indexer[
                                                   $base: #NameExpr['RequestID']
                                                   $index: #List[
                                                      $expression: #Array[
                                                         $index: #List[
                                                            $expression: #NameExpr['host']
                                                            $expression: #NameExpr['port']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                                $right: #List['{}']
                                             ]
                                          ]
                                          $statement: #While[
                                             $body: #ExceptionBlock[
                                                $main: #AssignExpr[
                                                   $left: #NameExpr['id']
                                                   $right: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['rangerand']
                                                      $param: #List[
                                                         $expression: #ClosedRange[
                                                            #HexInteger['0x0000']
                                                            #HexInteger['0xffff']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                             $cond: #Indexer[
                                                $recv: #NameExpr['h']
                                                $index: #List[
                                                   $expression: #NameExpr['id']
                                                ]
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #Indexer[
                                                $base: #NameExpr['h']
                                                $index: #List[
                                                   $expression: #NameExpr['id']
                                                ]
                                             ]
                                             $right: #TrueExpr['true']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #NameExpr['id']
                              ]
                           ]
                        ]
                        $statement: #SFuncDecl[
                           $path: #Self['self']
                           $name: #NameExpr['free_request_id']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['host']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['port']
                              ]
                              $param: #Param[
                                 $param: #NameExpr['id']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #ApplyExpr[
                                 $recv: #NameExpr['RequestIDMutex']
                                 $recv: #NameExpr['synchronize']
                                 $body: #Block[
                                    $body: #List[
                                       $statement: #AssignExpr[
                                          $left: #NameExpr['key']
                                          $right: #Array[
                                             $index: #List[
                                                $expression: #NameExpr['host']
                                                $expression: #NameExpr['port']
                                             ]
                                          ]
                                       ]
                                       $statement: #IfExpr[
                                          $cond: #AssignExpr[
                                             $left: #NameExpr['h']
                                             $right: #Indexer[
                                                $recv: #NameExpr['RequestID']
                                                $index: #List[
                                                   $expression: #NameExpr['key']
                                                ]
                                             ]
                                          ]
                                          $then: #List[
                                             $statement: #ApplyExpr[
                                                $base: #NameExpr['h']
                                                $recv: #NameExpr['delete']
                                                $param: #List[
                                                   $expression: #NameExpr['id']
                                                ]
                                             ]
                                             $statement: #IfExpr[
                                                $cond: #ApplyExpr[
                                                   $recv: #NameExpr['h']
                                                   $recv: #NameExpr['empty?']
                                                ]
                                                $then: #ApplyExpr[
                                                   $base: #NameExpr['RequestID']
                                                   $recv: #NameExpr['delete']
                                                   $param: #List[
                                                      $expression: #NameExpr['key']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #SFuncDecl[
                           $path: #Self['self']
                           $name: #NameExpr['bind_random_port']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['udpsock']
                              ]
                              $param: #OptionalParam[
                                 $name: #NameExpr['bind_host']
                                 $default: #StringExpr['0.0.0.0']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #ExceptionBlock[
                                 $main: #List[
                                    $statement: #AssignExpr[
                                       $left: #NameExpr['port']
                                       $right: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['rangerand']
                                          $param: #List[
                                             $expression: #ClosedRange[
                                                #IntExpr['1024']
                                                #IntExpr['65535']
                                             ]
                                          ]
                                       ]
                                    ]
                                    $statement: #ApplyExpr[
                                       $recv: #NameExpr['udpsock']
                                       $recv: #NameExpr['bind']
                                       $param: #List[
                                          $expression: #NameExpr['bind_host']
                                          $expression: #NameExpr['port']
                                       ]
                                    ]
                                 ]
                                 $rescue: #List[
                                    $rescue: #Rescue[
                                       $class: #MultipleRightHandSideExpression[
                                          $expression: #Field[
                                             $recv: #NameExpr['Errno']
                                             $name: #NameExpr['EADDRINUSE']
                                          ]
                                          $expression: #Field[
                                             $recv: #NameExpr['Errno']
                                             $name: #NameExpr['EACCES']
                                          ]
                                          $expression: #Field[
                                             $recv: #NameExpr['Errno']
                                             $name: #NameExpr['EPERM']
                                          ]
                                       ]
                                       $then: #Retry['retry']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #Class[
                           $name: #NameExpr['Requester']
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['initialize']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['@senders']
                                             $right: #List['{}']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['@socks']
                                             $right: #Nil['nil']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['request']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['sender']
                                       ]
                                       $param: #Param[
                                          $param: #NameExpr['tout']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['start']
                                             $right: #ApplyExpr[
                                                $recv: #NameExpr['Process']
                                                $recv: #NameExpr['clock_gettime']
                                                $param: #List[
                                                   $expression: #Field[
                                                      $recv: #NameExpr['Process']
                                                      $name: #NameExpr['CLOCK_MONOTONIC']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['timelimit']
                                             $right: #AddExpr[
                                                $left: #NameExpr['start']
                                                $right: #NameExpr['tout']
                                             ]
                                          ]
                                          $statement: #ExceptionBlock[
                                             $main: #ApplyExpr[
                                                $recv: #NameExpr['sender']
                                                $recv: #NameExpr['send']
                                             ]
                                             $rescue: #List[
                                                $rescue: #Rescue[
                                                   $class: #MultipleRightHandSideExpression[
                                                      $expression: #Field[
                                                         $recv: #NameExpr['Errno']
                                                         $name: #NameExpr['EHOSTUNREACH']
                                                      ]
                                                      $expression: #Field[
                                                         $recv: #NameExpr['Errno']
                                                         $name: #NameExpr['ENETUNREACH']
                                                      ]
                                                   ]
                                                   $then: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['raise']
                                                      $param: #List[
                                                         $expression: #NameExpr['ResolvTimeout']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #While[
                                             $cond: #TrueExpr['true']
                                             $body: #List[
                                                $statement: #AssignExpr[
                                                   $left: #NameExpr['before_select']
                                                   $right: #ApplyExpr[
                                                      $recv: #NameExpr['Process']
                                                      $recv: #NameExpr['clock_gettime']
                                                      $param: #List[
                                                         $expression: #Field[
                                                            $recv: #NameExpr['Process']
                                                            $name: #NameExpr['CLOCK_MONOTONIC']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                                $statement: #AssignExpr[
                                                   $left: #NameExpr['timeout']
                                                   $right: #SubExpr[
                                                      $left: #NameExpr['timelimit']
                                                      $right: #NameExpr['before_select']
                                                   ]
                                                ]
                                                $statement: #IfExpr[
                                                   $cond: #LteExpr[
                                                      $left: #NameExpr['timeout']
                                                      $right: #IntExpr['0']
                                                   ]
                                                   $then: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['raise']
                                                      $param: #List[
                                                         $expression: #NameExpr['ResolvTimeout']
                                                      ]
                                                   ]
                                                ]
                                                $statement: #IfExpr[
                                                   $cond: #EqExpr[
                                                      $left: #ApplyExpr[
                                                         $recv: #NameExpr['@socks']
                                                         $recv: #NameExpr['size']
                                                      ]
                                                      $right: #IntExpr['1']
                                                   ]
                                                   $then: #AssignExpr[
                                                      $left: #NameExpr['select_result']
                                                      $right: #Conditional[
                                                         $cond: #ApplyExpr[
                                                            $recv: #Indexer[
                                                               $recv: #NameExpr['@socks']
                                                               $index: #List[
                                                                  $expression: #IntExpr['0']
                                                               ]
                                                            ]
                                                            $recv: #NameExpr['wait_readable']
                                                            $param: #List[
                                                               $expression: #NameExpr['timeout']
                                                            ]
                                                         ]
                                                         $then: #Array[
                                                            $index: #List[
                                                               $expression: #NameExpr['@socks']
                                                            ]
                                                         ]
                                                         $else: #Nil['nil']
                                                      ]
                                                   ]
                                                   $else: #AssignExpr[
                                                      $left: #NameExpr['select_result']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['IO']
                                                         $recv: #NameExpr['select']
                                                         $param: #List[
                                                            $expression: #NameExpr['@socks']
                                                            $expression: #Nil['nil']
                                                            $expression: #Nil['nil']
                                                            $expression: #NameExpr['timeout']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                                $statement: #IfExpr[
                                                   $cond: #NotExpr[
                                                      $expr: #NameExpr['select_result']
                                                   ]
                                                   $then: #List[
                                                      $statement: #AssignExpr[
                                                         $left: #NameExpr['after_select']
                                                         $right: #ApplyExpr[
                                                            $recv: #NameExpr['Process']
                                                            $recv: #NameExpr['clock_gettime']
                                                            $param: #List[
                                                               $expression: #Field[
                                                                  $recv: #NameExpr['Process']
                                                                  $name: #NameExpr['CLOCK_MONOTONIC']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $statement: #IfExpr[
                                                         $then: #Next['next']
                                                         $cond: #LtExpr[
                                                            $left: #NameExpr['after_select']
                                                            $right: #NameExpr['timelimit']
                                                         ]
                                                      ]
                                                      $statement: #ApplyExpr[
                                                         #Self['self']
                                                         $recv: #NameExpr['raise']
                                                         $param: #List[
                                                            $expression: #NameExpr['ResolvTimeout']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                                $statement: #ExceptionBlock[
                                                   $main: #MultipleAssign[
                                                      $left: #MultipleLeftHandSideExpression[
                                                         $item: #NameExpr['reply']
                                                         $item: #NameExpr['from']
                                                      ]
                                                      $right: #ApplyExpr[
                                                         #Self['self']
                                                         $recv: #NameExpr['recv_reply']
                                                         $param: #List[
                                                            $expression: #Indexer[
                                                               $recv: #NameExpr['select_result']
                                                               $index: #List[
                                                                  $expression: #IntExpr['0']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $rescue: #List[
                                                      $rescue: #Rescue[
                                                         $class: #MultipleRightHandSideExpression[
                                                            $expression: #Field[
                                                               $recv: #NameExpr['Errno']
                                                               $name: #NameExpr['ECONNREFUSED']
                                                            ]
                                                            $expression: #Field[
                                                               $recv: #NameExpr['Errno']
                                                               $name: #NameExpr['ECONNRESET']
                                                            ]
                                                         ]
                                                         $then: #ApplyExpr[
                                                            #Self['self']
                                                            $recv: #NameExpr['raise']
                                                            $param: #List[
                                                               $expression: #NameExpr['ResolvTimeout']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                                $statement: #ExceptionBlock[
                                                   $main: #AssignExpr[
                                                      $left: #NameExpr['msg']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['Message']
                                                         $recv: #NameExpr['decode']
                                                         $param: #List[
                                                            $expression: #NameExpr['reply']
                                                         ]
                                                      ]
                                                   ]
                                                   $rescue: #List[
                                                      $rescue: #Rescue[
                                                         $class: #NameExpr['DecodeError']
                                                         $then: #Next['next']
                                                      ]
                                                   ]
                                                ]
                                                $statement: #IfExpr[
                                                   $cond: #AssignExpr[
                                                      $left: #NameExpr['s']
                                                      $right: #ApplyExpr[
                                                         #Self['self']
                                                         $recv: #NameExpr['sender_for']
                                                         $param: #List[
                                                            $expression: #NameExpr['from']
                                                            $expression: #NameExpr['msg']
                                                         ]
                                                      ]
                                                   ]
                                                   $then: #Break['break']
                                                   $else: #Empty['']
                                                ]
                                             ]
                                          ]
                                          $statement: #RReturnStmt[
                                             $expr: #List[
                                                $expression: #NameExpr['msg']
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['s']
                                                   $recv: #NameExpr['data']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['sender_for']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['addr']
                                       ]
                                       $param: #Param[
                                          $param: #NameExpr['msg']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #Indexer[
                                          $recv: #NameExpr['@senders']
                                          $index: #List[
                                             $expression: #Array[
                                                $index: #List[
                                                   $expression: #NameExpr['addr']
                                                   $expression: #ApplyExpr[
                                                      $recv: #NameExpr['msg']
                                                      $recv: #NameExpr['id']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['close']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['socks']
                                             $right: #NameExpr['@socks']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['@socks']
                                             $right: #Nil['nil']
                                          ]
                                          $statement: #IfExpr[
                                             $cond: #NameExpr['socks']
                                             $then: #ApplyExpr[
                                                $recv: #NameExpr['socks']
                                                $recv: #NameExpr['each']
                                                $body: #Block[
                                                   $param: #NameExpr['sock']
                                                   $body: #ApplyExpr[
                                                      $recv: #NameExpr['sock']
                                                      $recv: #NameExpr['close']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #Class[
                                    $name: #NameExpr['Sender']
                                    $body: #BlockExpr[
                                       $main: #FuncDecl[
                                          $name: #NameExpr['initialize']
                                          $param: #List[
                                             $param: #Param[
                                                $param: #NameExpr['msg']
                                             ]
                                             $param: #Param[
                                                $param: #NameExpr['data']
                                             ]
                                             $param: #Param[
                                                $param: #NameExpr['sock']
                                             ]
                                          ]
                                          $body: #BlockExpr[
                                             $main: #List[
                                                $statement: #AssignExpr[
                                                   $left: #NameExpr['@msg']
                                                   $right: #NameExpr['msg']
                                                ]
                                                $statement: #AssignExpr[
                                                   $left: #NameExpr['@data']
                                                   $right: #NameExpr['data']
                                                ]
                                                $statement: #AssignExpr[
                                                   $left: #NameExpr['@sock']
                                                   $right: #NameExpr['sock']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #Class[
                                    $name: #NameExpr['UnconnectedUDP']
                                    $super: #NameExpr['Requester']
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['initialize']
                                             $param: #List[
                                                $param: #VariadicParam[
                                                   $name: #NameExpr['nameserver_port']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #Super['super']
                                                      $param: #Empty['']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@nameserver_port']
                                                      $right: #NameExpr['nameserver_port']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@socks_hash']
                                                      $right: #List['{}']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@socks']
                                                      $right: #Array['[]']
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['nameserver_port']
                                                      $recv: #NameExpr['each']
                                                      $body: #Block[
                                                         $param: #MultipleLeftHandSideExpression[
                                                            $item: #NameExpr['host']
                                                            $item: #NameExpr['port']
                                                         ]
                                                         $body: #List[
                                                            $statement: #IfExpr[
                                                               $cond: #ApplyExpr[
                                                                  $recv: #NameExpr['host']
                                                                  $recv: #NameExpr['index']
                                                                  $param: #List[
                                                                     $expression: #StringExpr[':']
                                                                  ]
                                                               ]
                                                               $then: #List[
                                                                  $statement: #AssignExpr[
                                                                     $left: #NameExpr['bind_host']
                                                                     $right: #StringExpr['::']
                                                                  ]
                                                                  $statement: #AssignExpr[
                                                                     $left: #NameExpr['af']
                                                                     $right: #Field[
                                                                        $recv: #NameExpr['Socket']
                                                                        $name: #NameExpr['AF_INET6']
                                                                     ]
                                                                  ]
                                                               ]
                                                               $else: #List[
                                                                  $statement: #AssignExpr[
                                                                     $left: #NameExpr['bind_host']
                                                                     $right: #StringExpr['0.0.0.0']
                                                                  ]
                                                                  $statement: #AssignExpr[
                                                                     $left: #NameExpr['af']
                                                                     $right: #Field[
                                                                        $recv: #NameExpr['Socket']
                                                                        $name: #NameExpr['AF_INET']
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                            $statement: #IfExpr[
                                                               $then: #Next['next']
                                                               $cond: #Indexer[
                                                                  $recv: #NameExpr['@socks_hash']
                                                                  $index: #List[
                                                                     $expression: #NameExpr['bind_host']
                                                                  ]
                                                               ]
                                                            ]
                                                            $statement: #ExceptionBlock[
                                                               $main: #AssignExpr[
                                                                  $left: #NameExpr['sock']
                                                                  $right: #ApplyExpr[
                                                                     $recv: #NameExpr['UDPSocket']
                                                                     $recv: #NameExpr['new']
                                                                     $param: #List[
                                                                        $expression: #NameExpr['af']
                                                                     ]
                                                                  ]
                                                               ]
                                                               $rescue: #List[
                                                                  $rescue: #Rescue[
                                                                     $class: #Field[
                                                                        $recv: #NameExpr['Errno']
                                                                        $name: #NameExpr['EAFNOSUPPORT']
                                                                     ]
                                                                     $then: #Next['next']
                                                                  ]
                                                               ]
                                                            ]
                                                            $statement: #AssignExpr[
                                                               $left: #Field[
                                                                  $base: #NameExpr['sock']
                                                                  $name: #NameExpr['do_not_reverse_lookup']
                                                               ]
                                                               $right: #TrueExpr['true']
                                                            ]
                                                            $statement: #ApplyExpr[
                                                               $recv: #NameExpr['DNS']
                                                               $recv: #NameExpr['bind_random_port']
                                                               $param: #List[
                                                                  $expression: #NameExpr['sock']
                                                                  $expression: #NameExpr['bind_host']
                                                               ]
                                                            ]
                                                            $statement: #LShiftExpr[
                                                               $left: #NameExpr['@socks']
                                                               $right: #NameExpr['sock']
                                                            ]
                                                            $statement: #AssignExpr[
                                                               $left: #Indexer[
                                                                  $base: #NameExpr['@socks_hash']
                                                                  $index: #List[
                                                                     $expression: #NameExpr['bind_host']
                                                                  ]
                                                               ]
                                                               $right: #NameExpr['sock']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['recv_reply']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['readable_socks']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #MultipleAssign[
                                                      $left: #MultipleLeftHandSideExpression[
                                                         $item: #NameExpr['reply']
                                                         $item: #NameExpr['from']
                                                      ]
                                                      $right: #ApplyExpr[
                                                         $recv: #Indexer[
                                                            $recv: #NameExpr['readable_socks']
                                                            $index: #List[
                                                               $expression: #IntExpr['0']
                                                            ]
                                                         ]
                                                         $recv: #NameExpr['recvfrom']
                                                         $param: #List[
                                                            $expression: #NameExpr['UDPSize']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #RReturnStmt[
                                                      $expr: #List[
                                                         $expression: #NameExpr['reply']
                                                         $expression: #Array[
                                                            $index: #List[
                                                               $expression: #Indexer[
                                                                  $recv: #NameExpr['from']
                                                                  $index: #List[
                                                                     $expression: #IntExpr['3']
                                                                  ]
                                                               ]
                                                               $expression: #Indexer[
                                                                  $recv: #NameExpr['from']
                                                                  $index: #List[
                                                                     $expression: #IntExpr['1']
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['sender']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['msg']
                                                ]
                                                $param: #Param[
                                                   $param: #NameExpr['data']
                                                ]
                                                $param: #Param[
                                                   $param: #NameExpr['host']
                                                ]
                                                $param: #OptionalParam[
                                                   $name: #NameExpr['port']
                                                   $default: #NameExpr['Port']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['sock']
                                                      $right: #Indexer[
                                                         $recv: #NameExpr['@socks_hash']
                                                         $index: #List[
                                                            $expression: #Conditional[
                                                               $cond: #ApplyExpr[
                                                                  $recv: #NameExpr['host']
                                                                  $recv: #NameExpr['index']
                                                                  $param: #List[
                                                                     $expression: #StringExpr[':']
                                                                  ]
                                                               ]
                                                               $then: #StringExpr['::']
                                                               $else: #StringExpr['0.0.0.0']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #IfExpr[
                                                      $then: #RReturnStmt[
                                                         $expr: #List[
                                                            $expression: #Nil['nil']
                                                         ]
                                                      ]
                                                      $cond: #NotExpr[
                                                         $expr: #NameExpr['sock']
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['service']
                                                      $right: #Array[
                                                         $index: #List[
                                                            $expression: #NameExpr['host']
                                                            $expression: #NameExpr['port']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['id']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['DNS']
                                                         $recv: #NameExpr['allocate_request_id']
                                                         $param: #List[
                                                            $expression: #NameExpr['host']
                                                            $expression: #NameExpr['port']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['request']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['msg']
                                                         $recv: #NameExpr['encode']
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #Indexer[
                                                         $base: #NameExpr['request']
                                                         $index: #List[
                                                            $expression: #IntExpr['0']
                                                            $expression: #IntExpr['2']
                                                         ]
                                                      ]
                                                      $right: #ApplyExpr[
                                                         $recv: #Array[
                                                            $index: #List[
                                                               $expression: #NameExpr['id']
                                                            ]
                                                         ]
                                                         $recv: #NameExpr['pack']
                                                         $param: #List[
                                                            $expression: #StringExpr['n']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #RReturnStmt[
                                                      $expr: #List[
                                                         $expression: #AssignExpr[
                                                            $left: #Indexer[
                                                               $base: #NameExpr['@senders']
                                                               $index: #List[
                                                                  $expression: #Array[
                                                                     $index: #List[
                                                                        $expression: #NameExpr['service']
                                                                        $expression: #NameExpr['id']
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                            $right: #ApplyExpr[
                                                               $recv: #NameExpr['Sender']
                                                               $recv: #NameExpr['new']
                                                               $param: #List[
                                                                  $expression: #NameExpr['request']
                                                                  $expression: #NameExpr['data']
                                                                  $expression: #NameExpr['sock']
                                                                  $expression: #NameExpr['host']
                                                                  $expression: #NameExpr['port']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['close']
                                             $param: #List['']
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #Super['super']
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['@senders']
                                                      $recv: #NameExpr['each_key']
                                                      $body: #Block[
                                                         $param: #MultipleLeftHandSideExpression[
                                                            $item: #NameExpr['service']
                                                            $item: #NameExpr['id']
                                                         ]
                                                         $body: #ApplyExpr[
                                                            $recv: #NameExpr['DNS']
                                                            $recv: #NameExpr['free_request_id']
                                                            $param: #List[
                                                               $expression: #Indexer[
                                                                  $recv: #NameExpr['service']
                                                                  $index: #List[
                                                                     $expression: #IntExpr['0']
                                                                  ]
                                                               ]
                                                               $expression: #Indexer[
                                                                  $recv: #NameExpr['service']
                                                                  $index: #List[
                                                                     $expression: #IntExpr['1']
                                                                  ]
                                                               ]
                                                               $expression: #NameExpr['id']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #Class[
                                             $name: #NameExpr['Sender']
                                             $super: #Field[
                                                $recv: #NameExpr['Requester']
                                                $name: #NameExpr['Sender']
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #FuncDecl[
                                                      $name: #NameExpr['initialize']
                                                      $param: #List[
                                                         $param: #Param[
                                                            $param: #NameExpr['msg']
                                                         ]
                                                         $param: #Param[
                                                            $param: #NameExpr['data']
                                                         ]
                                                         $param: #Param[
                                                            $param: #NameExpr['sock']
                                                         ]
                                                         $param: #Param[
                                                            $param: #NameExpr['host']
                                                         ]
                                                         $param: #Param[
                                                            $param: #NameExpr['port']
                                                         ]
                                                      ]
                                                      $body: #BlockExpr[
                                                         $main: #List[
                                                            $statement: #ApplyExpr[
                                                               #Self['self']
                                                               $recv: #Super['super']
                                                               $param: #List[
                                                                  $expression: #NameExpr['msg']
                                                                  $expression: #NameExpr['data']
                                                                  $expression: #NameExpr['sock']
                                                               ]
                                                            ]
                                                            $statement: #AssignExpr[
                                                               $left: #NameExpr['@host']
                                                               $right: #NameExpr['host']
                                                            ]
                                                            $statement: #AssignExpr[
                                                               $left: #NameExpr['@port']
                                                               $right: #NameExpr['port']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['attr_reader']
                                                      $param: #List[
                                                         $expression: #NameExpr['data']
                                                      ]
                                                   ]
                                                   $statement: #FuncDecl[
                                                      $name: #NameExpr['send']
                                                      $param: #List['']
                                                      $body: #BlockExpr[
                                                         $main: #List[
                                                            $statement: #IfExpr[
                                                               $then: #ApplyExpr[
                                                                  #Self['self']
                                                                  $recv: #NameExpr['raise']
                                                                  $param: #List[
                                                                     $expression: #StringExpr['@sock is nil.']
                                                                  ]
                                                               ]
                                                               $cond: #ApplyExpr[
                                                                  $recv: #NameExpr['@sock']
                                                                  $recv: #NameExpr['nil?']
                                                               ]
                                                            ]
                                                            $statement: #ApplyExpr[
                                                               $recv: #NameExpr['@sock']
                                                               $recv: #NameExpr['send']
                                                               $param: #List[
                                                                  $expression: #NameExpr['@msg']
                                                                  $expression: #IntExpr['0']
                                                                  $expression: #NameExpr['@host']
                                                                  $expression: #NameExpr['@port']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #Class[
                                    $name: #NameExpr['ConnectedUDP']
                                    $super: #NameExpr['Requester']
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['initialize']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['host']
                                                ]
                                                $param: #OptionalParam[
                                                   $name: #NameExpr['port']
                                                   $default: #NameExpr['Port']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #Super['super']
                                                      $param: #Empty['']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@host']
                                                      $right: #NameExpr['host']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@port']
                                                      $right: #NameExpr['port']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['is_ipv6']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['host']
                                                         $recv: #NameExpr['index']
                                                         $param: #List[
                                                            $expression: #StringExpr[':']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['sock']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['UDPSocket']
                                                         $recv: #NameExpr['new']
                                                         $param: #List[
                                                            $expression: #Conditional[
                                                               $cond: #NameExpr['is_ipv6']
                                                               $then: #Field[
                                                                  $recv: #NameExpr['Socket']
                                                                  $name: #NameExpr['AF_INET6']
                                                               ]
                                                               $else: #Field[
                                                                  $recv: #NameExpr['Socket']
                                                                  $name: #NameExpr['AF_INET']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@socks']
                                                      $right: #Array[
                                                         $index: #List[
                                                            $expression: #NameExpr['sock']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #Field[
                                                         $base: #NameExpr['sock']
                                                         $name: #NameExpr['do_not_reverse_lookup']
                                                      ]
                                                      $right: #TrueExpr['true']
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['DNS']
                                                      $recv: #NameExpr['bind_random_port']
                                                      $param: #List[
                                                         $expression: #NameExpr['sock']
                                                         $expression: #Conditional[
                                                            $cond: #NameExpr['is_ipv6']
                                                            $then: #StringExpr['::']
                                                            $else: #StringExpr['0.0.0.0']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['sock']
                                                      $recv: #NameExpr['connect']
                                                      $param: #List[
                                                         $expression: #NameExpr['host']
                                                         $expression: #NameExpr['port']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['recv_reply']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['readable_socks']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['reply']
                                                      $right: #ApplyExpr[
                                                         $recv: #Indexer[
                                                            $recv: #NameExpr['readable_socks']
                                                            $index: #List[
                                                               $expression: #IntExpr['0']
                                                            ]
                                                         ]
                                                         $recv: #NameExpr['recv']
                                                         $param: #List[
                                                            $expression: #NameExpr['UDPSize']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #RReturnStmt[
                                                      $expr: #List[
                                                         $expression: #NameExpr['reply']
                                                         $expression: #Nil['nil']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['sender']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['msg']
                                                ]
                                                $param: #Param[
                                                   $param: #NameExpr['data']
                                                ]
                                                $param: #OptionalParam[
                                                   $name: #NameExpr['host']
                                                   $default: #NameExpr['@host']
                                                ]
                                                $param: #OptionalParam[
                                                   $name: #NameExpr['port']
                                                   $default: #NameExpr['@port']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #Unless[
                                                      $cond: #LAnd[
                                                         $left: #EqExpr[
                                                            $left: #NameExpr['host']
                                                            $right: #NameExpr['@host']
                                                         ]
                                                         $right: #EqExpr[
                                                            $left: #NameExpr['port']
                                                            $right: #NameExpr['@port']
                                                         ]
                                                      ]
                                                      $then: #ApplyExpr[
                                                         #Self['self']
                                                         $recv: #NameExpr['raise']
                                                         $param: #List[
                                                            $expression: #ApplyExpr[
                                                               $recv: #NameExpr['RequestError']
                                                               $recv: #NameExpr['new']
                                                               $param: #List[
                                                                  $expression: #StringExpr[
                                                                     $inner: #NameExpr['host']
                                                                     $inner: #NameExpr['port']
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['id']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['DNS']
                                                         $recv: #NameExpr['allocate_request_id']
                                                         $param: #List[
                                                            $expression: #NameExpr['@host']
                                                            $expression: #NameExpr['@port']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['request']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['msg']
                                                         $recv: #NameExpr['encode']
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #Indexer[
                                                         $base: #NameExpr['request']
                                                         $index: #List[
                                                            $expression: #IntExpr['0']
                                                            $expression: #IntExpr['2']
                                                         ]
                                                      ]
                                                      $right: #ApplyExpr[
                                                         $recv: #Array[
                                                            $index: #List[
                                                               $expression: #NameExpr['id']
                                                            ]
                                                         ]
                                                         $recv: #NameExpr['pack']
                                                         $param: #List[
                                                            $expression: #StringExpr['n']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #RReturnStmt[
                                                      $expr: #List[
                                                         $expression: #AssignExpr[
                                                            $left: #Indexer[
                                                               $base: #NameExpr['@senders']
                                                               $index: #List[
                                                                  $expression: #Array[
                                                                     $index: #List[
                                                                        $expression: #Nil['nil']
                                                                        $expression: #NameExpr['id']
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                            $right: #ApplyExpr[
                                                               $recv: #NameExpr['Sender']
                                                               $recv: #NameExpr['new']
                                                               $param: #List[
                                                                  $expression: #NameExpr['request']
                                                                  $expression: #NameExpr['data']
                                                                  $expression: #Indexer[
                                                                     $recv: #NameExpr['@socks']
                                                                     $index: #List[
                                                                        $expression: #IntExpr['0']
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['close']
                                             $param: #List['']
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #Super['super']
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['@senders']
                                                      $recv: #NameExpr['each_key']
                                                      $body: #Block[
                                                         $param: #MultipleLeftHandSideExpression[
                                                            $item: #NameExpr['from']
                                                            $item: #NameExpr['id']
                                                         ]
                                                         $body: #ApplyExpr[
                                                            $recv: #NameExpr['DNS']
                                                            $recv: #NameExpr['free_request_id']
                                                            $param: #List[
                                                               $expression: #NameExpr['@host']
                                                               $expression: #NameExpr['@port']
                                                               $expression: #NameExpr['id']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #Class[
                                             $name: #NameExpr['Sender']
                                             $super: #Field[
                                                $recv: #NameExpr['Requester']
                                                $name: #NameExpr['Sender']
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #FuncDecl[
                                                      $name: #NameExpr['send']
                                                      $param: #List['']
                                                      $body: #BlockExpr[
                                                         $main: #List[
                                                            $statement: #IfExpr[
                                                               $then: #ApplyExpr[
                                                                  #Self['self']
                                                                  $recv: #NameExpr['raise']
                                                                  $param: #List[
                                                                     $expression: #StringExpr['@sock is nil.']
                                                                  ]
                                                               ]
                                                               $cond: #ApplyExpr[
                                                                  $recv: #NameExpr['@sock']
                                                                  $recv: #NameExpr['nil?']
                                                               ]
                                                            ]
                                                            $statement: #ApplyExpr[
                                                               $recv: #NameExpr['@sock']
                                                               $recv: #NameExpr['send']
                                                               $param: #List[
                                                                  $expression: #NameExpr['@msg']
                                                                  $expression: #IntExpr['0']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['attr_reader']
                                                      $param: #List[
                                                         $expression: #NameExpr['data']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #Class[
                                    $name: #NameExpr['MDNSOneShot']
                                    $super: #NameExpr['UnconnectedUDP']
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['sender']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['msg']
                                                ]
                                                $param: #Param[
                                                   $param: #NameExpr['data']
                                                ]
                                                $param: #Param[
                                                   $param: #NameExpr['host']
                                                ]
                                                $param: #OptionalParam[
                                                   $name: #NameExpr['port']
                                                   $default: #NameExpr['Port']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['id']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['DNS']
                                                         $recv: #NameExpr['allocate_request_id']
                                                         $param: #List[
                                                            $expression: #NameExpr['host']
                                                            $expression: #NameExpr['port']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['request']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['msg']
                                                         $recv: #NameExpr['encode']
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #Indexer[
                                                         $base: #NameExpr['request']
                                                         $index: #List[
                                                            $expression: #IntExpr['0']
                                                            $expression: #IntExpr['2']
                                                         ]
                                                      ]
                                                      $right: #ApplyExpr[
                                                         $recv: #Array[
                                                            $index: #List[
                                                               $expression: #NameExpr['id']
                                                            ]
                                                         ]
                                                         $recv: #NameExpr['pack']
                                                         $param: #List[
                                                            $expression: #StringExpr['n']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['sock']
                                                      $right: #Indexer[
                                                         $recv: #NameExpr['@socks_hash']
                                                         $index: #List[
                                                            $expression: #Conditional[
                                                               $cond: #ApplyExpr[
                                                                  $recv: #NameExpr['host']
                                                                  $recv: #NameExpr['index']
                                                                  $param: #List[
                                                                     $expression: #StringExpr[':']
                                                                  ]
                                                               ]
                                                               $then: #StringExpr['::']
                                                               $else: #StringExpr['0.0.0.0']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #RReturnStmt[
                                                      $expr: #List[
                                                         $expression: #AssignExpr[
                                                            $left: #Indexer[
                                                               $base: #NameExpr['@senders']
                                                               $index: #List[
                                                                  $expression: #NameExpr['id']
                                                               ]
                                                            ]
                                                            $right: #ApplyExpr[
                                                               $recv: #Field[
                                                                  $recv: #NameExpr['UnconnectedUDP']
                                                                  $name: #NameExpr['Sender']
                                                               ]
                                                               $recv: #NameExpr['new']
                                                               $param: #List[
                                                                  $expression: #NameExpr['request']
                                                                  $expression: #NameExpr['data']
                                                                  $expression: #NameExpr['sock']
                                                                  $expression: #NameExpr['host']
                                                                  $expression: #NameExpr['port']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['sender_for']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['addr']
                                                ]
                                                $param: #Param[
                                                   $param: #NameExpr['msg']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #Indexer[
                                                   $recv: #NameExpr['@senders']
                                                   $index: #List[
                                                      $expression: #ApplyExpr[
                                                         $recv: #NameExpr['msg']
                                                         $recv: #NameExpr['id']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #Class[
                                    $name: #NameExpr['TCP']
                                    $super: #NameExpr['Requester']
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['initialize']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['host']
                                                ]
                                                $param: #OptionalParam[
                                                   $name: #NameExpr['port']
                                                   $default: #NameExpr['Port']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #Super['super']
                                                      $param: #Empty['']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@host']
                                                      $right: #NameExpr['host']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@port']
                                                      $right: #NameExpr['port']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['sock']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['TCPSocket']
                                                         $recv: #NameExpr['new']
                                                         $param: #List[
                                                            $expression: #NameExpr['@host']
                                                            $expression: #NameExpr['@port']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@socks']
                                                      $right: #Array[
                                                         $index: #List[
                                                            $expression: #NameExpr['sock']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@senders']
                                                      $right: #List['{}']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['recv_reply']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['readable_socks']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['len']
                                                      $right: #Indexer[
                                                         $recv: #ApplyExpr[
                                                            $recv: #ApplyExpr[
                                                               $recv: #Indexer[
                                                                  $recv: #NameExpr['readable_socks']
                                                                  $index: #List[
                                                                     $expression: #IntExpr['0']
                                                                  ]
                                                               ]
                                                               $recv: #NameExpr['read']
                                                               $param: #List[
                                                                  $expression: #IntExpr['2']
                                                               ]
                                                            ]
                                                            $recv: #NameExpr['unpack']
                                                            $param: #List[
                                                               $expression: #StringExpr['n']
                                                            ]
                                                         ]
                                                         $index: #List[
                                                            $expression: #IntExpr['0']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['reply']
                                                      $right: #ApplyExpr[
                                                         $recv: #Indexer[
                                                            $recv: #NameExpr['@socks']
                                                            $index: #List[
                                                               $expression: #IntExpr['0']
                                                            ]
                                                         ]
                                                         $recv: #NameExpr['read']
                                                         $param: #List[
                                                            $expression: #NameExpr['len']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #RReturnStmt[
                                                      $expr: #List[
                                                         $expression: #NameExpr['reply']
                                                         $expression: #Nil['nil']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['sender']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['msg']
                                                ]
                                                $param: #Param[
                                                   $param: #NameExpr['data']
                                                ]
                                                $param: #OptionalParam[
                                                   $name: #NameExpr['host']
                                                   $default: #NameExpr['@host']
                                                ]
                                                $param: #OptionalParam[
                                                   $name: #NameExpr['port']
                                                   $default: #NameExpr['@port']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #Unless[
                                                      $cond: #LAnd[
                                                         $left: #EqExpr[
                                                            $left: #NameExpr['host']
                                                            $right: #NameExpr['@host']
                                                         ]
                                                         $right: #EqExpr[
                                                            $left: #NameExpr['port']
                                                            $right: #NameExpr['@port']
                                                         ]
                                                      ]
                                                      $then: #ApplyExpr[
                                                         #Self['self']
                                                         $recv: #NameExpr['raise']
                                                         $param: #List[
                                                            $expression: #ApplyExpr[
                                                               $recv: #NameExpr['RequestError']
                                                               $recv: #NameExpr['new']
                                                               $param: #List[
                                                                  $expression: #StringExpr[
                                                                     $inner: #NameExpr['host']
                                                                     $inner: #NameExpr['port']
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['id']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['DNS']
                                                         $recv: #NameExpr['allocate_request_id']
                                                         $param: #List[
                                                            $expression: #NameExpr['@host']
                                                            $expression: #NameExpr['@port']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['request']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['msg']
                                                         $recv: #NameExpr['encode']
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #Indexer[
                                                         $base: #NameExpr['request']
                                                         $index: #List[
                                                            $expression: #IntExpr['0']
                                                            $expression: #IntExpr['2']
                                                         ]
                                                      ]
                                                      $right: #ApplyExpr[
                                                         $recv: #Array[
                                                            $index: #List[
                                                               $expression: #ApplyExpr[
                                                                  $recv: #NameExpr['request']
                                                                  $recv: #NameExpr['length']
                                                               ]
                                                               $expression: #NameExpr['id']
                                                            ]
                                                         ]
                                                         $recv: #NameExpr['pack']
                                                         $param: #List[
                                                            $expression: #StringExpr['nn']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #RReturnStmt[
                                                      $expr: #List[
                                                         $expression: #AssignExpr[
                                                            $left: #Indexer[
                                                               $base: #NameExpr['@senders']
                                                               $index: #List[
                                                                  $expression: #Array[
                                                                     $index: #List[
                                                                        $expression: #Nil['nil']
                                                                        $expression: #NameExpr['id']
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                            $right: #ApplyExpr[
                                                               $recv: #NameExpr['Sender']
                                                               $recv: #NameExpr['new']
                                                               $param: #List[
                                                                  $expression: #NameExpr['request']
                                                                  $expression: #NameExpr['data']
                                                                  $expression: #Indexer[
                                                                     $recv: #NameExpr['@socks']
                                                                     $index: #List[
                                                                        $expression: #IntExpr['0']
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #Class[
                                             $name: #NameExpr['Sender']
                                             $super: #Field[
                                                $recv: #NameExpr['Requester']
                                                $name: #NameExpr['Sender']
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #FuncDecl[
                                                      $name: #NameExpr['send']
                                                      $param: #List['']
                                                      $body: #BlockExpr[
                                                         $main: #List[
                                                            $statement: #ApplyExpr[
                                                               $recv: #NameExpr['@sock']
                                                               $recv: #NameExpr['print']
                                                               $param: #List[
                                                                  $expression: #NameExpr['@msg']
                                                               ]
                                                            ]
                                                            $statement: #ApplyExpr[
                                                               $recv: #NameExpr['@sock']
                                                               $recv: #NameExpr['flush']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['attr_reader']
                                                      $param: #List[
                                                         $expression: #NameExpr['data']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['close']
                                             $param: #List['']
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #Super['super']
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['@senders']
                                                      $recv: #NameExpr['each_key']
                                                      $body: #Block[
                                                         $param: #MultipleLeftHandSideExpression[
                                                            $item: #NameExpr['from']
                                                            $item: #NameExpr['id']
                                                         ]
                                                         $body: #ApplyExpr[
                                                            $recv: #NameExpr['DNS']
                                                            $recv: #NameExpr['free_request_id']
                                                            $param: #List[
                                                               $expression: #NameExpr['@host']
                                                               $expression: #NameExpr['@port']
                                                               $expression: #NameExpr['id']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #Class[
                                    $name: #NameExpr['RequestError']
                                    $super: #NameExpr['StandardError']
                                    $body: #BlockExpr[
                                       $main: #Empty['']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #Class[
                           $name: #NameExpr['Config']
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['initialize']
                                    $param: #List[
                                       $param: #OptionalParam[
                                          $name: #NameExpr['config_info']
                                          $default: #Nil['nil']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['@mutex']
                                             $right: #ApplyExpr[
                                                $recv: #Field[
                                                   $recv: #NameExpr['Thread']
                                                   $name: #NameExpr['Mutex']
                                                ]
                                                $recv: #NameExpr['new']
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['@config_info']
                                             $right: #NameExpr['config_info']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['@initialized']
                                             $right: #Nil['nil']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['@timeouts']
                                             $right: #Nil['nil']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['timeouts=']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['values']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #IfExpr[
                                          $cond: #NameExpr['values']
                                          $then: #List[
                                             $statement: #AssignExpr[
                                                $left: #NameExpr['values']
                                                $right: #ApplyExpr[
                                                   #Self['self']
                                                   $recv: #NameExpr['Array']
                                                   $param: #List[
                                                      $expression: #NameExpr['values']
                                                   ]
                                                ]
                                             ]
                                             $statement: #ApplyExpr[
                                                $recv: #NameExpr['values']
                                                $recv: #NameExpr['each']
                                                $body: #Block[
                                                   $param: #NameExpr['t']
                                                   $body: #List[
                                                      $statement: #OrExpr[
                                                         $left: #StrictEquals[
                                                            $left: #NameExpr['Numeric']
                                                            $right: #NameExpr['t']
                                                         ]
                                                         $right: #ApplyExpr[
                                                            #Self['self']
                                                            $recv: #NameExpr['raise']
                                                            $param: #List[
                                                               $expression: #NameExpr['ArgumentError']
                                                               $expression: #StringExpr[
                                                                  $inner: #ApplyExpr[
                                                                     $recv: #NameExpr['t']
                                                                     $recv: #NameExpr['inspect']
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $statement: #OrExpr[
                                                         $left: #GtExpr[
                                                            $left: #NameExpr['t']
                                                            $right: #FloatExpr['0.0']
                                                         ]
                                                         $right: #ApplyExpr[
                                                            #Self['self']
                                                            $recv: #NameExpr['raise']
                                                            $param: #List[
                                                               $expression: #NameExpr['ArgumentError']
                                                               $expression: #StringExpr[
                                                                  $inner: #NameExpr['t']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                             $statement: #AssignExpr[
                                                $left: #NameExpr['@timeouts']
                                                $right: #NameExpr['values']
                                             ]
                                          ]
                                          $else: #AssignExpr[
                                             $left: #NameExpr['@timeouts']
                                             $right: #Nil['nil']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #SFuncDecl[
                                    $path: #NameExpr['Config']
                                    $name: #NameExpr['parse_resolv_conf']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['filename']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['nameserver']
                                             $right: #Array['[]']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['search']
                                             $right: #Nil['nil']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['ndots']
                                             $right: #IntExpr['1']
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['open']
                                             $param: #List[
                                                $expression: #NameExpr['filename']
                                                $expression: #StringExpr['rb']
                                             ]
                                             $body: #Block[
                                                $param: #NameExpr['f']
                                                $body: #ApplyExpr[
                                                   $recv: #NameExpr['f']
                                                   $recv: #NameExpr['each']
                                                   $body: #Block[
                                                      $param: #NameExpr['line']
                                                      $body: #List[
                                                         $statement: #ApplyExpr[
                                                            $recv: #NameExpr['line']
                                                            $recv: #NameExpr['sub!']
                                                            $param: #List[
                                                               $expression: #Regex['/[#;].*/']
                                                               $expression: #StringExpr['']
                                                            ]
                                                         ]
                                                         $statement: #MultipleAssign[
                                                            $left: #MultipleLeftHandSideExpression[
                                                               $item: #NameExpr['keyword']
                                                               $item: #Variadic[
                                                                  $item: #NameExpr['args']
                                                               ]
                                                            ]
                                                            $right: #ApplyExpr[
                                                               $recv: #NameExpr['line']
                                                               $recv: #NameExpr['split']
                                                               $param: #List[
                                                                  $expression: #Regex['/\\s+/']
                                                               ]
                                                            ]
                                                         ]
                                                         $statement: #ApplyExpr[
                                                            $recv: #NameExpr['args']
                                                            $recv: #NameExpr['each']
                                                            $body: #Block[
                                                               $param: #NameExpr['arg']
                                                               $body: #ApplyExpr[
                                                                  $recv: #NameExpr['arg']
                                                                  $recv: #NameExpr['untaint']
                                                               ]
                                                            ]
                                                         ]
                                                         $statement: #Unless[
                                                            $then: #Next['next']
                                                            $cond: #NameExpr['keyword']
                                                         ]
                                                         $statement: #Case[
                                                            $cond: #NameExpr['keyword']
                                                            $body: #List[
                                                               $when: #When[
                                                                  $cond: #List[
                                                                     $expression: #StringExpr['nameserver']
                                                                  ]
                                                                  $then: #AddAssign[
                                                                     $left: #NameExpr['nameserver']
                                                                     $right: #NameExpr['args']
                                                                  ]
                                                               ]
                                                               $when: #When[
                                                                  $cond: #List[
                                                                     $expression: #StringExpr['domain']
                                                                  ]
                                                                  $then: #List[
                                                                     $statement: #IfExpr[
                                                                        $then: #Next['next']
                                                                        $cond: #ApplyExpr[
                                                                           $recv: #NameExpr['args']
                                                                           $recv: #NameExpr['empty?']
                                                                        ]
                                                                     ]
                                                                     $statement: #AssignExpr[
                                                                        $left: #NameExpr['search']
                                                                        $right: #Array[
                                                                           $index: #List[
                                                                              $expression: #Indexer[
                                                                                 $recv: #NameExpr['args']
                                                                                 $index: #List[
                                                                                    $expression: #IntExpr['0']
                                                                                 ]
                                                                              ]
                                                                           ]
                                                                        ]
                                                                     ]
                                                                  ]
                                                               ]
                                                               $when: #When[
                                                                  $cond: #List[
                                                                     $expression: #StringExpr['search']
                                                                  ]
                                                                  $then: #List[
                                                                     $statement: #IfExpr[
                                                                        $then: #Next['next']
                                                                        $cond: #ApplyExpr[
                                                                           $recv: #NameExpr['args']
                                                                           $recv: #NameExpr['empty?']
                                                                        ]
                                                                     ]
                                                                     $statement: #AssignExpr[
                                                                        $left: #NameExpr['search']
                                                                        $right: #NameExpr['args']
                                                                     ]
                                                                  ]
                                                               ]
                                                               $when: #When[
                                                                  $cond: #List[
                                                                     $expression: #StringExpr['options']
                                                                  ]
                                                                  $then: #ApplyExpr[
                                                                     $recv: #NameExpr['args']
                                                                     $recv: #NameExpr['each']
                                                                     $body: #Block[
                                                                        $param: #NameExpr['arg']
                                                                        $body: #Case[
                                                                           $cond: #NameExpr['arg']
                                                                           $body: #List[
                                                                              $when: #When[
                                                                                 $cond: #List[
                                                                                    $expression: #Regex['/\\Andots:(\\d+)\\z/']
                                                                                 ]
                                                                                 $then: #AssignExpr[
                                                                                    $left: #NameExpr['ndots']
                                                                                    $right: #ApplyExpr[
                                                                                       $recv: #MatchedRegex['$1']
                                                                                       $recv: #NameExpr['to_i']
                                                                                    ]
                                                                                 ]
                                                                              ]
                                                                           ]
                                                                        ]
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #RReturnStmt[
                                             $expr: #List[
                                                $expression: #List[
                                                   $hash: #Hash[
                                                      $key: #NameExpr['nameserver']
                                                      $value: #NameExpr['nameserver']
                                                   ]
                                                   $hash: #Hash[
                                                      $key: #NameExpr['search']
                                                      $value: #NameExpr['search']
                                                   ]
                                                   $hash: #Hash[
                                                      $key: #NameExpr['ndots']
                                                      $value: #NameExpr['ndots']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #SFuncDecl[
                                    $path: #NameExpr['Config']
                                    $name: #NameExpr['default_config_hash']
                                    $param: #List[
                                       $param: #OptionalParam[
                                          $name: #NameExpr['filename']
                                          $default: #StringExpr['/etc/resolv.conf']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #IfExpr[
                                             $cond: #ApplyExpr[
                                                $base: #NameExpr['File']
                                                $recv: #NameExpr['exist?']
                                                $param: #List[
                                                   $expression: #NameExpr['filename']
                                                ]
                                             ]
                                             $then: #AssignExpr[
                                                $left: #NameExpr['config_hash']
                                                $right: #ApplyExpr[
                                                   $recv: #NameExpr['Config']
                                                   $recv: #NameExpr['parse_resolv_conf']
                                                   $param: #List[
                                                      $expression: #NameExpr['filename']
                                                   ]
                                                ]
                                             ]
                                             $else: #IfExpr[
                                                $cond: #Match[
                                                   $left: #Regex['/mswin|cygwin|mingw|bccwin/']
                                                   $right: #NameExpr['RUBY_PLATFORM']
                                                ]
                                                $then: #List[
                                                   $statement: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['require']
                                                      $param: #List[
                                                         $expression: #StringExpr['win32/resolv']
                                                      ]
                                                   ]
                                                   $statement: #MultipleAssign[
                                                      $left: #MultipleLeftHandSideExpression[
                                                         $item: #NameExpr['search']
                                                         $item: #NameExpr['nameserver']
                                                      ]
                                                      $right: #ApplyExpr[
                                                         $recv: #Field[
                                                            $recv: #NameExpr['Win32']
                                                            $name: #NameExpr['Resolv']
                                                         ]
                                                         $recv: #NameExpr['get_resolv_info']
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['config_hash']
                                                      $right: #List['{}']
                                                   ]
                                                   $statement: #IfExpr[
                                                      $then: #AssignExpr[
                                                         $left: #Indexer[
                                                            $base: #NameExpr['config_hash']
                                                            $index: #List[
                                                               $expression: #NameExpr['nameserver']
                                                            ]
                                                         ]
                                                         $right: #NameExpr['nameserver']
                                                      ]
                                                      $cond: #NameExpr['nameserver']
                                                   ]
                                                   $statement: #IfExpr[
                                                      $then: #AssignExpr[
                                                         $left: #Indexer[
                                                            $base: #NameExpr['config_hash']
                                                            $index: #List[
                                                               $expression: #NameExpr['search']
                                                            ]
                                                         ]
                                                         $right: #ApplyExpr[
                                                            $recv: #Array[
                                                               $index: #List[
                                                                  $expression: #NameExpr['search']
                                                               ]
                                                            ]
                                                            $recv: #NameExpr['flatten']
                                                         ]
                                                      ]
                                                      $cond: #NameExpr['search']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #LOr[
                                             $left: #NameExpr['config_hash']
                                             $right: #List['{}']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['lazy_initialize']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #ApplyExpr[
                                             $recv: #NameExpr['@mutex']
                                             $recv: #NameExpr['synchronize']
                                             $body: #Block[
                                                $body: #Unless[
                                                   $cond: #NameExpr['@initialized']
                                                   $then: #List[
                                                      $statement: #AssignExpr[
                                                         $left: #NameExpr['@nameserver_port']
                                                         $right: #Array['[]']
                                                      ]
                                                      $statement: #AssignExpr[
                                                         $left: #NameExpr['@search']
                                                         $right: #Nil['nil']
                                                      ]
                                                      $statement: #AssignExpr[
                                                         $left: #NameExpr['@ndots']
                                                         $right: #IntExpr['1']
                                                      ]
                                                      $statement: #Case[
                                                         $cond: #NameExpr['@config_info']
                                                         $body: #List[
                                                            $when: #When[
                                                               $cond: #List[
                                                                  $expression: #Nil['nil']
                                                               ]
                                                               $then: #AssignExpr[
                                                                  $left: #NameExpr['config_hash']
                                                                  $right: #ApplyExpr[
                                                                     $recv: #NameExpr['Config']
                                                                     $recv: #NameExpr['default_config_hash']
                                                                  ]
                                                               ]
                                                            ]
                                                            $when: #When[
                                                               $cond: #List[
                                                                  $expression: #NameExpr['String']
                                                               ]
                                                               $then: #AssignExpr[
                                                                  $left: #NameExpr['config_hash']
                                                                  $right: #ApplyExpr[
                                                                     $recv: #NameExpr['Config']
                                                                     $recv: #NameExpr['parse_resolv_conf']
                                                                     $param: #List[
                                                                        $expression: #NameExpr['@config_info']
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                            $when: #When[
                                                               $cond: #List[
                                                                  $expression: #NameExpr['Hash']
                                                               ]
                                                               $then: #List[
                                                                  $statement: #AssignExpr[
                                                                     $left: #NameExpr['config_hash']
                                                                     $right: #ApplyExpr[
                                                                        $recv: #NameExpr['@config_info']
                                                                        $recv: #NameExpr['dup']
                                                                     ]
                                                                  ]
                                                                  $statement: #IfExpr[
                                                                     $cond: #StrictEquals[
                                                                        $left: #NameExpr['String']
                                                                        $right: #Indexer[
                                                                           $recv: #NameExpr['config_hash']
                                                                           $index: #List[
                                                                              $expression: #NameExpr['nameserver']
                                                                           ]
                                                                        ]
                                                                     ]
                                                                     $then: #AssignExpr[
                                                                        $left: #Indexer[
                                                                           $base: #NameExpr['config_hash']
                                                                           $index: #List[
                                                                              $expression: #NameExpr['nameserver']
                                                                           ]
                                                                        ]
                                                                        $right: #Array[
                                                                           $index: #List[
                                                                              $expression: #Indexer[
                                                                                 $recv: #NameExpr['config_hash']
                                                                                 $index: #List[
                                                                                    $expression: #NameExpr['nameserver']
                                                                                 ]
                                                                              ]
                                                                           ]
                                                                        ]
                                                                     ]
                                                                  ]
                                                                  $statement: #IfExpr[
                                                                     $cond: #StrictEquals[
                                                                        $left: #NameExpr['String']
                                                                        $right: #Indexer[
                                                                           $recv: #NameExpr['config_hash']
                                                                           $index: #List[
                                                                              $expression: #NameExpr['search']
                                                                           ]
                                                                        ]
                                                                     ]
                                                                     $then: #AssignExpr[
                                                                        $left: #Indexer[
                                                                           $base: #NameExpr['config_hash']
                                                                           $index: #List[
                                                                              $expression: #NameExpr['search']
                                                                           ]
                                                                        ]
                                                                        $right: #Array[
                                                                           $index: #List[
                                                                              $expression: #Indexer[
                                                                                 $recv: #NameExpr['config_hash']
                                                                                 $index: #List[
                                                                                    $expression: #NameExpr['search']
                                                                                 ]
                                                                              ]
                                                                           ]
                                                                        ]
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                         $else: #ApplyExpr[
                                                            #Self['self']
                                                            $recv: #NameExpr['raise']
                                                            $param: #List[
                                                               $expression: #ApplyExpr[
                                                                  $recv: #NameExpr['ArgumentError']
                                                                  $recv: #NameExpr['new']
                                                                  $param: #List[
                                                                     $expression: #StringExpr[
                                                                        $inner: #ApplyExpr[
                                                                           $recv: #NameExpr['@config_info']
                                                                           $recv: #NameExpr['inspect']
                                                                        ]
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $statement: #IfExpr[
                                                         $cond: #ApplyExpr[
                                                            $base: #NameExpr['config_hash']
                                                            $recv: #NameExpr['include?']
                                                            $param: #List[
                                                               $expression: #NameExpr['nameserver']
                                                            ]
                                                         ]
                                                         $then: #AssignExpr[
                                                            $left: #NameExpr['@nameserver_port']
                                                            $right: #ApplyExpr[
                                                               $recv: #Indexer[
                                                                  $recv: #NameExpr['config_hash']
                                                                  $index: #List[
                                                                     $expression: #NameExpr['nameserver']
                                                                  ]
                                                               ]
                                                               $recv: #NameExpr['map']
                                                               $body: #Block[
                                                                  $param: #NameExpr['ns']
                                                                  $body: #Array[
                                                                     $index: #List[
                                                                        $expression: #NameExpr['ns']
                                                                        $expression: #NameExpr['Port']
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $statement: #IfExpr[
                                                         $cond: #ApplyExpr[
                                                            $base: #NameExpr['config_hash']
                                                            $recv: #NameExpr['include?']
                                                            $param: #List[
                                                               $expression: #NameExpr['nameserver_port']
                                                            ]
                                                         ]
                                                         $then: #AssignExpr[
                                                            $left: #NameExpr['@nameserver_port']
                                                            $right: #ApplyExpr[
                                                               $recv: #Indexer[
                                                                  $recv: #NameExpr['config_hash']
                                                                  $index: #List[
                                                                     $expression: #NameExpr['nameserver_port']
                                                                  ]
                                                               ]
                                                               $recv: #NameExpr['map']
                                                               $body: #Block[
                                                                  $param: #MultipleLeftHandSideExpression[
                                                                     $item: #NameExpr['ns']
                                                                     $item: #NameExpr['port']
                                                                  ]
                                                                  $body: #Array[
                                                                     $index: #List[
                                                                        $expression: #NameExpr['ns']
                                                                        $expression: #LOr[
                                                                           $left: #NameExpr['port']
                                                                           $right: #NameExpr['Port']
                                                                        ]
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $statement: #IfExpr[
                                                         $then: #AssignExpr[
                                                            $left: #NameExpr['@search']
                                                            $right: #Indexer[
                                                               $recv: #NameExpr['config_hash']
                                                               $index: #List[
                                                                  $expression: #NameExpr['search']
                                                               ]
                                                            ]
                                                         ]
                                                         $cond: #ApplyExpr[
                                                            $base: #NameExpr['config_hash']
                                                            $recv: #NameExpr['include?']
                                                            $param: #List[
                                                               $expression: #NameExpr['search']
                                                            ]
                                                         ]
                                                      ]
                                                      $statement: #IfExpr[
                                                         $then: #AssignExpr[
                                                            $left: #NameExpr['@ndots']
                                                            $right: #Indexer[
                                                               $recv: #NameExpr['config_hash']
                                                               $index: #List[
                                                                  $expression: #NameExpr['ndots']
                                                               ]
                                                            ]
                                                         ]
                                                         $cond: #ApplyExpr[
                                                            $base: #NameExpr['config_hash']
                                                            $recv: #NameExpr['include?']
                                                            $param: #List[
                                                               $expression: #NameExpr['ndots']
                                                            ]
                                                         ]
                                                      ]
                                                      $statement: #IfExpr[
                                                         $cond: #ApplyExpr[
                                                            $recv: #NameExpr['@nameserver_port']
                                                            $recv: #NameExpr['empty?']
                                                         ]
                                                         $then: #LShiftExpr[
                                                            $left: #NameExpr['@nameserver_port']
                                                            $right: #Array[
                                                               $index: #List[
                                                                  $expression: #StringExpr['0.0.0.0']
                                                                  $expression: #NameExpr['Port']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $statement: #IfExpr[
                                                         $cond: #NameExpr['@search']
                                                         $then: #AssignExpr[
                                                            $left: #NameExpr['@search']
                                                            $right: #ApplyExpr[
                                                               $recv: #NameExpr['@search']
                                                               $recv: #NameExpr['map']
                                                               $body: #Block[
                                                                  $param: #NameExpr['arg']
                                                                  $body: #ApplyExpr[
                                                                     $recv: #NameExpr['Label']
                                                                     $recv: #NameExpr['split']
                                                                     $param: #List[
                                                                        $expression: #NameExpr['arg']
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                         $else: #List[
                                                            $statement: #AssignExpr[
                                                               $left: #NameExpr['hostname']
                                                               $right: #ApplyExpr[
                                                                  $recv: #NameExpr['Socket']
                                                                  $recv: #NameExpr['gethostname']
                                                               ]
                                                            ]
                                                            $statement: #IfExpr[
                                                               $cond: #Match[
                                                                  $left: #Regex['/\\./']
                                                                  $right: #NameExpr['hostname']
                                                               ]
                                                               $then: #AssignExpr[
                                                                  $left: #NameExpr['@search']
                                                                  $right: #Array[
                                                                     $index: #List[
                                                                        $expression: #ApplyExpr[
                                                                           $recv: #NameExpr['Label']
                                                                           $recv: #NameExpr['split']
                                                                           $param: #List[
                                                                              $expression: #BuiltInVariable['$\'']
                                                                           ]
                                                                        ]
                                                                     ]
                                                                  ]
                                                               ]
                                                               $else: #AssignExpr[
                                                                  $left: #NameExpr['@search']
                                                                  $right: #Array[
                                                                     $index: #List[
                                                                        $expression: #Array['[]']
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $statement: #IfExpr[
                                                         $cond: #LOr[
                                                            $left: #NotExpr[
                                                               $expr: #ApplyExpr[
                                                                  $recv: #NameExpr['@nameserver_port']
                                                                  $recv: #NameExpr['kind_of?']
                                                                  $param: #List[
                                                                     $expression: #NameExpr['Array']
                                                                  ]
                                                               ]
                                                            ]
                                                            $right: #ApplyExpr[
                                                               $recv: #NameExpr['@nameserver_port']
                                                               $recv: #NameExpr['any?']
                                                               $body: #Block[
                                                                  $param: #NameExpr['ns_port']
                                                                  $body: #List[
                                                                     $statement: #LOr[
                                                                        $left: #NotExpr[
                                                                           $expr: #StrictEquals[
                                                                              $left: #NameExpr['Array']
                                                                              $right: #NameExpr['ns_port']
                                                                           ]
                                                                        ]
                                                                        $right: #NeExpr[
                                                                           $left: #ApplyExpr[
                                                                              $recv: #NameExpr['ns_port']
                                                                              $recv: #NameExpr['length']
                                                                           ]
                                                                           $right: #IntExpr['2']
                                                                        ]
                                                                     ]
                                                                     $statement: #LOr[
                                                                        $left: #NotExpr[
                                                                           $expr: #StrictEquals[
                                                                              $left: #NameExpr['String']
                                                                              $right: #Indexer[
                                                                                 $recv: #NameExpr['ns_port']
                                                                                 $index: #List[
                                                                                    $expression: #IntExpr['0']
                                                                                 ]
                                                                              ]
                                                                           ]
                                                                        ]
                                                                        $right: #NotExpr[
                                                                           $expr: #StrictEquals[
                                                                              $left: #NameExpr['Integer']
                                                                              $right: #Indexer[
                                                                                 $recv: #NameExpr['ns_port']
                                                                                 $index: #List[
                                                                                    $expression: #IntExpr['1']
                                                                                 ]
                                                                              ]
                                                                           ]
                                                                        ]
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                         $then: #ApplyExpr[
                                                            #Self['self']
                                                            $recv: #NameExpr['raise']
                                                            $param: #List[
                                                               $expression: #ApplyExpr[
                                                                  $recv: #NameExpr['ArgumentError']
                                                                  $recv: #NameExpr['new']
                                                                  $param: #List[
                                                                     $expression: #StringExpr[
                                                                        $inner: #ApplyExpr[
                                                                           $recv: #NameExpr['@nameserver_port']
                                                                           $recv: #NameExpr['inspect']
                                                                        ]
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $statement: #IfExpr[
                                                         $cond: #LOr[
                                                            $left: #NotExpr[
                                                               $expr: #ApplyExpr[
                                                                  $recv: #NameExpr['@search']
                                                                  $recv: #NameExpr['kind_of?']
                                                                  $param: #List[
                                                                     $expression: #NameExpr['Array']
                                                                  ]
                                                               ]
                                                            ]
                                                            $right: #NotExpr[
                                                               $expr: #ApplyExpr[
                                                                  $recv: #NameExpr['@search']
                                                                  $recv: #NameExpr['all?']
                                                                  $body: #Block[
                                                                     $param: #NameExpr['ls']
                                                                     $body: #ApplyExpr[
                                                                        $recv: #NameExpr['ls']
                                                                        $recv: #NameExpr['all?']
                                                                        $body: #Block[
                                                                           $param: #NameExpr['l']
                                                                           $body: #StrictEquals[
                                                                              $left: #Field[
                                                                                 $recv: #NameExpr['Label']
                                                                                 $name: #NameExpr['Str']
                                                                              ]
                                                                              $right: #NameExpr['l']
                                                                           ]
                                                                        ]
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                         $then: #ApplyExpr[
                                                            #Self['self']
                                                            $recv: #NameExpr['raise']
                                                            $param: #List[
                                                               $expression: #ApplyExpr[
                                                                  $recv: #NameExpr['ArgumentError']
                                                                  $recv: #NameExpr['new']
                                                                  $param: #List[
                                                                     $expression: #StringExpr[
                                                                        $inner: #ApplyExpr[
                                                                           $recv: #NameExpr['@search']
                                                                           $recv: #NameExpr['inspect']
                                                                        ]
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $statement: #IfExpr[
                                                         $cond: #NotExpr[
                                                            $expr: #ApplyExpr[
                                                               $recv: #NameExpr['@ndots']
                                                               $recv: #NameExpr['kind_of?']
                                                               $param: #List[
                                                                  $expression: #NameExpr['Integer']
                                                               ]
                                                            ]
                                                         ]
                                                         $then: #ApplyExpr[
                                                            #Self['self']
                                                            $recv: #NameExpr['raise']
                                                            $param: #List[
                                                               $expression: #ApplyExpr[
                                                                  $recv: #NameExpr['ArgumentError']
                                                                  $recv: #NameExpr['new']
                                                                  $param: #List[
                                                                     $expression: #StringExpr[
                                                                        $inner: #ApplyExpr[
                                                                           $recv: #NameExpr['@ndots']
                                                                           $recv: #NameExpr['inspect']
                                                                        ]
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $statement: #AssignExpr[
                                                         $left: #NameExpr['@initialized']
                                                         $right: #TrueExpr['true']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #Self['self']
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['single?']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #NameExpr['lazy_initialize']
                                          $statement: #IfExpr[
                                             $cond: #EqExpr[
                                                $left: #ApplyExpr[
                                                   $recv: #NameExpr['@nameserver_port']
                                                   $recv: #NameExpr['length']
                                                ]
                                                $right: #IntExpr['1']
                                             ]
                                             $then: #RReturnStmt[
                                                $expr: #List[
                                                   $expression: #Indexer[
                                                      $recv: #NameExpr['@nameserver_port']
                                                      $index: #List[
                                                         $expression: #IntExpr['0']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                             $else: #RReturnStmt[
                                                $expr: #List[
                                                   $expression: #Nil['nil']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['nameserver_port']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #NameExpr['@nameserver_port']
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['generate_candidates']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['name']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['candidates']
                                             $right: #Nil['nil']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['name']
                                             $right: #ApplyExpr[
                                                $recv: #NameExpr['Name']
                                                $recv: #NameExpr['create']
                                                $param: #List[
                                                   $expression: #NameExpr['name']
                                                ]
                                             ]
                                          ]
                                          $statement: #IfExpr[
                                             $cond: #ApplyExpr[
                                                $recv: #NameExpr['name']
                                                $recv: #NameExpr['absolute?']
                                             ]
                                             $then: #AssignExpr[
                                                $left: #NameExpr['candidates']
                                                $right: #Array[
                                                   $index: #List[
                                                      $expression: #NameExpr['name']
                                                   ]
                                                ]
                                             ]
                                             $else: #List[
                                                $statement: #IfExpr[
                                                   $cond: #LteExpr[
                                                      $left: #NameExpr['@ndots']
                                                      $right: #SubExpr[
                                                         $left: #ApplyExpr[
                                                            $recv: #NameExpr['name']
                                                            $recv: #NameExpr['length']
                                                         ]
                                                         $right: #IntExpr['1']
                                                      ]
                                                   ]
                                                   $then: #AssignExpr[
                                                      $left: #NameExpr['candidates']
                                                      $right: #Array[
                                                         $index: #List[
                                                            $expression: #ApplyExpr[
                                                               $recv: #NameExpr['Name']
                                                               $recv: #NameExpr['new']
                                                               $param: #List[
                                                                  $expression: #ApplyExpr[
                                                                     $recv: #NameExpr['name']
                                                                     $recv: #NameExpr['to_a']
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $else: #AssignExpr[
                                                      $left: #NameExpr['candidates']
                                                      $right: #Array['[]']
                                                   ]
                                                ]
                                                $statement: #ApplyExpr[
                                                   $recv: #NameExpr['candidates']
                                                   $recv: #NameExpr['concat']
                                                   $param: #List[
                                                      $expression: #ApplyExpr[
                                                         $recv: #NameExpr['@search']
                                                         $recv: #NameExpr['map']
                                                         $body: #Block[
                                                            $param: #NameExpr['domain']
                                                            $body: #ApplyExpr[
                                                               $recv: #NameExpr['Name']
                                                               $recv: #NameExpr['new']
                                                               $param: #List[
                                                                  $expression: #AddExpr[
                                                                     $left: #ApplyExpr[
                                                                        $recv: #NameExpr['name']
                                                                        $recv: #NameExpr['to_a']
                                                                     ]
                                                                     $right: #NameExpr['domain']
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                                $statement: #AssignExpr[
                                                   $left: #NameExpr['fname']
                                                   $right: #ApplyExpr[
                                                      $recv: #NameExpr['Name']
                                                      $recv: #NameExpr['create']
                                                      $param: #List[
                                                         $expression: #StringExpr[
                                                            $inner: #NameExpr['name']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                                $statement: #IfExpr[
                                                   $cond: #NotExpr[
                                                      $expr: #ApplyExpr[
                                                         $recv: #NameExpr['candidates']
                                                         $recv: #NameExpr['include?']
                                                         $param: #List[
                                                            $expression: #NameExpr['fname']
                                                         ]
                                                      ]
                                                   ]
                                                   $then: #LShiftExpr[
                                                      $left: #NameExpr['candidates']
                                                      $right: #NameExpr['fname']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #RReturnStmt[
                                             $expr: #List[
                                                $expression: #NameExpr['candidates']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['InitialTimeout']
                                    $right: #IntExpr['5']
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['generate_timeouts']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['ts']
                                             $right: #Array[
                                                $index: #List[
                                                   $expression: #NameExpr['InitialTimeout']
                                                ]
                                             ]
                                          ]
                                          $statement: #LShiftExpr[
                                             $left: #NameExpr['ts']
                                             $right: #DivExpr[
                                                $left: #MulExpr[
                                                   $left: #Indexer[
                                                      $recv: #NameExpr['ts']
                                                      $index: #List[
                                                         $expression: #MinusExpr[
                                                            $expr: #IntExpr['1']
                                                         ]
                                                      ]
                                                   ]
                                                   $right: #IntExpr['2']
                                                ]
                                                $right: #ApplyExpr[
                                                   $recv: #NameExpr['@nameserver_port']
                                                   $recv: #NameExpr['length']
                                                ]
                                             ]
                                          ]
                                          $statement: #LShiftExpr[
                                             $left: #NameExpr['ts']
                                             $right: #MulExpr[
                                                $left: #Indexer[
                                                   $recv: #NameExpr['ts']
                                                   $index: #List[
                                                      $expression: #MinusExpr[
                                                         $expr: #IntExpr['1']
                                                      ]
                                                   ]
                                                ]
                                                $right: #IntExpr['2']
                                             ]
                                          ]
                                          $statement: #LShiftExpr[
                                             $left: #NameExpr['ts']
                                             $right: #MulExpr[
                                                $left: #Indexer[
                                                   $recv: #NameExpr['ts']
                                                   $index: #List[
                                                      $expression: #MinusExpr[
                                                         $expr: #IntExpr['1']
                                                      ]
                                                   ]
                                                ]
                                                $right: #IntExpr['2']
                                             ]
                                          ]
                                          $statement: #RReturnStmt[
                                             $expr: #List[
                                                $expression: #NameExpr['ts']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['resolv']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['name']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['candidates']
                                             $right: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['generate_candidates']
                                                $param: #List[
                                                   $expression: #NameExpr['name']
                                                ]
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['timeouts']
                                             $right: #LOr[
                                                $left: #NameExpr['@timeouts']
                                                $right: #NameExpr['generate_timeouts']
                                             ]
                                          ]
                                          $statement: #ExceptionBlock[
                                             $main: #ApplyExpr[
                                                $recv: #NameExpr['candidates']
                                                $recv: #NameExpr['each']
                                                $body: #Block[
                                                   $param: #NameExpr['candidate']
                                                   $body: #ExceptionBlock[
                                                      $main: #List[
                                                         $statement: #ApplyExpr[
                                                            $recv: #NameExpr['timeouts']
                                                            $recv: #NameExpr['each']
                                                            $body: #Block[
                                                               $param: #NameExpr['tout']
                                                               $body: #ApplyExpr[
                                                                  $recv: #NameExpr['@nameserver_port']
                                                                  $recv: #NameExpr['each']
                                                                  $body: #Block[
                                                                     $param: #MultipleLeftHandSideExpression[
                                                                        $item: #NameExpr['nameserver']
                                                                        $item: #NameExpr['port']
                                                                     ]
                                                                     $body: #ExceptionBlock[
                                                                        $main: #Yield[
                                                                           $param: #List[
                                                                              $expression: #NameExpr['candidate']
                                                                              $expression: #NameExpr['tout']
                                                                              $expression: #NameExpr['nameserver']
                                                                              $expression: #NameExpr['port']
                                                                           ]
                                                                        ]
                                                                        $rescue: #List[
                                                                           $rescue: #Rescue[
                                                                              $class: #NameExpr['ResolvTimeout']
                                                                              $then: #Empty['']
                                                                           ]
                                                                        ]
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                         $statement: #ApplyExpr[
                                                            #Self['self']
                                                            $recv: #NameExpr['raise']
                                                            $param: #List[
                                                               $expression: #ApplyExpr[
                                                                  $recv: #NameExpr['ResolvError']
                                                                  $recv: #NameExpr['new']
                                                                  $param: #List[
                                                                     $expression: #StringExpr[
                                                                        $inner: #NameExpr['name']
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $rescue: #List[
                                                         $rescue: #Rescue[
                                                            $class: #NameExpr['NXDomain']
                                                            $then: #Empty['']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                             $rescue: #List[
                                                $rescue: #Rescue[
                                                   $class: #NameExpr['ResolvError']
                                                   $then: #Empty['']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #Class[
                                    $name: #NameExpr['NXDomain']
                                    $super: #NameExpr['ResolvError']
                                    $body: #BlockExpr[
                                       $main: #Empty['']
                                    ]
                                 ]
                                 $statement: #Class[
                                    $name: #NameExpr['OtherResolvError']
                                    $super: #NameExpr['ResolvError']
                                    $body: #BlockExpr[
                                       $main: #Empty['']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #Module[
                           $name: #NameExpr['OpCode']
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['Query']
                                    $right: #IntExpr['0']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['IQuery']
                                    $right: #IntExpr['1']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['Status']
                                    $right: #IntExpr['2']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['Notify']
                                    $right: #IntExpr['4']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['Update']
                                    $right: #IntExpr['5']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #Module[
                           $name: #NameExpr['RCode']
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['NoError']
                                    $right: #IntExpr['0']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['FormErr']
                                    $right: #IntExpr['1']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['ServFail']
                                    $right: #IntExpr['2']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['NXDomain']
                                    $right: #IntExpr['3']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['NotImp']
                                    $right: #IntExpr['4']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['Refused']
                                    $right: #IntExpr['5']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['YXDomain']
                                    $right: #IntExpr['6']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['YXRRSet']
                                    $right: #IntExpr['7']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['NXRRSet']
                                    $right: #IntExpr['8']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['NotAuth']
                                    $right: #IntExpr['9']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['NotZone']
                                    $right: #IntExpr['10']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['BADVERS']
                                    $right: #IntExpr['16']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['BADSIG']
                                    $right: #IntExpr['16']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['BADKEY']
                                    $right: #IntExpr['17']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['BADTIME']
                                    $right: #IntExpr['18']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['BADMODE']
                                    $right: #IntExpr['19']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['BADNAME']
                                    $right: #IntExpr['20']
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['BADALG']
                                    $right: #IntExpr['21']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #Class[
                           $name: #NameExpr['DecodeError']
                           $super: #NameExpr['StandardError']
                           $body: #BlockExpr[
                              $main: #Empty['']
                           ]
                        ]
                        $statement: #Class[
                           $name: #NameExpr['EncodeError']
                           $super: #NameExpr['StandardError']
                           $body: #BlockExpr[
                              $main: #Empty['']
                           ]
                        ]
                        $statement: #Module[
                           $name: #NameExpr['Label']
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #SFuncDecl[
                                    $path: #Self['self']
                                    $name: #NameExpr['split']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['arg']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['labels']
                                             $right: #Array['[]']
                                          ]
                                          $statement: #ApplyExpr[
                                             $recv: #NameExpr['arg']
                                             $recv: #NameExpr['scan']
                                             $param: #List[
                                                $expression: #Regex['/[^\\.]+/']
                                             ]
                                             $body: #Block[
                                                $body: #LShiftExpr[
                                                   $left: #NameExpr['labels']
                                                   $right: #ApplyExpr[
                                                      $recv: #NameExpr['Str']
                                                      $recv: #NameExpr['new']
                                                      $param: #List[
                                                         $expression: #BuiltInVariable['$&']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #RReturnStmt[
                                             $expr: #List[
                                                $expression: #NameExpr['labels']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #Class[
                                    $name: #NameExpr['Str']
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['initialize']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['string']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@string']
                                                      $right: #NameExpr['string']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@downcase']
                                                      $right: #ApplyExpr[
                                                         $recv: #ApplyExpr[
                                                            $recv: #NameExpr['string']
                                                            $recv: #NameExpr['b']
                                                         ]
                                                         $recv: #NameExpr['downcase']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['attr_reader']
                                             $param: #List[
                                                $expression: #NameExpr['string']
                                                $expression: #NameExpr['downcase']
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['to_s']
                                             $param: #List['']
                                             $body: #BlockExpr[
                                                $main: #RReturnStmt[
                                                   $expr: #List[
                                                      $expression: #NameExpr['@string']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['inspect']
                                             $param: #List['']
                                             $body: #BlockExpr[
                                                $main: #RReturnStmt[
                                                   $expr: #List[
                                                      $expression: #StringExpr[
                                                         $inner: #ApplyExpr[
                                                            $recv: #Self['self']
                                                            $recv: #NameExpr['class']
                                                         ]
                                                         $inner: #Self['self']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['==']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['other']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #RReturnStmt[
                                                   $expr: #List[
                                                      $expression: #LAnd[
                                                         $left: #EqExpr[
                                                            $left: #ApplyExpr[
                                                               $recv: #Self['self']
                                                               $recv: #NameExpr['class']
                                                            ]
                                                            $right: #ApplyExpr[
                                                               $recv: #NameExpr['other']
                                                               $recv: #NameExpr['class']
                                                            ]
                                                         ]
                                                         $right: #EqExpr[
                                                            $left: #NameExpr['@downcase']
                                                            $right: #ApplyExpr[
                                                               $recv: #NameExpr['other']
                                                               $recv: #NameExpr['downcase']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['eql?']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['other']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #RReturnStmt[
                                                   $expr: #List[
                                                      $expression: #EqExpr[
                                                         $left: #Self['self']
                                                         $right: #NameExpr['other']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['hash']
                                             $param: #List['']
                                             $body: #BlockExpr[
                                                $main: #RReturnStmt[
                                                   $expr: #List[
                                                      $expression: #ApplyExpr[
                                                         $recv: #NameExpr['@downcase']
                                                         $recv: #NameExpr['hash']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #Class[
                           $name: #NameExpr['Name']
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #SFuncDecl[
                                    $path: #Self['self']
                                    $name: #NameExpr['create']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['arg']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #Case[
                                          $cond: #NameExpr['arg']
                                          $body: #List[
                                             $when: #When[
                                                $cond: #List[
                                                   $expression: #NameExpr['Name']
                                                ]
                                                $then: #RReturnStmt[
                                                   $expr: #List[
                                                      $expression: #NameExpr['arg']
                                                   ]
                                                ]
                                             ]
                                             $when: #When[
                                                $cond: #List[
                                                   $expression: #NameExpr['String']
                                                ]
                                                $then: #RReturnStmt[
                                                   $expr: #List[
                                                      $expression: #ApplyExpr[
                                                         $recv: #NameExpr['Name']
                                                         $recv: #NameExpr['new']
                                                         $param: #List[
                                                            $expression: #ApplyExpr[
                                                               $recv: #NameExpr['Label']
                                                               $recv: #NameExpr['split']
                                                               $param: #List[
                                                                  $expression: #NameExpr['arg']
                                                               ]
                                                            ]
                                                            $expression: #Conditional[
                                                               $cond: #Match[
                                                                  $left: #Regex['/\\.\\z/']
                                                                  $right: #NameExpr['arg']
                                                               ]
                                                               $then: #TrueExpr['true']
                                                               $else: #FalseExpr['false']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $else: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['raise']
                                             $param: #List[
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['ArgumentError']
                                                   $recv: #NameExpr['new']
                                                   $param: #List[
                                                      $expression: #StringExpr[
                                                         $inner: #ApplyExpr[
                                                            $recv: #NameExpr['arg']
                                                            $recv: #NameExpr['inspect']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['initialize']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['labels']
                                       ]
                                       $param: #OptionalParam[
                                          $name: #NameExpr['absolute']
                                          $default: #TrueExpr['true']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['labels']
                                             $right: #ApplyExpr[
                                                $recv: #NameExpr['labels']
                                                $recv: #NameExpr['map']
                                                $body: #Block[
                                                   $param: #NameExpr['label']
                                                   $body: #Case[
                                                      $cond: #NameExpr['label']
                                                      $body: #List[
                                                         $when: #When[
                                                            $cond: #List[
                                                               $expression: #NameExpr['String']
                                                            ]
                                                            $then: #ApplyExpr[
                                                               $recv: #Field[
                                                                  $recv: #NameExpr['Label']
                                                                  $name: #NameExpr['Str']
                                                               ]
                                                               $recv: #NameExpr['new']
                                                               $param: #List[
                                                                  $expression: #NameExpr['label']
                                                               ]
                                                            ]
                                                         ]
                                                         $when: #When[
                                                            $cond: #List[
                                                               $expression: #Field[
                                                                  $recv: #NameExpr['Label']
                                                                  $name: #NameExpr['Str']
                                                               ]
                                                            ]
                                                            $then: #NameExpr['label']
                                                         ]
                                                      ]
                                                      $else: #ApplyExpr[
                                                         #Self['self']
                                                         $recv: #NameExpr['raise']
                                                         $param: #List[
                                                            $expression: #NameExpr['ArgumentError']
                                                            $expression: #StringExpr[
                                                               $inner: #ApplyExpr[
                                                                  $recv: #NameExpr['label']
                                                                  $recv: #NameExpr['inspect']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['@labels']
                                             $right: #NameExpr['labels']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['@absolute']
                                             $right: #NameExpr['absolute']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['inspect']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #StringExpr[
                                          $inner: #ApplyExpr[
                                             $recv: #Self['self']
                                             $recv: #NameExpr['class']
                                          ]
                                          $inner: #Self['self']
                                          $inner: #Conditional[
                                             $cond: #NameExpr['@absolute']
                                             $then: #StringExpr['.']
                                             $else: #StringExpr['']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['absolute?']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #RReturnStmt[
                                          $expr: #List[
                                             $expression: #NameExpr['@absolute']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['==']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['other']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #Unless[
                                             $then: #RReturnStmt[
                                                $expr: #List[
                                                   $expression: #FalseExpr['false']
                                                ]
                                             ]
                                             $cond: #StrictEquals[
                                                $left: #NameExpr['Name']
                                                $right: #NameExpr['other']
                                             ]
                                          ]
                                          $statement: #Unless[
                                             $then: #RReturnStmt[
                                                $expr: #List[
                                                   $expression: #FalseExpr['false']
                                                ]
                                             ]
                                             $cond: #EqExpr[
                                                $left: #NameExpr['@absolute']
                                                $right: #ApplyExpr[
                                                   $recv: #NameExpr['other']
                                                   $recv: #NameExpr['absolute?']
                                                ]
                                             ]
                                          ]
                                          $statement: #RReturnStmt[
                                             $expr: #List[
                                                $expression: #EqExpr[
                                                   $left: #NameExpr['@labels']
                                                   $right: #ApplyExpr[
                                                      $recv: #NameExpr['other']
                                                      $recv: #NameExpr['to_a']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #Alias[
                                    $newname: #NameExpr['eql?']
                                    $target: #NameExpr['==']
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['subdomain_of?']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['other']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #Unless[
                                             $then: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['raise']
                                                $param: #List[
                                                   $expression: #NameExpr['ArgumentError']
                                                   $expression: #StringExpr[
                                                      $inner: #ApplyExpr[
                                                         $recv: #NameExpr['other']
                                                         $recv: #NameExpr['inspect']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                             $cond: #StrictEquals[
                                                $left: #NameExpr['Name']
                                                $right: #NameExpr['other']
                                             ]
                                          ]
                                          $statement: #IfExpr[
                                             $then: #RReturnStmt[
                                                $expr: #List[
                                                   $expression: #FalseExpr['false']
                                                ]
                                             ]
                                             $cond: #NeExpr[
                                                $left: #NameExpr['@absolute']
                                                $right: #ApplyExpr[
                                                   $recv: #NameExpr['other']
                                                   $recv: #NameExpr['absolute?']
                                                ]
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['other_len']
                                             $right: #ApplyExpr[
                                                $recv: #NameExpr['other']
                                                $recv: #NameExpr['length']
                                             ]
                                          ]
                                          $statement: #IfExpr[
                                             $then: #RReturnStmt[
                                                $expr: #List[
                                                   $expression: #FalseExpr['false']
                                                ]
                                             ]
                                             $cond: #LteExpr[
                                                $left: #ApplyExpr[
                                                   $recv: #NameExpr['@labels']
                                                   $recv: #NameExpr['length']
                                                ]
                                                $right: #NameExpr['other_len']
                                             ]
                                          ]
                                          $statement: #RReturnStmt[
                                             $expr: #List[
                                                $expression: #EqExpr[
                                                   $left: #Indexer[
                                                      $recv: #NameExpr['@labels']
                                                      $index: #List[
                                                         $expression: #MinusExpr[
                                                            $expr: #NameExpr['other_len']
                                                         ]
                                                         $expression: #NameExpr['other_len']
                                                      ]
                                                   ]
                                                   $right: #ApplyExpr[
                                                      $recv: #NameExpr['other']
                                                      $recv: #NameExpr['to_a']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['hash']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #RReturnStmt[
                                          $expr: #List[
                                             $expression: #XorExpr[
                                                $left: #ApplyExpr[
                                                   $recv: #NameExpr['@labels']
                                                   $recv: #NameExpr['hash']
                                                ]
                                                $right: #ApplyExpr[
                                                   $recv: #NameExpr['@absolute']
                                                   $recv: #NameExpr['hash']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['to_a']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #RReturnStmt[
                                          $expr: #List[
                                             $expression: #NameExpr['@labels']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['length']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #RReturnStmt[
                                          $expr: #List[
                                             $expression: #ApplyExpr[
                                                $recv: #NameExpr['@labels']
                                                $recv: #NameExpr['length']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['[]']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['i']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #RReturnStmt[
                                          $expr: #List[
                                             $expression: #Indexer[
                                                $recv: #NameExpr['@labels']
                                                $index: #List[
                                                   $expression: #NameExpr['i']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['to_s']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #RReturnStmt[
                                          $expr: #List[
                                             $expression: #ApplyExpr[
                                                $recv: #NameExpr['@labels']
                                                $recv: #NameExpr['join']
                                                $param: #List[
                                                   $expression: #StringExpr['.']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #Class[
                           $name: #NameExpr['Message']
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@@identifier']
                                    $right: #MinusExpr[
                                       $expr: #IntExpr['1']
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['initialize']
                                    $param: #List[
                                       $param: #OptionalParam[
                                          $name: #NameExpr['id']
                                          $default: #AndExpr[
                                             $left: #AddAssign[
                                                $left: #NameExpr['@@identifier']
                                                $right: #IntExpr['1']
                                             ]
                                             $right: #HexInteger['0xffff']
                                          ]
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['@id']
                                             $right: #NameExpr['id']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['@qr']
                                             $right: #IntExpr['0']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['@opcode']
                                             $right: #IntExpr['0']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['@aa']
                                             $right: #IntExpr['0']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['@tc']
                                             $right: #IntExpr['0']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['@rd']
                                             $right: #IntExpr['0']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['@ra']
                                             $right: #IntExpr['0']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['@rcode']
                                             $right: #IntExpr['0']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['@question']
                                             $right: #Array['[]']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['@answer']
                                             $right: #Array['[]']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['@authority']
                                             $right: #Array['[]']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['@additional']
                                             $right: #Array['[]']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['attr_accessor']
                                    $param: #List[
                                       $expression: #NameExpr['id']
                                       $expression: #NameExpr['qr']
                                       $expression: #NameExpr['opcode']
                                       $expression: #NameExpr['aa']
                                       $expression: #NameExpr['tc']
                                       $expression: #NameExpr['rd']
                                       $expression: #NameExpr['ra']
                                       $expression: #NameExpr['rcode']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['attr_reader']
                                    $param: #List[
                                       $expression: #NameExpr['question']
                                       $expression: #NameExpr['answer']
                                       $expression: #NameExpr['authority']
                                       $expression: #NameExpr['additional']
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['==']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['other']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #RReturnStmt[
                                          $expr: #List[
                                             $expression: #LAnd[
                                                $left: #LAnd[
                                                   $left: #LAnd[
                                                      $left: #LAnd[
                                                         $left: #LAnd[
                                                            $left: #LAnd[
                                                               $left: #LAnd[
                                                                  $left: #LAnd[
                                                                     $left: #LAnd[
                                                                        $left: #LAnd[
                                                                           $left: #LAnd[
                                                                              $left: #EqExpr[
                                                                                 $left: #NameExpr['@id']
                                                                                 $right: #ApplyExpr[
                                                                                    $recv: #NameExpr['other']
                                                                                    $recv: #NameExpr['id']
                                                                                 ]
                                                                              ]
                                                                              $right: #EqExpr[
                                                                                 $left: #NameExpr['@qr']
                                                                                 $right: #ApplyExpr[
                                                                                    $recv: #NameExpr['other']
                                                                                    $recv: #NameExpr['qr']
                                                                                 ]
                                                                              ]
                                                                           ]
                                                                           $right: #EqExpr[
                                                                              $left: #NameExpr['@opcode']
                                                                              $right: #ApplyExpr[
                                                                                 $recv: #NameExpr['other']
                                                                                 $recv: #NameExpr['opcode']
                                                                              ]
                                                                           ]
                                                                        ]
                                                                        $right: #EqExpr[
                                                                           $left: #NameExpr['@aa']
                                                                           $right: #ApplyExpr[
                                                                              $recv: #NameExpr['other']
                                                                              $recv: #NameExpr['aa']
                                                                           ]
                                                                        ]
                                                                     ]
                                                                     $right: #EqExpr[
                                                                        $left: #NameExpr['@tc']
                                                                        $right: #ApplyExpr[
                                                                           $recv: #NameExpr['other']
                                                                           $recv: #NameExpr['tc']
                                                                        ]
                                                                     ]
                                                                  ]
                                                                  $right: #EqExpr[
                                                                     $left: #NameExpr['@rd']
                                                                     $right: #ApplyExpr[
                                                                        $recv: #NameExpr['other']
                                                                        $recv: #NameExpr['rd']
                                                                     ]
                                                                  ]
                                                               ]
                                                               $right: #EqExpr[
                                                                  $left: #NameExpr['@ra']
                                                                  $right: #ApplyExpr[
                                                                     $recv: #NameExpr['other']
                                                                     $recv: #NameExpr['ra']
                                                                  ]
                                                               ]
                                                            ]
                                                            $right: #EqExpr[
                                                               $left: #NameExpr['@rcode']
                                                               $right: #ApplyExpr[
                                                                  $recv: #NameExpr['other']
                                                                  $recv: #NameExpr['rcode']
                                                               ]
                                                            ]
                                                         ]
                                                         $right: #EqExpr[
                                                            $left: #NameExpr['@question']
                                                            $right: #ApplyExpr[
                                                               $recv: #NameExpr['other']
                                                               $recv: #NameExpr['question']
                                                            ]
                                                         ]
                                                      ]
                                                      $right: #EqExpr[
                                                         $left: #NameExpr['@answer']
                                                         $right: #ApplyExpr[
                                                            $recv: #NameExpr['other']
                                                            $recv: #NameExpr['answer']
                                                         ]
                                                      ]
                                                   ]
                                                   $right: #EqExpr[
                                                      $left: #NameExpr['@authority']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['other']
                                                         $recv: #NameExpr['authority']
                                                      ]
                                                   ]
                                                ]
                                                $right: #EqExpr[
                                                   $left: #NameExpr['@additional']
                                                   $right: #ApplyExpr[
                                                      $recv: #NameExpr['other']
                                                      $recv: #NameExpr['additional']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['add_question']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['name']
                                       ]
                                       $param: #Param[
                                          $param: #NameExpr['typeclass']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #LShiftExpr[
                                          $left: #NameExpr['@question']
                                          $right: #Array[
                                             $index: #List[
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['Name']
                                                   $recv: #NameExpr['create']
                                                   $param: #List[
                                                      $expression: #NameExpr['name']
                                                   ]
                                                ]
                                                $expression: #NameExpr['typeclass']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['each_question']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #ApplyExpr[
                                          $recv: #NameExpr['@question']
                                          $recv: #NameExpr['each']
                                          $body: #Block[
                                             $param: #MultipleLeftHandSideExpression[
                                                $item: #NameExpr['name']
                                                $item: #NameExpr['typeclass']
                                             ]
                                             $body: #Yield[
                                                $param: #List[
                                                   $expression: #NameExpr['name']
                                                   $expression: #NameExpr['typeclass']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['add_answer']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['name']
                                       ]
                                       $param: #Param[
                                          $param: #NameExpr['ttl']
                                       ]
                                       $param: #Param[
                                          $param: #NameExpr['data']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #LShiftExpr[
                                          $left: #NameExpr['@answer']
                                          $right: #Array[
                                             $index: #List[
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['Name']
                                                   $recv: #NameExpr['create']
                                                   $param: #List[
                                                      $expression: #NameExpr['name']
                                                   ]
                                                ]
                                                $expression: #NameExpr['ttl']
                                                $expression: #NameExpr['data']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['each_answer']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #ApplyExpr[
                                          $recv: #NameExpr['@answer']
                                          $recv: #NameExpr['each']
                                          $body: #Block[
                                             $param: #MultipleLeftHandSideExpression[
                                                $item: #NameExpr['name']
                                                $item: #NameExpr['ttl']
                                                $item: #NameExpr['data']
                                             ]
                                             $body: #Yield[
                                                $param: #List[
                                                   $expression: #NameExpr['name']
                                                   $expression: #NameExpr['ttl']
                                                   $expression: #NameExpr['data']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['add_authority']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['name']
                                       ]
                                       $param: #Param[
                                          $param: #NameExpr['ttl']
                                       ]
                                       $param: #Param[
                                          $param: #NameExpr['data']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #LShiftExpr[
                                          $left: #NameExpr['@authority']
                                          $right: #Array[
                                             $index: #List[
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['Name']
                                                   $recv: #NameExpr['create']
                                                   $param: #List[
                                                      $expression: #NameExpr['name']
                                                   ]
                                                ]
                                                $expression: #NameExpr['ttl']
                                                $expression: #NameExpr['data']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['each_authority']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #ApplyExpr[
                                          $recv: #NameExpr['@authority']
                                          $recv: #NameExpr['each']
                                          $body: #Block[
                                             $param: #MultipleLeftHandSideExpression[
                                                $item: #NameExpr['name']
                                                $item: #NameExpr['ttl']
                                                $item: #NameExpr['data']
                                             ]
                                             $body: #Yield[
                                                $param: #List[
                                                   $expression: #NameExpr['name']
                                                   $expression: #NameExpr['ttl']
                                                   $expression: #NameExpr['data']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['add_additional']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['name']
                                       ]
                                       $param: #Param[
                                          $param: #NameExpr['ttl']
                                       ]
                                       $param: #Param[
                                          $param: #NameExpr['data']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #LShiftExpr[
                                          $left: #NameExpr['@additional']
                                          $right: #Array[
                                             $index: #List[
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['Name']
                                                   $recv: #NameExpr['create']
                                                   $param: #List[
                                                      $expression: #NameExpr['name']
                                                   ]
                                                ]
                                                $expression: #NameExpr['ttl']
                                                $expression: #NameExpr['data']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['each_additional']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #ApplyExpr[
                                          $recv: #NameExpr['@additional']
                                          $recv: #NameExpr['each']
                                          $body: #Block[
                                             $param: #MultipleLeftHandSideExpression[
                                                $item: #NameExpr['name']
                                                $item: #NameExpr['ttl']
                                                $item: #NameExpr['data']
                                             ]
                                             $body: #Yield[
                                                $param: #List[
                                                   $expression: #NameExpr['name']
                                                   $expression: #NameExpr['ttl']
                                                   $expression: #NameExpr['data']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['each_resource']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['each_answer']
                                             $body: #Block[
                                                $param: #MultipleLeftHandSideExpression[
                                                   $item: #NameExpr['name']
                                                   $item: #NameExpr['ttl']
                                                   $item: #NameExpr['data']
                                                ]
                                                $body: #Yield[
                                                   $param: #List[
                                                      $expression: #NameExpr['name']
                                                      $expression: #NameExpr['ttl']
                                                      $expression: #NameExpr['data']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['each_authority']
                                             $body: #Block[
                                                $param: #MultipleLeftHandSideExpression[
                                                   $item: #NameExpr['name']
                                                   $item: #NameExpr['ttl']
                                                   $item: #NameExpr['data']
                                                ]
                                                $body: #Yield[
                                                   $param: #List[
                                                      $expression: #NameExpr['name']
                                                      $expression: #NameExpr['ttl']
                                                      $expression: #NameExpr['data']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['each_additional']
                                             $body: #Block[
                                                $param: #MultipleLeftHandSideExpression[
                                                   $item: #NameExpr['name']
                                                   $item: #NameExpr['ttl']
                                                   $item: #NameExpr['data']
                                                ]
                                                $body: #Yield[
                                                   $param: #List[
                                                      $expression: #NameExpr['name']
                                                      $expression: #NameExpr['ttl']
                                                      $expression: #NameExpr['data']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['encode']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #RReturnStmt[
                                          $expr: #List[
                                             $expression: #ApplyExpr[
                                                $recv: #ApplyExpr[
                                                   $recv: #NameExpr['MessageEncoder']
                                                   $recv: #NameExpr['new']
                                                   $body: #Block[
                                                      $param: #NameExpr['msg']
                                                      $body: #List[
                                                         $statement: #ApplyExpr[
                                                            $recv: #NameExpr['msg']
                                                            $recv: #NameExpr['put_pack']
                                                            $param: #List[
                                                               $expression: #StringExpr['nnnnnn']
                                                               $expression: #NameExpr['@id']
                                                               $expression: #OrExpr[
                                                                  $left: #OrExpr[
                                                                     $left: #OrExpr[
                                                                        $left: #OrExpr[
                                                                           $left: #OrExpr[
                                                                              $left: #OrExpr[
                                                                                 $left: #LShiftExpr[
                                                                                    $left: #AndExpr[
                                                                                       $left: #NameExpr['@qr']
                                                                                       $right: #IntExpr['1']
                                                                                    ]
                                                                                    $right: #IntExpr['15']
                                                                                 ]
                                                                                 $right: #LShiftExpr[
                                                                                    $left: #AndExpr[
                                                                                       $left: #NameExpr['@opcode']
                                                                                       $right: #IntExpr['15']
                                                                                    ]
                                                                                    $right: #IntExpr['11']
                                                                                 ]
                                                                              ]
                                                                              $right: #LShiftExpr[
                                                                                 $left: #AndExpr[
                                                                                    $left: #NameExpr['@aa']
                                                                                    $right: #IntExpr['1']
                                                                                 ]
                                                                                 $right: #IntExpr['10']
                                                                              ]
                                                                           ]
                                                                           $right: #LShiftExpr[
                                                                              $left: #AndExpr[
                                                                                 $left: #NameExpr['@tc']
                                                                                 $right: #IntExpr['1']
                                                                              ]
                                                                              $right: #IntExpr['9']
                                                                           ]
                                                                        ]
                                                                        $right: #LShiftExpr[
                                                                           $left: #AndExpr[
                                                                              $left: #NameExpr['@rd']
                                                                              $right: #IntExpr['1']
                                                                           ]
                                                                           $right: #IntExpr['8']
                                                                        ]
                                                                     ]
                                                                     $right: #LShiftExpr[
                                                                        $left: #AndExpr[
                                                                           $left: #NameExpr['@ra']
                                                                           $right: #IntExpr['1']
                                                                        ]
                                                                        $right: #IntExpr['7']
                                                                     ]
                                                                  ]
                                                                  $right: #AndExpr[
                                                                     $left: #NameExpr['@rcode']
                                                                     $right: #IntExpr['15']
                                                                  ]
                                                               ]
                                                               $expression: #ApplyExpr[
                                                                  $recv: #NameExpr['@question']
                                                                  $recv: #NameExpr['length']
                                                               ]
                                                               $expression: #ApplyExpr[
                                                                  $recv: #NameExpr['@answer']
                                                                  $recv: #NameExpr['length']
                                                               ]
                                                               $expression: #ApplyExpr[
                                                                  $recv: #NameExpr['@authority']
                                                                  $recv: #NameExpr['length']
                                                               ]
                                                               $expression: #ApplyExpr[
                                                                  $recv: #NameExpr['@additional']
                                                                  $recv: #NameExpr['length']
                                                               ]
                                                            ]
                                                         ]
                                                         $statement: #ApplyExpr[
                                                            $recv: #NameExpr['@question']
                                                            $recv: #NameExpr['each']
                                                            $body: #Block[
                                                               $param: #NameExpr['q']
                                                               $body: #List[
                                                                  $statement: #MultipleAssign[
                                                                     $left: #MultipleLeftHandSideExpression[
                                                                        $item: #NameExpr['name']
                                                                        $item: #NameExpr['typeclass']
                                                                     ]
                                                                     $right: #NameExpr['q']
                                                                  ]
                                                                  $statement: #ApplyExpr[
                                                                     $recv: #NameExpr['msg']
                                                                     $recv: #NameExpr['put_name']
                                                                     $param: #List[
                                                                        $expression: #NameExpr['name']
                                                                     ]
                                                                  ]
                                                                  $statement: #ApplyExpr[
                                                                     $recv: #NameExpr['msg']
                                                                     $recv: #NameExpr['put_pack']
                                                                     $param: #List[
                                                                        $expression: #StringExpr['nn']
                                                                        $expression: #Field[
                                                                           $recv: #NameExpr['typeclass']
                                                                           $name: #NameExpr['TypeValue']
                                                                        ]
                                                                        $expression: #Field[
                                                                           $recv: #NameExpr['typeclass']
                                                                           $name: #NameExpr['ClassValue']
                                                                        ]
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                         $statement: #ApplyExpr[
                                                            $recv: #Array[
                                                               $index: #List[
                                                                  $expression: #NameExpr['@answer']
                                                                  $expression: #NameExpr['@authority']
                                                                  $expression: #NameExpr['@additional']
                                                               ]
                                                            ]
                                                            $recv: #NameExpr['each']
                                                            $body: #Block[
                                                               $param: #NameExpr['rr']
                                                               $body: #ApplyExpr[
                                                                  $recv: #NameExpr['rr']
                                                                  $recv: #NameExpr['each']
                                                                  $body: #Block[
                                                                     $param: #NameExpr['r']
                                                                     $body: #List[
                                                                        $statement: #MultipleAssign[
                                                                           $left: #MultipleLeftHandSideExpression[
                                                                              $item: #NameExpr['name']
                                                                              $item: #NameExpr['ttl']
                                                                              $item: #NameExpr['data']
                                                                           ]
                                                                           $right: #NameExpr['r']
                                                                        ]
                                                                        $statement: #ApplyExpr[
                                                                           $recv: #NameExpr['msg']
                                                                           $recv: #NameExpr['put_name']
                                                                           $param: #List[
                                                                              $expression: #NameExpr['name']
                                                                           ]
                                                                        ]
                                                                        $statement: #ApplyExpr[
                                                                           $recv: #NameExpr['msg']
                                                                           $recv: #NameExpr['put_pack']
                                                                           $param: #List[
                                                                              $expression: #StringExpr['nnN']
                                                                              $expression: #Field[
                                                                                 $recv: #ApplyExpr[
                                                                                    $recv: #NameExpr['data']
                                                                                    $recv: #NameExpr['class']
                                                                                 ]
                                                                                 $name: #NameExpr['TypeValue']
                                                                              ]
                                                                              $expression: #Field[
                                                                                 $recv: #ApplyExpr[
                                                                                    $recv: #NameExpr['data']
                                                                                    $recv: #NameExpr['class']
                                                                                 ]
                                                                                 $name: #NameExpr['ClassValue']
                                                                              ]
                                                                              $expression: #NameExpr['ttl']
                                                                           ]
                                                                        ]
                                                                        $statement: #ApplyExpr[
                                                                           $recv: #NameExpr['msg']
                                                                           $recv: #NameExpr['put_length16']
                                                                           $body: #Block[
                                                                              $body: #ApplyExpr[
                                                                                 $recv: #NameExpr['data']
                                                                                 $recv: #NameExpr['encode_rdata']
                                                                                 $param: #List[
                                                                                    $expression: #NameExpr['msg']
                                                                                 ]
                                                                              ]
                                                                           ]
                                                                        ]
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                                $recv: #NameExpr['to_s']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #Class[
                                    $name: #NameExpr['MessageEncoder']
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['initialize']
                                             $param: #List['']
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@data']
                                                      $right: #ApplyExpr[
                                                         $recv: #StringExpr['']
                                                         $recv: #NameExpr['dup']
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@names']
                                                      $right: #List['{}']
                                                   ]
                                                   $statement: #Yield[
                                                      $param: #List[
                                                         $expression: #Self['self']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['to_s']
                                             $param: #List['']
                                             $body: #BlockExpr[
                                                $main: #RReturnStmt[
                                                   $expr: #List[
                                                      $expression: #NameExpr['@data']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['put_bytes']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['d']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #LShiftExpr[
                                                   $left: #NameExpr['@data']
                                                   $right: #NameExpr['d']
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['put_pack']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['template']
                                                ]
                                                $param: #VariadicParam[
                                                   $name: #NameExpr['d']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #LShiftExpr[
                                                   $left: #NameExpr['@data']
                                                   $right: #ApplyExpr[
                                                      $recv: #NameExpr['d']
                                                      $recv: #NameExpr['pack']
                                                      $param: #List[
                                                         $expression: #NameExpr['template']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['put_length16']
                                             $param: #List['']
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['length_index']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['@data']
                                                         $recv: #NameExpr['length']
                                                      ]
                                                   ]
                                                   $statement: #LShiftExpr[
                                                      $left: #NameExpr['@data']
                                                      $right: #StringExpr['\\0\\0']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['data_start']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['@data']
                                                         $recv: #NameExpr['length']
                                                      ]
                                                   ]
                                                   $statement: #Yield['yield']
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['data_end']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['@data']
                                                         $recv: #NameExpr['length']
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #Indexer[
                                                         $base: #NameExpr['@data']
                                                         $index: #List[
                                                            $expression: #NameExpr['length_index']
                                                            $expression: #IntExpr['2']
                                                         ]
                                                      ]
                                                      $right: #ApplyExpr[
                                                         $recv: #Array[
                                                            $index: #List[
                                                               $expression: #SubExpr[
                                                                  $left: #NameExpr['data_end']
                                                                  $right: #NameExpr['data_start']
                                                               ]
                                                            ]
                                                         ]
                                                         $recv: #NameExpr['pack']
                                                         $param: #List[
                                                            $expression: #StringExpr['n']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['put_string']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['d']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #ApplyExpr[
                                                      $recv: #Self['self']
                                                      $recv: #NameExpr['put_pack']
                                                      $param: #List[
                                                         $expression: #StringExpr['C']
                                                         $expression: #ApplyExpr[
                                                            $recv: #NameExpr['d']
                                                            $recv: #NameExpr['length']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #LShiftExpr[
                                                      $left: #NameExpr['@data']
                                                      $right: #NameExpr['d']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['put_string_list']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['ds']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #ApplyExpr[
                                                   $recv: #NameExpr['ds']
                                                   $recv: #NameExpr['each']
                                                   $body: #Block[
                                                      $param: #NameExpr['d']
                                                      $body: #ApplyExpr[
                                                         $recv: #Self['self']
                                                         $recv: #NameExpr['put_string']
                                                         $param: #List[
                                                            $expression: #NameExpr['d']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['put_name']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['d']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #ApplyExpr[
                                                   #Self['self']
                                                   $recv: #NameExpr['put_labels']
                                                   $param: #List[
                                                      $expression: #ApplyExpr[
                                                         $recv: #NameExpr['d']
                                                         $recv: #NameExpr['to_a']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['put_labels']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['d']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['d']
                                                      $recv: #NameExpr['each_index']
                                                      $body: #Block[
                                                         $param: #NameExpr['i']
                                                         $body: #List[
                                                            $statement: #AssignExpr[
                                                               $left: #NameExpr['domain']
                                                               $right: #Indexer[
                                                                  $recv: #NameExpr['d']
                                                                  $index: #List[
                                                                     $expression: #ClosedRange[
                                                                        #NameExpr['i']
                                                                        #MinusExpr[
                                                                           $expr: #IntExpr['1']
                                                                        ]
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                            $statement: #IfExpr[
                                                               $cond: #AssignExpr[
                                                                  $left: #NameExpr['idx']
                                                                  $right: #Indexer[
                                                                     $recv: #NameExpr['@names']
                                                                     $index: #List[
                                                                        $expression: #NameExpr['domain']
                                                                     ]
                                                                  ]
                                                               ]
                                                               $then: #List[
                                                                  $statement: #ApplyExpr[
                                                                     $recv: #Self['self']
                                                                     $recv: #NameExpr['put_pack']
                                                                     $param: #List[
                                                                        $expression: #StringExpr['n']
                                                                        $expression: #OrExpr[
                                                                           $left: #HexInteger['0xc000']
                                                                           $right: #NameExpr['idx']
                                                                        ]
                                                                     ]
                                                                  ]
                                                                  $statement: #RReturnStmt['return']
                                                               ]
                                                               $else: #List[
                                                                  $statement: #IfExpr[
                                                                     $cond: #LtExpr[
                                                                        $left: #ApplyExpr[
                                                                           $recv: #NameExpr['@data']
                                                                           $recv: #NameExpr['length']
                                                                        ]
                                                                        $right: #HexInteger['0x4000']
                                                                     ]
                                                                     $then: #AssignExpr[
                                                                        $left: #Indexer[
                                                                           $base: #NameExpr['@names']
                                                                           $index: #List[
                                                                              $expression: #NameExpr['domain']
                                                                           ]
                                                                        ]
                                                                        $right: #ApplyExpr[
                                                                           $recv: #NameExpr['@data']
                                                                           $recv: #NameExpr['length']
                                                                        ]
                                                                     ]
                                                                  ]
                                                                  $statement: #ApplyExpr[
                                                                     $recv: #Self['self']
                                                                     $recv: #NameExpr['put_label']
                                                                     $param: #List[
                                                                        $expression: #Indexer[
                                                                           $recv: #NameExpr['d']
                                                                           $index: #List[
                                                                              $expression: #NameExpr['i']
                                                                           ]
                                                                        ]
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #LShiftExpr[
                                                      $left: #NameExpr['@data']
                                                      $right: #StringExpr['\\0']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['put_label']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['d']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #ApplyExpr[
                                                   $recv: #Self['self']
                                                   $recv: #NameExpr['put_string']
                                                   $param: #List[
                                                      $expression: #ApplyExpr[
                                                         $recv: #NameExpr['d']
                                                         $recv: #NameExpr['to_s']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #SFuncDecl[
                                    $path: #NameExpr['Message']
                                    $name: #NameExpr['decode']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['m']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['o']
                                             $right: #ApplyExpr[
                                                $recv: #NameExpr['Message']
                                                $recv: #NameExpr['new']
                                                $param: #List[
                                                   $expression: #IntExpr['0']
                                                ]
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             $recv: #NameExpr['MessageDecoder']
                                             $recv: #NameExpr['new']
                                             $param: #List[
                                                $expression: #NameExpr['m']
                                             ]
                                             $body: #Block[
                                                $param: #NameExpr['msg']
                                                $body: #List[
                                                   $statement: #MultipleAssign[
                                                      $left: #MultipleLeftHandSideExpression[
                                                         $item: #NameExpr['id']
                                                         $item: #NameExpr['flag']
                                                         $item: #NameExpr['qdcount']
                                                         $item: #NameExpr['ancount']
                                                         $item: #NameExpr['nscount']
                                                         $item: #NameExpr['arcount']
                                                      ]
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['msg']
                                                         $recv: #NameExpr['get_unpack']
                                                         $param: #List[
                                                            $expression: #StringExpr['nnnnnn']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #Field[
                                                         $base: #NameExpr['o']
                                                         $name: #NameExpr['id']
                                                      ]
                                                      $right: #NameExpr['id']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #Field[
                                                         $base: #NameExpr['o']
                                                         $name: #NameExpr['qr']
                                                      ]
                                                      $right: #AndExpr[
                                                         $left: #RShiftExpr[
                                                            $left: #NameExpr['flag']
                                                            $right: #IntExpr['15']
                                                         ]
                                                         $right: #IntExpr['1']
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #Field[
                                                         $base: #NameExpr['o']
                                                         $name: #NameExpr['opcode']
                                                      ]
                                                      $right: #AndExpr[
                                                         $left: #RShiftExpr[
                                                            $left: #NameExpr['flag']
                                                            $right: #IntExpr['11']
                                                         ]
                                                         $right: #IntExpr['15']
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #Field[
                                                         $base: #NameExpr['o']
                                                         $name: #NameExpr['aa']
                                                      ]
                                                      $right: #AndExpr[
                                                         $left: #RShiftExpr[
                                                            $left: #NameExpr['flag']
                                                            $right: #IntExpr['10']
                                                         ]
                                                         $right: #IntExpr['1']
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #Field[
                                                         $base: #NameExpr['o']
                                                         $name: #NameExpr['tc']
                                                      ]
                                                      $right: #AndExpr[
                                                         $left: #RShiftExpr[
                                                            $left: #NameExpr['flag']
                                                            $right: #IntExpr['9']
                                                         ]
                                                         $right: #IntExpr['1']
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #Field[
                                                         $base: #NameExpr['o']
                                                         $name: #NameExpr['rd']
                                                      ]
                                                      $right: #AndExpr[
                                                         $left: #RShiftExpr[
                                                            $left: #NameExpr['flag']
                                                            $right: #IntExpr['8']
                                                         ]
                                                         $right: #IntExpr['1']
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #Field[
                                                         $base: #NameExpr['o']
                                                         $name: #NameExpr['ra']
                                                      ]
                                                      $right: #AndExpr[
                                                         $left: #RShiftExpr[
                                                            $left: #NameExpr['flag']
                                                            $right: #IntExpr['7']
                                                         ]
                                                         $right: #IntExpr['1']
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #Field[
                                                         $base: #NameExpr['o']
                                                         $name: #NameExpr['rcode']
                                                      ]
                                                      $right: #AndExpr[
                                                         $left: #NameExpr['flag']
                                                         $right: #IntExpr['15']
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #ClosedRange[
                                                         #IntExpr['1']
                                                         #NameExpr['qdcount']
                                                      ]
                                                      $recv: #NameExpr['each']
                                                      $body: #Block[
                                                         $body: #List[
                                                            $statement: #MultipleAssign[
                                                               $left: #MultipleLeftHandSideExpression[
                                                                  $item: #NameExpr['name']
                                                                  $item: #NameExpr['typeclass']
                                                               ]
                                                               $right: #ApplyExpr[
                                                                  $recv: #NameExpr['msg']
                                                                  $recv: #NameExpr['get_question']
                                                               ]
                                                            ]
                                                            $statement: #ApplyExpr[
                                                               $recv: #NameExpr['o']
                                                               $recv: #NameExpr['add_question']
                                                               $param: #List[
                                                                  $expression: #NameExpr['name']
                                                                  $expression: #NameExpr['typeclass']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #ClosedRange[
                                                         #IntExpr['1']
                                                         #NameExpr['ancount']
                                                      ]
                                                      $recv: #NameExpr['each']
                                                      $body: #Block[
                                                         $body: #List[
                                                            $statement: #MultipleAssign[
                                                               $left: #MultipleLeftHandSideExpression[
                                                                  $item: #NameExpr['name']
                                                                  $item: #NameExpr['ttl']
                                                                  $item: #NameExpr['data']
                                                               ]
                                                               $right: #ApplyExpr[
                                                                  $recv: #NameExpr['msg']
                                                                  $recv: #NameExpr['get_rr']
                                                               ]
                                                            ]
                                                            $statement: #ApplyExpr[
                                                               $recv: #NameExpr['o']
                                                               $recv: #NameExpr['add_answer']
                                                               $param: #List[
                                                                  $expression: #NameExpr['name']
                                                                  $expression: #NameExpr['ttl']
                                                                  $expression: #NameExpr['data']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #ClosedRange[
                                                         #IntExpr['1']
                                                         #NameExpr['nscount']
                                                      ]
                                                      $recv: #NameExpr['each']
                                                      $body: #Block[
                                                         $body: #List[
                                                            $statement: #MultipleAssign[
                                                               $left: #MultipleLeftHandSideExpression[
                                                                  $item: #NameExpr['name']
                                                                  $item: #NameExpr['ttl']
                                                                  $item: #NameExpr['data']
                                                               ]
                                                               $right: #ApplyExpr[
                                                                  $recv: #NameExpr['msg']
                                                                  $recv: #NameExpr['get_rr']
                                                               ]
                                                            ]
                                                            $statement: #ApplyExpr[
                                                               $recv: #NameExpr['o']
                                                               $recv: #NameExpr['add_authority']
                                                               $param: #List[
                                                                  $expression: #NameExpr['name']
                                                                  $expression: #NameExpr['ttl']
                                                                  $expression: #NameExpr['data']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #ClosedRange[
                                                         #IntExpr['1']
                                                         #NameExpr['arcount']
                                                      ]
                                                      $recv: #NameExpr['each']
                                                      $body: #Block[
                                                         $body: #List[
                                                            $statement: #MultipleAssign[
                                                               $left: #MultipleLeftHandSideExpression[
                                                                  $item: #NameExpr['name']
                                                                  $item: #NameExpr['ttl']
                                                                  $item: #NameExpr['data']
                                                               ]
                                                               $right: #ApplyExpr[
                                                                  $recv: #NameExpr['msg']
                                                                  $recv: #NameExpr['get_rr']
                                                               ]
                                                            ]
                                                            $statement: #ApplyExpr[
                                                               $recv: #NameExpr['o']
                                                               $recv: #NameExpr['add_additional']
                                                               $param: #List[
                                                                  $expression: #NameExpr['name']
                                                                  $expression: #NameExpr['ttl']
                                                                  $expression: #NameExpr['data']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #RReturnStmt[
                                             $expr: #List[
                                                $expression: #NameExpr['o']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #Class[
                                    $name: #NameExpr['MessageDecoder']
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['initialize']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['data']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@data']
                                                      $right: #NameExpr['data']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@index']
                                                      $right: #IntExpr['0']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@limit']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['data']
                                                         $recv: #NameExpr['length']
                                                      ]
                                                   ]
                                                   $statement: #Yield[
                                                      $param: #List[
                                                         $expression: #Self['self']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['inspect']
                                             $param: #List['']
                                             $body: #BlockExpr[
                                                $main: #StringExpr[
                                                   $inner: #ApplyExpr[
                                                      $recv: #Self['self']
                                                      $recv: #NameExpr['class']
                                                   ]
                                                   $inner: #ApplyExpr[
                                                      $recv: #Indexer[
                                                         $recv: #NameExpr['@data']
                                                         $index: #List[
                                                            $expression: #IntExpr['0']
                                                            $expression: #NameExpr['@index']
                                                         ]
                                                      ]
                                                      $recv: #NameExpr['inspect']
                                                   ]
                                                   $inner: #ApplyExpr[
                                                      $recv: #Indexer[
                                                         $recv: #NameExpr['@data']
                                                         $index: #List[
                                                            $expression: #ClosedRange[
                                                               #NameExpr['@index']
                                                               #MinusExpr[
                                                                  $expr: #IntExpr['1']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $recv: #NameExpr['inspect']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['get_length16']
                                             $param: #List['']
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #MultipleAssign[
                                                      $left: #MultipleLeftHandSideExpression[
                                                         $item: #NameExpr['len']
                                                      ]
                                                      $right: #ApplyExpr[
                                                         $recv: #Self['self']
                                                         $recv: #NameExpr['get_unpack']
                                                         $param: #List[
                                                            $expression: #StringExpr['n']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['save_limit']
                                                      $right: #NameExpr['@limit']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@limit']
                                                      $right: #AddExpr[
                                                         $left: #NameExpr['@index']
                                                         $right: #NameExpr['len']
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['d']
                                                      $right: #Yield[
                                                         $param: #List[
                                                            $expression: #NameExpr['len']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #IfExpr[
                                                      $cond: #LtExpr[
                                                         $left: #NameExpr['@index']
                                                         $right: #NameExpr['@limit']
                                                      ]
                                                      $then: #ApplyExpr[
                                                         #Self['self']
                                                         $recv: #NameExpr['raise']
                                                         $param: #List[
                                                            $expression: #ApplyExpr[
                                                               $recv: #NameExpr['DecodeError']
                                                               $recv: #NameExpr['new']
                                                               $param: #List[
                                                                  $expression: #StringExpr['junk exists']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $else: #IfExpr[
                                                         $cond: #LtExpr[
                                                            $left: #NameExpr['@limit']
                                                            $right: #NameExpr['@index']
                                                         ]
                                                         $then: #ApplyExpr[
                                                            #Self['self']
                                                            $recv: #NameExpr['raise']
                                                            $param: #List[
                                                               $expression: #ApplyExpr[
                                                                  $recv: #NameExpr['DecodeError']
                                                                  $recv: #NameExpr['new']
                                                                  $param: #List[
                                                                     $expression: #StringExpr['limit exceeded']
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@limit']
                                                      $right: #NameExpr['save_limit']
                                                   ]
                                                   $statement: #RReturnStmt[
                                                      $expr: #List[
                                                         $expression: #NameExpr['d']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['get_bytes']
                                             $param: #List[
                                                $param: #OptionalParam[
                                                   $name: #NameExpr['len']
                                                   $default: #SubExpr[
                                                      $left: #NameExpr['@limit']
                                                      $right: #NameExpr['@index']
                                                   ]
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #IfExpr[
                                                      $then: #ApplyExpr[
                                                         #Self['self']
                                                         $recv: #NameExpr['raise']
                                                         $param: #List[
                                                            $expression: #ApplyExpr[
                                                               $recv: #NameExpr['DecodeError']
                                                               $recv: #NameExpr['new']
                                                               $param: #List[
                                                                  $expression: #StringExpr['limit exceeded']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $cond: #LtExpr[
                                                         $left: #NameExpr['@limit']
                                                         $right: #AddExpr[
                                                            $left: #NameExpr['@index']
                                                            $right: #NameExpr['len']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['d']
                                                      $right: #Indexer[
                                                         $recv: #NameExpr['@data']
                                                         $index: #List[
                                                            $expression: #NameExpr['@index']
                                                            $expression: #NameExpr['len']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AddAssign[
                                                      $left: #NameExpr['@index']
                                                      $right: #NameExpr['len']
                                                   ]
                                                   $statement: #RReturnStmt[
                                                      $expr: #List[
                                                         $expression: #NameExpr['d']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['get_unpack']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['template']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['len']
                                                      $right: #IntExpr['0']
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['template']
                                                      $recv: #NameExpr['each_byte']
                                                      $body: #Block[
                                                         $param: #NameExpr['byte']
                                                         $body: #List[
                                                            $statement: #AssignExpr[
                                                               $left: #NameExpr['byte']
                                                               $right: #ModExpr[
                                                                  $left: #StringExpr['%c']
                                                                  $right: #NameExpr['byte']
                                                               ]
                                                            ]
                                                            $statement: #Case[
                                                               $cond: #NameExpr['byte']
                                                               $body: #List[
                                                                  $when: #When[
                                                                     $cond: #List[
                                                                        $expression: #StringExpr['c']
                                                                        $expression: #StringExpr['C']
                                                                     ]
                                                                     $then: #AddAssign[
                                                                        $left: #NameExpr['len']
                                                                        $right: #IntExpr['1']
                                                                     ]
                                                                  ]
                                                                  $when: #When[
                                                                     $cond: #List[
                                                                        $expression: #StringExpr['n']
                                                                     ]
                                                                     $then: #AddAssign[
                                                                        $left: #NameExpr['len']
                                                                        $right: #IntExpr['2']
                                                                     ]
                                                                  ]
                                                                  $when: #When[
                                                                     $cond: #List[
                                                                        $expression: #StringExpr['N']
                                                                     ]
                                                                     $then: #AddAssign[
                                                                        $left: #NameExpr['len']
                                                                        $right: #IntExpr['4']
                                                                     ]
                                                                  ]
                                                               ]
                                                               $else: #ApplyExpr[
                                                                  #Self['self']
                                                                  $recv: #NameExpr['raise']
                                                                  $param: #List[
                                                                     $expression: #ApplyExpr[
                                                                        $recv: #NameExpr['StandardError']
                                                                        $recv: #NameExpr['new']
                                                                        $param: #List[
                                                                           $expression: #StringExpr[
                                                                              $inner: #ApplyExpr[
                                                                                 $recv: #NameExpr['byte']
                                                                                 $recv: #NameExpr['chr']
                                                                              ]
                                                                              $inner: #NameExpr['template']
                                                                           ]
                                                                        ]
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #IfExpr[
                                                      $then: #ApplyExpr[
                                                         #Self['self']
                                                         $recv: #NameExpr['raise']
                                                         $param: #List[
                                                            $expression: #ApplyExpr[
                                                               $recv: #NameExpr['DecodeError']
                                                               $recv: #NameExpr['new']
                                                               $param: #List[
                                                                  $expression: #StringExpr['limit exceeded']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $cond: #LtExpr[
                                                         $left: #NameExpr['@limit']
                                                         $right: #AddExpr[
                                                            $left: #NameExpr['@index']
                                                            $right: #NameExpr['len']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['arr']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['@data']
                                                         $recv: #NameExpr['unpack']
                                                         $param: #List[
                                                            $expression: #StringExpr[
                                                               $inner: #NameExpr['@index']
                                                               $inner: #NameExpr['template']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AddAssign[
                                                      $left: #NameExpr['@index']
                                                      $right: #NameExpr['len']
                                                   ]
                                                   $statement: #RReturnStmt[
                                                      $expr: #List[
                                                         $expression: #NameExpr['arr']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['get_string']
                                             $param: #List['']
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #IfExpr[
                                                      $then: #ApplyExpr[
                                                         #Self['self']
                                                         $recv: #NameExpr['raise']
                                                         $param: #List[
                                                            $expression: #ApplyExpr[
                                                               $recv: #NameExpr['DecodeError']
                                                               $recv: #NameExpr['new']
                                                               $param: #List[
                                                                  $expression: #StringExpr['limit exceeded']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $cond: #LteExpr[
                                                         $left: #NameExpr['@limit']
                                                         $right: #NameExpr['@index']
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['len']
                                                      $right: #ApplyExpr[
                                                         $recv: #Indexer[
                                                            $recv: #NameExpr['@data']
                                                            $index: #List[
                                                               $expression: #NameExpr['@index']
                                                            ]
                                                         ]
                                                         $recv: #NameExpr['ord']
                                                      ]
                                                   ]
                                                   $statement: #IfExpr[
                                                      $then: #ApplyExpr[
                                                         #Self['self']
                                                         $recv: #NameExpr['raise']
                                                         $param: #List[
                                                            $expression: #ApplyExpr[
                                                               $recv: #NameExpr['DecodeError']
                                                               $recv: #NameExpr['new']
                                                               $param: #List[
                                                                  $expression: #StringExpr['limit exceeded']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $cond: #LtExpr[
                                                         $left: #NameExpr['@limit']
                                                         $right: #AddExpr[
                                                            $left: #AddExpr[
                                                               $left: #NameExpr['@index']
                                                               $right: #IntExpr['1']
                                                            ]
                                                            $right: #NameExpr['len']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['d']
                                                      $right: #Indexer[
                                                         $recv: #NameExpr['@data']
                                                         $index: #List[
                                                            $expression: #AddExpr[
                                                               $left: #NameExpr['@index']
                                                               $right: #IntExpr['1']
                                                            ]
                                                            $expression: #NameExpr['len']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AddAssign[
                                                      $left: #NameExpr['@index']
                                                      $right: #AddExpr[
                                                         $left: #IntExpr['1']
                                                         $right: #NameExpr['len']
                                                      ]
                                                   ]
                                                   $statement: #RReturnStmt[
                                                      $expr: #List[
                                                         $expression: #NameExpr['d']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['get_string_list']
                                             $param: #List['']
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['strings']
                                                      $right: #Array['[]']
                                                   ]
                                                   $statement: #While[
                                                      $cond: #LtExpr[
                                                         $left: #NameExpr['@index']
                                                         $right: #NameExpr['@limit']
                                                      ]
                                                      $body: #LShiftExpr[
                                                         $left: #NameExpr['strings']
                                                         $right: #ApplyExpr[
                                                            $recv: #Self['self']
                                                            $recv: #NameExpr['get_string']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #NameExpr['strings']
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['get_name']
                                             $param: #List['']
                                             $body: #BlockExpr[
                                                $main: #RReturnStmt[
                                                   $expr: #List[
                                                      $expression: #ApplyExpr[
                                                         $recv: #NameExpr['Name']
                                                         $recv: #NameExpr['new']
                                                         $param: #List[
                                                            $expression: #ApplyExpr[
                                                               $recv: #Self['self']
                                                               $recv: #NameExpr['get_labels']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['get_labels']
                                             $param: #List['']
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['prev_index']
                                                      $right: #NameExpr['@index']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['save_index']
                                                      $right: #Nil['nil']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['d']
                                                      $right: #Array['[]']
                                                   ]
                                                   $statement: #While[
                                                      $cond: #TrueExpr['true']
                                                      $body: #List[
                                                         $statement: #IfExpr[
                                                            $then: #ApplyExpr[
                                                               #Self['self']
                                                               $recv: #NameExpr['raise']
                                                               $param: #List[
                                                                  $expression: #ApplyExpr[
                                                                     $recv: #NameExpr['DecodeError']
                                                                     $recv: #NameExpr['new']
                                                                     $param: #List[
                                                                        $expression: #StringExpr['limit exceeded']
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                            $cond: #LteExpr[
                                                               $left: #NameExpr['@limit']
                                                               $right: #NameExpr['@index']
                                                            ]
                                                         ]
                                                         $statement: #Case[
                                                            $cond: #ApplyExpr[
                                                               $recv: #Indexer[
                                                                  $recv: #NameExpr['@data']
                                                                  $index: #List[
                                                                     $expression: #NameExpr['@index']
                                                                  ]
                                                               ]
                                                               $recv: #NameExpr['ord']
                                                            ]
                                                            $body: #List[
                                                               $when: #When[
                                                                  $cond: #List[
                                                                     $expression: #IntExpr['0']
                                                                  ]
                                                                  $then: #List[
                                                                     $statement: #AddAssign[
                                                                        $left: #NameExpr['@index']
                                                                        $right: #IntExpr['1']
                                                                     ]
                                                                     $statement: #IfExpr[
                                                                        $cond: #NameExpr['save_index']
                                                                        $then: #AssignExpr[
                                                                           $left: #NameExpr['@index']
                                                                           $right: #NameExpr['save_index']
                                                                        ]
                                                                     ]
                                                                     $statement: #RReturnStmt[
                                                                        $expr: #List[
                                                                           $expression: #NameExpr['d']
                                                                        ]
                                                                     ]
                                                                  ]
                                                               ]
                                                               $when: #When[
                                                                  $cond: #List[
                                                                     $expression: #ClosedRange[
                                                                        #IntExpr['192']
                                                                        #IntExpr['255']
                                                                     ]
                                                                  ]
                                                                  $then: #List[
                                                                     $statement: #AssignExpr[
                                                                        $left: #NameExpr['idx']
                                                                        $right: #AndExpr[
                                                                           $left: #Indexer[
                                                                              $recv: #ApplyExpr[
                                                                                 $recv: #Self['self']
                                                                                 $recv: #NameExpr['get_unpack']
                                                                                 $param: #List[
                                                                                    $expression: #StringExpr['n']
                                                                                 ]
                                                                              ]
                                                                              $index: #List[
                                                                                 $expression: #IntExpr['0']
                                                                              ]
                                                                           ]
                                                                           $right: #HexInteger['0x3fff']
                                                                        ]
                                                                     ]
                                                                     $statement: #IfExpr[
                                                                        $cond: #LteExpr[
                                                                           $left: #NameExpr['prev_index']
                                                                           $right: #NameExpr['idx']
                                                                        ]
                                                                        $then: #ApplyExpr[
                                                                           #Self['self']
                                                                           $recv: #NameExpr['raise']
                                                                           $param: #List[
                                                                              $expression: #ApplyExpr[
                                                                                 $recv: #NameExpr['DecodeError']
                                                                                 $recv: #NameExpr['new']
                                                                                 $param: #List[
                                                                                    $expression: #StringExpr['non-backward name pointer']
                                                                                 ]
                                                                              ]
                                                                           ]
                                                                        ]
                                                                     ]
                                                                     $statement: #AssignExpr[
                                                                        $left: #NameExpr['prev_index']
                                                                        $right: #NameExpr['idx']
                                                                     ]
                                                                     $statement: #IfExpr[
                                                                        $cond: #NotExpr[
                                                                           $expr: #NameExpr['save_index']
                                                                        ]
                                                                        $then: #AssignExpr[
                                                                           $left: #NameExpr['save_index']
                                                                           $right: #NameExpr['@index']
                                                                        ]
                                                                     ]
                                                                     $statement: #AssignExpr[
                                                                        $left: #NameExpr['@index']
                                                                        $right: #NameExpr['idx']
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                            $else: #LShiftExpr[
                                                               $left: #NameExpr['d']
                                                               $right: #ApplyExpr[
                                                                  $recv: #Self['self']
                                                                  $recv: #NameExpr['get_label']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['get_label']
                                             $param: #List['']
                                             $body: #BlockExpr[
                                                $main: #RReturnStmt[
                                                   $expr: #List[
                                                      $expression: #ApplyExpr[
                                                         $recv: #Field[
                                                            $recv: #NameExpr['Label']
                                                            $name: #NameExpr['Str']
                                                         ]
                                                         $recv: #NameExpr['new']
                                                         $param: #List[
                                                            $expression: #ApplyExpr[
                                                               $recv: #Self['self']
                                                               $recv: #NameExpr['get_string']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['get_question']
                                             $param: #List['']
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['name']
                                                      $right: #ApplyExpr[
                                                         $recv: #Self['self']
                                                         $recv: #NameExpr['get_name']
                                                      ]
                                                   ]
                                                   $statement: #MultipleAssign[
                                                      $left: #MultipleLeftHandSideExpression[
                                                         $item: #NameExpr['type']
                                                         $item: #NameExpr['klass']
                                                      ]
                                                      $right: #ApplyExpr[
                                                         $recv: #Self['self']
                                                         $recv: #NameExpr['get_unpack']
                                                         $param: #List[
                                                            $expression: #StringExpr['nn']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #RReturnStmt[
                                                      $expr: #List[
                                                         $expression: #NameExpr['name']
                                                         $expression: #ApplyExpr[
                                                            $recv: #NameExpr['Resource']
                                                            $recv: #NameExpr['get_class']
                                                            $param: #List[
                                                               $expression: #NameExpr['type']
                                                               $expression: #NameExpr['klass']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['get_rr']
                                             $param: #List['']
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['name']
                                                      $right: #ApplyExpr[
                                                         $recv: #Self['self']
                                                         $recv: #NameExpr['get_name']
                                                      ]
                                                   ]
                                                   $statement: #MultipleAssign[
                                                      $left: #MultipleLeftHandSideExpression[
                                                         $item: #NameExpr['type']
                                                         $item: #NameExpr['klass']
                                                         $item: #NameExpr['ttl']
                                                      ]
                                                      $right: #ApplyExpr[
                                                         $recv: #Self['self']
                                                         $recv: #NameExpr['get_unpack']
                                                         $param: #List[
                                                            $expression: #StringExpr['nnN']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['typeclass']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['Resource']
                                                         $recv: #NameExpr['get_class']
                                                         $param: #List[
                                                            $expression: #NameExpr['type']
                                                            $expression: #NameExpr['klass']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['res']
                                                      $right: #ApplyExpr[
                                                         $recv: #Self['self']
                                                         $recv: #NameExpr['get_length16']
                                                         $body: #Block[
                                                            $body: #ApplyExpr[
                                                               $base: #NameExpr['typeclass']
                                                               $recv: #NameExpr['decode_rdata']
                                                               $param: #List[
                                                                  $expression: #Self['self']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $base: #NameExpr['res']
                                                      $recv: #NameExpr['instance_variable_set']
                                                      $param: #List[
                                                         $expression: #NameExpr['@ttl']
                                                         $expression: #NameExpr['ttl']
                                                      ]
                                                   ]
                                                   $statement: #RReturnStmt[
                                                      $expr: #List[
                                                         $expression: #NameExpr['name']
                                                         $expression: #NameExpr['ttl']
                                                         $expression: #NameExpr['res']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #Class[
                           $name: #NameExpr['Query']
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['encode_rdata']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['msg']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['raise']
                                          $param: #List[
                                             $expression: #ApplyExpr[
                                                $recv: #NameExpr['EncodeError']
                                                $recv: #NameExpr['new']
                                                $param: #List[
                                                   $expression: #StringExpr[
                                                      $inner: #ApplyExpr[
                                                         $recv: #Self['self']
                                                         $recv: #NameExpr['class']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #SFuncDecl[
                                    $path: #Self['self']
                                    $name: #NameExpr['decode_rdata']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['msg']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['raise']
                                          $param: #List[
                                             $expression: #ApplyExpr[
                                                $recv: #NameExpr['DecodeError']
                                                $recv: #NameExpr['new']
                                                $param: #List[
                                                   $expression: #StringExpr[
                                                      $inner: #ApplyExpr[
                                                         $recv: #Self['self']
                                                         $recv: #NameExpr['class']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #Class[
                           $name: #NameExpr['Resource']
                           $super: #NameExpr['Query']
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['attr_reader']
                                    $param: #List[
                                       $expression: #NameExpr['ttl']
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['ClassHash']
                                    $right: #List['{}']
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['encode_rdata']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['msg']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['raise']
                                          $param: #List[
                                             $expression: #ApplyExpr[
                                                $recv: #NameExpr['NotImplementedError']
                                                $recv: #NameExpr['new']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #SFuncDecl[
                                    $path: #Self['self']
                                    $name: #NameExpr['decode_rdata']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['msg']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #ApplyExpr[
                                          #Self['self']
                                          $recv: #NameExpr['raise']
                                          $param: #List[
                                             $expression: #ApplyExpr[
                                                $recv: #NameExpr['NotImplementedError']
                                                $recv: #NameExpr['new']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['==']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['other']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #Unless[
                                             $then: #RReturnStmt[
                                                $expr: #List[
                                                   $expression: #FalseExpr['false']
                                                ]
                                             ]
                                             $cond: #EqExpr[
                                                $left: #ApplyExpr[
                                                   $recv: #Self['self']
                                                   $recv: #NameExpr['class']
                                                ]
                                                $right: #ApplyExpr[
                                                   $recv: #NameExpr['other']
                                                   $recv: #NameExpr['class']
                                                ]
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['s_ivars']
                                             $right: #ApplyExpr[
                                                $recv: #Self['self']
                                                $recv: #NameExpr['instance_variables']
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             $recv: #NameExpr['s_ivars']
                                             $recv: #NameExpr['sort!']
                                          ]
                                          $statement: #ApplyExpr[
                                             $base: #NameExpr['s_ivars']
                                             $recv: #NameExpr['delete']
                                             $param: #List[
                                                $expression: #NameExpr['@ttl']
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['o_ivars']
                                             $right: #ApplyExpr[
                                                $recv: #NameExpr['other']
                                                $recv: #NameExpr['instance_variables']
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             $recv: #NameExpr['o_ivars']
                                             $recv: #NameExpr['sort!']
                                          ]
                                          $statement: #ApplyExpr[
                                             $base: #NameExpr['o_ivars']
                                             $recv: #NameExpr['delete']
                                             $param: #List[
                                                $expression: #NameExpr['@ttl']
                                             ]
                                          ]
                                          $statement: #RReturnStmt[
                                             $expr: #List[
                                                $expression: #LAnd[
                                                   $left: #EqExpr[
                                                      $left: #NameExpr['s_ivars']
                                                      $right: #NameExpr['o_ivars']
                                                   ]
                                                   $right: #EqExpr[
                                                      $left: #ApplyExpr[
                                                         $recv: #NameExpr['s_ivars']
                                                         $recv: #NameExpr['collect']
                                                         $body: #Block[
                                                            $param: #NameExpr['name']
                                                            $body: #ApplyExpr[
                                                               $base: #Self['self']
                                                               $recv: #NameExpr['instance_variable_get']
                                                               $param: #List[
                                                                  $expression: #NameExpr['name']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['o_ivars']
                                                         $recv: #NameExpr['collect']
                                                         $body: #Block[
                                                            $param: #NameExpr['name']
                                                            $body: #ApplyExpr[
                                                               $base: #NameExpr['other']
                                                               $recv: #NameExpr['instance_variable_get']
                                                               $param: #List[
                                                                  $expression: #NameExpr['name']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['eql?']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['other']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #RReturnStmt[
                                          $expr: #List[
                                             $expression: #EqExpr[
                                                $left: #Self['self']
                                                $right: #NameExpr['other']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['hash']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['h']
                                             $right: #IntExpr['0']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['vars']
                                             $right: #ApplyExpr[
                                                $recv: #Self['self']
                                                $recv: #NameExpr['instance_variables']
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             $base: #NameExpr['vars']
                                             $recv: #NameExpr['delete']
                                             $param: #List[
                                                $expression: #NameExpr['@ttl']
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             $recv: #NameExpr['vars']
                                             $recv: #NameExpr['each']
                                             $body: #Block[
                                                $param: #NameExpr['name']
                                                $body: #XOrAssign[
                                                   $left: #NameExpr['h']
                                                   $right: #ApplyExpr[
                                                      $recv: #ApplyExpr[
                                                         $recv: #Self['self']
                                                         $recv: #NameExpr['instance_variable_get']
                                                         $param: #List[
                                                            $expression: #NameExpr['name']
                                                         ]
                                                      ]
                                                      $recv: #NameExpr['hash']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #RReturnStmt[
                                             $expr: #List[
                                                $expression: #NameExpr['h']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #SFuncDecl[
                                    $path: #Self['self']
                                    $name: #NameExpr['get_class']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['type_value']
                                       ]
                                       $param: #Param[
                                          $param: #NameExpr['class_value']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #RReturnStmt[
                                          $expr: #List[
                                             $expression: #LOr[
                                                $left: #Indexer[
                                                   $recv: #NameExpr['ClassHash']
                                                   $index: #List[
                                                      $expression: #Array[
                                                         $index: #List[
                                                            $expression: #NameExpr['type_value']
                                                            $expression: #NameExpr['class_value']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                                $right: #ApplyExpr[
                                                   $recv: #NameExpr['Generic']
                                                   $recv: #NameExpr['create']
                                                   $param: #List[
                                                      $expression: #NameExpr['type_value']
                                                      $expression: #NameExpr['class_value']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #Class[
                                    $name: #NameExpr['Generic']
                                    $super: #NameExpr['Resource']
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['initialize']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['data']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #AssignExpr[
                                                   $left: #NameExpr['@data']
                                                   $right: #NameExpr['data']
                                                ]
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['attr_reader']
                                             $param: #List[
                                                $expression: #NameExpr['data']
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['encode_rdata']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['msg']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #ApplyExpr[
                                                   $recv: #NameExpr['msg']
                                                   $recv: #NameExpr['put_bytes']
                                                   $param: #List[
                                                      $expression: #NameExpr['data']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #SFuncDecl[
                                             $path: #Self['self']
                                             $name: #NameExpr['decode_rdata']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['msg']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #RReturnStmt[
                                                   $expr: #List[
                                                      $expression: #ApplyExpr[
                                                         $recv: #Self['self']
                                                         $recv: #NameExpr['new']
                                                         $param: #List[
                                                            $expression: #ApplyExpr[
                                                               $recv: #NameExpr['msg']
                                                               $recv: #NameExpr['get_bytes']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #SFuncDecl[
                                             $path: #Self['self']
                                             $name: #NameExpr['create']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['type_value']
                                                ]
                                                $param: #Param[
                                                   $param: #NameExpr['class_value']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['c']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['Class']
                                                         $recv: #NameExpr['new']
                                                         $param: #List[
                                                            $expression: #NameExpr['Generic']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['c']
                                                      $recv: #NameExpr['const_set']
                                                      $param: #List[
                                                         $expression: #NameExpr['TypeValue']
                                                         $expression: #NameExpr['type_value']
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['c']
                                                      $recv: #NameExpr['const_set']
                                                      $param: #List[
                                                         $expression: #NameExpr['ClassValue']
                                                         $expression: #NameExpr['class_value']
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['Generic']
                                                      $recv: #NameExpr['const_set']
                                                      $param: #List[
                                                         $expression: #StringExpr[
                                                            $inner: #NameExpr['type_value']
                                                            $inner: #NameExpr['class_value']
                                                         ]
                                                         $expression: #NameExpr['c']
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #Indexer[
                                                         $base: #NameExpr['ClassHash']
                                                         $index: #List[
                                                            $expression: #Array[
                                                               $index: #List[
                                                                  $expression: #NameExpr['type_value']
                                                                  $expression: #NameExpr['class_value']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $right: #NameExpr['c']
                                                   ]
                                                   $statement: #RReturnStmt[
                                                      $expr: #List[
                                                         $expression: #NameExpr['c']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #Class[
                                    $name: #NameExpr['DomainName']
                                    $super: #NameExpr['Resource']
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['initialize']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['name']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #AssignExpr[
                                                   $left: #NameExpr['@name']
                                                   $right: #NameExpr['name']
                                                ]
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['attr_reader']
                                             $param: #List[
                                                $expression: #NameExpr['name']
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['encode_rdata']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['msg']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #ApplyExpr[
                                                   $recv: #NameExpr['msg']
                                                   $recv: #NameExpr['put_name']
                                                   $param: #List[
                                                      $expression: #NameExpr['@name']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #SFuncDecl[
                                             $path: #Self['self']
                                             $name: #NameExpr['decode_rdata']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['msg']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #RReturnStmt[
                                                   $expr: #List[
                                                      $expression: #ApplyExpr[
                                                         $recv: #Self['self']
                                                         $recv: #NameExpr['new']
                                                         $param: #List[
                                                            $expression: #ApplyExpr[
                                                               $recv: #NameExpr['msg']
                                                               $recv: #NameExpr['get_name']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['ClassValue']
                                    $right: #Nil['nil']
                                 ]
                                 $statement: #Class[
                                    $name: #NameExpr['NS']
                                    $super: #NameExpr['DomainName']
                                    $body: #BlockExpr[
                                       $main: #AssignExpr[
                                          $left: #NameExpr['TypeValue']
                                          $right: #IntExpr['2']
                                       ]
                                    ]
                                 ]
                                 $statement: #Class[
                                    $name: #NameExpr['CNAME']
                                    $super: #NameExpr['DomainName']
                                    $body: #BlockExpr[
                                       $main: #AssignExpr[
                                          $left: #NameExpr['TypeValue']
                                          $right: #IntExpr['5']
                                       ]
                                    ]
                                 ]
                                 $statement: #Class[
                                    $name: #NameExpr['SOA']
                                    $super: #NameExpr['Resource']
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['TypeValue']
                                             $right: #IntExpr['6']
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['initialize']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['mname']
                                                ]
                                                $param: #Param[
                                                   $param: #NameExpr['rname']
                                                ]
                                                $param: #Param[
                                                   $param: #NameExpr['serial']
                                                ]
                                                $param: #Param[
                                                   $param: #NameExpr['refresh']
                                                ]
                                                $param: #Param[
                                                   $param: #NameExpr['retry_']
                                                ]
                                                $param: #Param[
                                                   $param: #NameExpr['expire']
                                                ]
                                                $param: #Param[
                                                   $param: #NameExpr['minimum']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@mname']
                                                      $right: #NameExpr['mname']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@rname']
                                                      $right: #NameExpr['rname']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@serial']
                                                      $right: #NameExpr['serial']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@refresh']
                                                      $right: #NameExpr['refresh']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@retry']
                                                      $right: #NameExpr['retry_']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@expire']
                                                      $right: #NameExpr['expire']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@minimum']
                                                      $right: #NameExpr['minimum']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['attr_reader']
                                             $param: #List[
                                                $expression: #NameExpr['mname']
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['attr_reader']
                                             $param: #List[
                                                $expression: #NameExpr['rname']
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['attr_reader']
                                             $param: #List[
                                                $expression: #NameExpr['serial']
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['attr_reader']
                                             $param: #List[
                                                $expression: #NameExpr['refresh']
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['attr_reader']
                                             $param: #List[
                                                $expression: #NameExpr['retry']
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['attr_reader']
                                             $param: #List[
                                                $expression: #NameExpr['expire']
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['attr_reader']
                                             $param: #List[
                                                $expression: #NameExpr['minimum']
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['encode_rdata']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['msg']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['msg']
                                                      $recv: #NameExpr['put_name']
                                                      $param: #List[
                                                         $expression: #NameExpr['@mname']
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['msg']
                                                      $recv: #NameExpr['put_name']
                                                      $param: #List[
                                                         $expression: #NameExpr['@rname']
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['msg']
                                                      $recv: #NameExpr['put_pack']
                                                      $param: #List[
                                                         $expression: #StringExpr['NNNNN']
                                                         $expression: #NameExpr['@serial']
                                                         $expression: #NameExpr['@refresh']
                                                         $expression: #NameExpr['@retry']
                                                         $expression: #NameExpr['@expire']
                                                         $expression: #NameExpr['@minimum']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #SFuncDecl[
                                             $path: #Self['self']
                                             $name: #NameExpr['decode_rdata']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['msg']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['mname']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['msg']
                                                         $recv: #NameExpr['get_name']
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['rname']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['msg']
                                                         $recv: #NameExpr['get_name']
                                                      ]
                                                   ]
                                                   $statement: #MultipleAssign[
                                                      $left: #MultipleLeftHandSideExpression[
                                                         $item: #NameExpr['serial']
                                                         $item: #NameExpr['refresh']
                                                         $item: #NameExpr['retry_']
                                                         $item: #NameExpr['expire']
                                                         $item: #NameExpr['minimum']
                                                      ]
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['msg']
                                                         $recv: #NameExpr['get_unpack']
                                                         $param: #List[
                                                            $expression: #StringExpr['NNNNN']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #RReturnStmt[
                                                      $expr: #List[
                                                         $expression: #ApplyExpr[
                                                            $recv: #Self['self']
                                                            $recv: #NameExpr['new']
                                                            $param: #List[
                                                               $expression: #NameExpr['mname']
                                                               $expression: #NameExpr['rname']
                                                               $expression: #NameExpr['serial']
                                                               $expression: #NameExpr['refresh']
                                                               $expression: #NameExpr['retry_']
                                                               $expression: #NameExpr['expire']
                                                               $expression: #NameExpr['minimum']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #Class[
                                    $name: #NameExpr['PTR']
                                    $super: #NameExpr['DomainName']
                                    $body: #BlockExpr[
                                       $main: #AssignExpr[
                                          $left: #NameExpr['TypeValue']
                                          $right: #IntExpr['12']
                                       ]
                                    ]
                                 ]
                                 $statement: #Class[
                                    $name: #NameExpr['HINFO']
                                    $super: #NameExpr['Resource']
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['TypeValue']
                                             $right: #IntExpr['13']
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['initialize']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['cpu']
                                                ]
                                                $param: #Param[
                                                   $param: #NameExpr['os']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@cpu']
                                                      $right: #NameExpr['cpu']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@os']
                                                      $right: #NameExpr['os']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['attr_reader']
                                             $param: #List[
                                                $expression: #NameExpr['cpu']
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['attr_reader']
                                             $param: #List[
                                                $expression: #NameExpr['os']
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['encode_rdata']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['msg']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['msg']
                                                      $recv: #NameExpr['put_string']
                                                      $param: #List[
                                                         $expression: #NameExpr['@cpu']
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['msg']
                                                      $recv: #NameExpr['put_string']
                                                      $param: #List[
                                                         $expression: #NameExpr['@os']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #SFuncDecl[
                                             $path: #Self['self']
                                             $name: #NameExpr['decode_rdata']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['msg']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['cpu']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['msg']
                                                         $recv: #NameExpr['get_string']
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['os']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['msg']
                                                         $recv: #NameExpr['get_string']
                                                      ]
                                                   ]
                                                   $statement: #RReturnStmt[
                                                      $expr: #List[
                                                         $expression: #ApplyExpr[
                                                            $recv: #Self['self']
                                                            $recv: #NameExpr['new']
                                                            $param: #List[
                                                               $expression: #NameExpr['cpu']
                                                               $expression: #NameExpr['os']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #Class[
                                    $name: #NameExpr['MINFO']
                                    $super: #NameExpr['Resource']
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['TypeValue']
                                             $right: #IntExpr['14']
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['initialize']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['rmailbx']
                                                ]
                                                $param: #Param[
                                                   $param: #NameExpr['emailbx']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@rmailbx']
                                                      $right: #NameExpr['rmailbx']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@emailbx']
                                                      $right: #NameExpr['emailbx']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['attr_reader']
                                             $param: #List[
                                                $expression: #NameExpr['rmailbx']
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['attr_reader']
                                             $param: #List[
                                                $expression: #NameExpr['emailbx']
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['encode_rdata']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['msg']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['msg']
                                                      $recv: #NameExpr['put_name']
                                                      $param: #List[
                                                         $expression: #NameExpr['@rmailbx']
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['msg']
                                                      $recv: #NameExpr['put_name']
                                                      $param: #List[
                                                         $expression: #NameExpr['@emailbx']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #SFuncDecl[
                                             $path: #Self['self']
                                             $name: #NameExpr['decode_rdata']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['msg']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['rmailbx']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['msg']
                                                         $recv: #NameExpr['get_string']
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['emailbx']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['msg']
                                                         $recv: #NameExpr['get_string']
                                                      ]
                                                   ]
                                                   $statement: #RReturnStmt[
                                                      $expr: #List[
                                                         $expression: #ApplyExpr[
                                                            $recv: #Self['self']
                                                            $recv: #NameExpr['new']
                                                            $param: #List[
                                                               $expression: #NameExpr['rmailbx']
                                                               $expression: #NameExpr['emailbx']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #Class[
                                    $name: #NameExpr['MX']
                                    $super: #NameExpr['Resource']
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['TypeValue']
                                             $right: #IntExpr['15']
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['initialize']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['preference']
                                                ]
                                                $param: #Param[
                                                   $param: #NameExpr['exchange']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@preference']
                                                      $right: #NameExpr['preference']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@exchange']
                                                      $right: #NameExpr['exchange']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['attr_reader']
                                             $param: #List[
                                                $expression: #NameExpr['preference']
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['attr_reader']
                                             $param: #List[
                                                $expression: #NameExpr['exchange']
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['encode_rdata']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['msg']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['msg']
                                                      $recv: #NameExpr['put_pack']
                                                      $param: #List[
                                                         $expression: #StringExpr['n']
                                                         $expression: #NameExpr['@preference']
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['msg']
                                                      $recv: #NameExpr['put_name']
                                                      $param: #List[
                                                         $expression: #NameExpr['@exchange']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #SFuncDecl[
                                             $path: #Self['self']
                                             $name: #NameExpr['decode_rdata']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['msg']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #MultipleAssign[
                                                      $left: #MultipleLeftHandSideExpression[
                                                         $item: #NameExpr['preference']
                                                      ]
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['msg']
                                                         $recv: #NameExpr['get_unpack']
                                                         $param: #List[
                                                            $expression: #StringExpr['n']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['exchange']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['msg']
                                                         $recv: #NameExpr['get_name']
                                                      ]
                                                   ]
                                                   $statement: #RReturnStmt[
                                                      $expr: #List[
                                                         $expression: #ApplyExpr[
                                                            $recv: #Self['self']
                                                            $recv: #NameExpr['new']
                                                            $param: #List[
                                                               $expression: #NameExpr['preference']
                                                               $expression: #NameExpr['exchange']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #Class[
                                    $name: #NameExpr['TXT']
                                    $super: #NameExpr['Resource']
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['TypeValue']
                                             $right: #IntExpr['16']
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['initialize']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['first_string']
                                                ]
                                                $param: #VariadicParam[
                                                   $name: #NameExpr['rest_strings']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #AssignExpr[
                                                   $left: #NameExpr['@strings']
                                                   $right: #Array[
                                                      $index: #List[
                                                         $expression: #NameExpr['first_string']
                                                         $variadic: #Variadic[
                                                            $base: #NameExpr['rest_strings']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['attr_reader']
                                             $param: #List[
                                                $expression: #NameExpr['strings']
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['data']
                                             $param: #List['']
                                             $body: #BlockExpr[
                                                $main: #ApplyExpr[
                                                   $recv: #NameExpr['@strings']
                                                   $recv: #NameExpr['join']
                                                   $param: #List[
                                                      $expression: #StringExpr['']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['encode_rdata']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['msg']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #ApplyExpr[
                                                   $recv: #NameExpr['msg']
                                                   $recv: #NameExpr['put_string_list']
                                                   $param: #List[
                                                      $expression: #NameExpr['@strings']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #SFuncDecl[
                                             $path: #Self['self']
                                             $name: #NameExpr['decode_rdata']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['msg']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['strings']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['msg']
                                                         $recv: #NameExpr['get_string_list']
                                                      ]
                                                   ]
                                                   $statement: #RReturnStmt[
                                                      $expr: #List[
                                                         $expression: #ApplyExpr[
                                                            $recv: #Self['self']
                                                            $recv: #NameExpr['new']
                                                            $param: #List[
                                                               $variadic: #Variadic[
                                                                  $base: #NameExpr['strings']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #Class[
                                    $name: #NameExpr['LOC']
                                    $super: #NameExpr['Resource']
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['TypeValue']
                                             $right: #IntExpr['29']
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['initialize']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['version']
                                                ]
                                                $param: #Param[
                                                   $param: #NameExpr['ssize']
                                                ]
                                                $param: #Param[
                                                   $param: #NameExpr['hprecision']
                                                ]
                                                $param: #Param[
                                                   $param: #NameExpr['vprecision']
                                                ]
                                                $param: #Param[
                                                   $param: #NameExpr['latitude']
                                                ]
                                                $param: #Param[
                                                   $param: #NameExpr['longitude']
                                                ]
                                                $param: #Param[
                                                   $param: #NameExpr['altitude']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@version']
                                                      $right: #NameExpr['version']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@ssize']
                                                      $right: #ApplyExpr[
                                                         $recv: #Field[
                                                            $recv: #Field[
                                                               $recv: #NameExpr['Resolv']
                                                               $name: #NameExpr['LOC']
                                                            ]
                                                            $name: #NameExpr['Size']
                                                         ]
                                                         $recv: #NameExpr['create']
                                                         $param: #List[
                                                            $expression: #NameExpr['ssize']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@hprecision']
                                                      $right: #ApplyExpr[
                                                         $recv: #Field[
                                                            $recv: #Field[
                                                               $recv: #NameExpr['Resolv']
                                                               $name: #NameExpr['LOC']
                                                            ]
                                                            $name: #NameExpr['Size']
                                                         ]
                                                         $recv: #NameExpr['create']
                                                         $param: #List[
                                                            $expression: #NameExpr['hprecision']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@vprecision']
                                                      $right: #ApplyExpr[
                                                         $recv: #Field[
                                                            $recv: #Field[
                                                               $recv: #NameExpr['Resolv']
                                                               $name: #NameExpr['LOC']
                                                            ]
                                                            $name: #NameExpr['Size']
                                                         ]
                                                         $recv: #NameExpr['create']
                                                         $param: #List[
                                                            $expression: #NameExpr['vprecision']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@latitude']
                                                      $right: #ApplyExpr[
                                                         $recv: #Field[
                                                            $recv: #Field[
                                                               $recv: #NameExpr['Resolv']
                                                               $name: #NameExpr['LOC']
                                                            ]
                                                            $name: #NameExpr['Coord']
                                                         ]
                                                         $recv: #NameExpr['create']
                                                         $param: #List[
                                                            $expression: #NameExpr['latitude']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@longitude']
                                                      $right: #ApplyExpr[
                                                         $recv: #Field[
                                                            $recv: #Field[
                                                               $recv: #NameExpr['Resolv']
                                                               $name: #NameExpr['LOC']
                                                            ]
                                                            $name: #NameExpr['Coord']
                                                         ]
                                                         $recv: #NameExpr['create']
                                                         $param: #List[
                                                            $expression: #NameExpr['longitude']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['@altitude']
                                                      $right: #ApplyExpr[
                                                         $recv: #Field[
                                                            $recv: #Field[
                                                               $recv: #NameExpr['Resolv']
                                                               $name: #NameExpr['LOC']
                                                            ]
                                                            $name: #NameExpr['Alt']
                                                         ]
                                                         $recv: #NameExpr['create']
                                                         $param: #List[
                                                            $expression: #NameExpr['altitude']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['attr_reader']
                                             $param: #List[
                                                $expression: #NameExpr['version']
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['attr_reader']
                                             $param: #List[
                                                $expression: #NameExpr['ssize']
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['attr_reader']
                                             $param: #List[
                                                $expression: #NameExpr['hprecision']
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['attr_reader']
                                             $param: #List[
                                                $expression: #NameExpr['vprecision']
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['attr_reader']
                                             $param: #List[
                                                $expression: #NameExpr['latitude']
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['attr_reader']
                                             $param: #List[
                                                $expression: #NameExpr['longitude']
                                             ]
                                          ]
                                          $statement: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['attr_reader']
                                             $param: #List[
                                                $expression: #NameExpr['altitude']
                                             ]
                                          ]
                                          $statement: #FuncDecl[
                                             $name: #NameExpr['encode_rdata']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['msg']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['msg']
                                                      $recv: #NameExpr['put_bytes']
                                                      $param: #List[
                                                         $expression: #NameExpr['@version']
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['msg']
                                                      $recv: #NameExpr['put_bytes']
                                                      $param: #List[
                                                         $expression: #ApplyExpr[
                                                            $recv: #NameExpr['@ssize']
                                                            $recv: #NameExpr['scalar']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['msg']
                                                      $recv: #NameExpr['put_bytes']
                                                      $param: #List[
                                                         $expression: #ApplyExpr[
                                                            $recv: #NameExpr['@hprecision']
                                                            $recv: #NameExpr['scalar']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['msg']
                                                      $recv: #NameExpr['put_bytes']
                                                      $param: #List[
                                                         $expression: #ApplyExpr[
                                                            $recv: #NameExpr['@vprecision']
                                                            $recv: #NameExpr['scalar']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['msg']
                                                      $recv: #NameExpr['put_bytes']
                                                      $param: #List[
                                                         $expression: #ApplyExpr[
                                                            $recv: #NameExpr['@latitude']
                                                            $recv: #NameExpr['coordinates']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['msg']
                                                      $recv: #NameExpr['put_bytes']
                                                      $param: #List[
                                                         $expression: #ApplyExpr[
                                                            $recv: #NameExpr['@longitude']
                                                            $recv: #NameExpr['coordinates']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['msg']
                                                      $recv: #NameExpr['put_bytes']
                                                      $param: #List[
                                                         $expression: #ApplyExpr[
                                                            $recv: #NameExpr['@altitude']
                                                            $recv: #NameExpr['altitude']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #SFuncDecl[
                                             $path: #Self['self']
                                             $name: #NameExpr['decode_rdata']
                                             $param: #List[
                                                $param: #Param[
                                                   $param: #NameExpr['msg']
                                                ]
                                             ]
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['version']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['msg']
                                                         $recv: #NameExpr['get_bytes']
                                                         $param: #List[
                                                            $expression: #IntExpr['1']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['ssize']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['msg']
                                                         $recv: #NameExpr['get_bytes']
                                                         $param: #List[
                                                            $expression: #IntExpr['1']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['hprecision']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['msg']
                                                         $recv: #NameExpr['get_bytes']
                                                         $param: #List[
                                                            $expression: #IntExpr['1']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['vprecision']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['msg']
                                                         $recv: #NameExpr['get_bytes']
                                                         $param: #List[
                                                            $expression: #IntExpr['1']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['latitude']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['msg']
                                                         $recv: #NameExpr['get_bytes']
                                                         $param: #List[
                                                            $expression: #IntExpr['4']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['longitude']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['msg']
                                                         $recv: #NameExpr['get_bytes']
                                                         $param: #List[
                                                            $expression: #IntExpr['4']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['altitude']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['msg']
                                                         $recv: #NameExpr['get_bytes']
                                                         $param: #List[
                                                            $expression: #IntExpr['4']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #RReturnStmt[
                                                      $expr: #List[
                                                         $expression: #ApplyExpr[
                                                            $recv: #Self['self']
                                                            $recv: #NameExpr['new']
                                                            $param: #List[
                                                               $expression: #NameExpr['version']
                                                               $expression: #ApplyExpr[
                                                                  $recv: #Field[
                                                                     $recv: #Field[
                                                                        $recv: #NameExpr['Resolv']
                                                                        $name: #NameExpr['LOC']
                                                                     ]
                                                                     $name: #NameExpr['Size']
                                                                  ]
                                                                  $recv: #NameExpr['new']
                                                                  $param: #List[
                                                                     $expression: #NameExpr['ssize']
                                                                  ]
                                                               ]
                                                               $expression: #ApplyExpr[
                                                                  $recv: #Field[
                                                                     $recv: #Field[
                                                                        $recv: #NameExpr['Resolv']
                                                                        $name: #NameExpr['LOC']
                                                                     ]
                                                                     $name: #NameExpr['Size']
                                                                  ]
                                                                  $recv: #NameExpr['new']
                                                                  $param: #List[
                                                                     $expression: #NameExpr['hprecision']
                                                                  ]
                                                               ]
                                                               $expression: #ApplyExpr[
                                                                  $recv: #Field[
                                                                     $recv: #Field[
                                                                        $recv: #NameExpr['Resolv']
                                                                        $name: #NameExpr['LOC']
                                                                     ]
                                                                     $name: #NameExpr['Size']
                                                                  ]
                                                                  $recv: #NameExpr['new']
                                                                  $param: #List[
                                                                     $expression: #NameExpr['vprecision']
                                                                  ]
                                                               ]
                                                               $expression: #ApplyExpr[
                                                                  $recv: #Field[
                                                                     $recv: #Field[
                                                                        $recv: #NameExpr['Resolv']
                                                                        $name: #NameExpr['LOC']
                                                                     ]
                                                                     $name: #NameExpr['Coord']
                                                                  ]
                                                                  $recv: #NameExpr['new']
                                                                  $param: #List[
                                                                     $expression: #NameExpr['latitude']
                                                                     $expression: #StringExpr['lat']
                                                                  ]
                                                               ]
                                                               $expression: #ApplyExpr[
                                                                  $recv: #Field[
                                                                     $recv: #Field[
                                                                        $recv: #NameExpr['Resolv']
                                                                        $name: #NameExpr['LOC']
                                                                     ]
                                                                     $name: #NameExpr['Coord']
                                                                  ]
                                                                  $recv: #NameExpr['new']
                                                                  $param: #List[
                                                                     $expression: #NameExpr['longitude']
                                                                     $expression: #StringExpr['lon']
                                                                  ]
                                                               ]
                                                               $expression: #ApplyExpr[
                                                                  $recv: #Field[
                                                                     $recv: #Field[
                                                                        $recv: #NameExpr['Resolv']
                                                                        $name: #NameExpr['LOC']
                                                                     ]
                                                                     $name: #NameExpr['Alt']
                                                                  ]
                                                                  $recv: #NameExpr['new']
                                                                  $param: #List[
                                                                     $expression: #NameExpr['altitude']
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #Class[
                                    $name: #NameExpr['ANY']
                                    $super: #NameExpr['Query']
                                    $body: #BlockExpr[
                                       $main: #AssignExpr[
                                          $left: #NameExpr['TypeValue']
                                          $right: #IntExpr['255']
                                       ]
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['ClassInsensitiveTypes']
                                    $right: #Array[
                                       $index: #List[
                                          $expression: #NameExpr['NS']
                                          $expression: #NameExpr['CNAME']
                                          $expression: #NameExpr['SOA']
                                          $expression: #NameExpr['PTR']
                                          $expression: #NameExpr['HINFO']
                                          $expression: #NameExpr['MINFO']
                                          $expression: #NameExpr['MX']
                                          $expression: #NameExpr['TXT']
                                          $expression: #NameExpr['LOC']
                                          $expression: #NameExpr['ANY']
                                       ]
                                    ]
                                 ]
                                 $statement: #Module[
                                    $name: #NameExpr['IN']
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['ClassValue']
                                             $right: #IntExpr['1']
                                          ]
                                          $statement: #ApplyExpr[
                                             $recv: #NameExpr['ClassInsensitiveTypes']
                                             $recv: #NameExpr['each']
                                             $body: #Block[
                                                $param: #NameExpr['s']
                                                $body: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['c']
                                                      $right: #ApplyExpr[
                                                         $recv: #NameExpr['Class']
                                                         $recv: #NameExpr['new']
                                                         $param: #List[
                                                            $expression: #NameExpr['s']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['c']
                                                      $recv: #NameExpr['const_set']
                                                      $param: #List[
                                                         $expression: #NameExpr['TypeValue']
                                                         $expression: #Field[
                                                            $recv: #NameExpr['s']
                                                            $name: #NameExpr['TypeValue']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['c']
                                                      $recv: #NameExpr['const_set']
                                                      $param: #List[
                                                         $expression: #NameExpr['ClassValue']
                                                         $expression: #NameExpr['ClassValue']
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #Indexer[
                                                         $base: #NameExpr['ClassHash']
                                                         $index: #List[
                                                            $expression: #Array[
                                                               $index: #List[
                                                                  $expression: #Field[
                                                                     $recv: #NameExpr['s']
                                                                     $name: #NameExpr['TypeValue']
                                                                  ]
                                                                  $expression: #NameExpr['ClassValue']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $right: #NameExpr['c']
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #Self['self']
                                                      $recv: #NameExpr['const_set']
                                                      $param: #List[
                                                         $expression: #ApplyExpr[
                                                            $recv: #ApplyExpr[
                                                               $recv: #NameExpr['s']
                                                               $recv: #NameExpr['name']
                                                            ]
                                                            $recv: #NameExpr['sub']
                                                            $param: #List[
                                                               $expression: #Regex['/.*::/']
                                                               $expression: #StringExpr['']
                                                            ]
                                                         ]
                                                         $expression: #NameExpr['c']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #Class[
                                             $name: #NameExpr['A']
                                             $super: #NameExpr['Resource']
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['TypeValue']
                                                      $right: #IntExpr['1']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['ClassValue']
                                                      $right: #Field[
                                                         $recv: #NameExpr['IN']
                                                         $name: #NameExpr['ClassValue']
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #Indexer[
                                                         $base: #NameExpr['ClassHash']
                                                         $index: #List[
                                                            $expression: #Array[
                                                               $index: #List[
                                                                  $expression: #NameExpr['TypeValue']
                                                                  $expression: #NameExpr['ClassValue']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $right: #Self['self']
                                                   ]
                                                   $statement: #FuncDecl[
                                                      $name: #NameExpr['initialize']
                                                      $param: #List[
                                                         $param: #Param[
                                                            $param: #NameExpr['address']
                                                         ]
                                                      ]
                                                      $body: #BlockExpr[
                                                         $main: #AssignExpr[
                                                            $left: #NameExpr['@address']
                                                            $right: #ApplyExpr[
                                                               $recv: #NameExpr['IPv4']
                                                               $recv: #NameExpr['create']
                                                               $param: #List[
                                                                  $expression: #NameExpr['address']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['attr_reader']
                                                      $param: #List[
                                                         $expression: #NameExpr['address']
                                                      ]
                                                   ]
                                                   $statement: #FuncDecl[
                                                      $name: #NameExpr['encode_rdata']
                                                      $param: #List[
                                                         $param: #Param[
                                                            $param: #NameExpr['msg']
                                                         ]
                                                      ]
                                                      $body: #BlockExpr[
                                                         $main: #ApplyExpr[
                                                            $recv: #NameExpr['msg']
                                                            $recv: #NameExpr['put_bytes']
                                                            $param: #List[
                                                               $expression: #ApplyExpr[
                                                                  $recv: #NameExpr['@address']
                                                                  $recv: #NameExpr['address']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #SFuncDecl[
                                                      $path: #Self['self']
                                                      $name: #NameExpr['decode_rdata']
                                                      $param: #List[
                                                         $param: #Param[
                                                            $param: #NameExpr['msg']
                                                         ]
                                                      ]
                                                      $body: #BlockExpr[
                                                         $main: #RReturnStmt[
                                                            $expr: #List[
                                                               $expression: #ApplyExpr[
                                                                  $recv: #Self['self']
                                                                  $recv: #NameExpr['new']
                                                                  $param: #List[
                                                                     $expression: #ApplyExpr[
                                                                        $recv: #NameExpr['IPv4']
                                                                        $recv: #NameExpr['new']
                                                                        $param: #List[
                                                                           $expression: #ApplyExpr[
                                                                              $recv: #NameExpr['msg']
                                                                              $recv: #NameExpr['get_bytes']
                                                                              $param: #List[
                                                                                 $expression: #IntExpr['4']
                                                                              ]
                                                                           ]
                                                                        ]
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #Class[
                                             $name: #NameExpr['WKS']
                                             $super: #NameExpr['Resource']
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['TypeValue']
                                                      $right: #IntExpr['11']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['ClassValue']
                                                      $right: #Field[
                                                         $recv: #NameExpr['IN']
                                                         $name: #NameExpr['ClassValue']
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #Indexer[
                                                         $base: #NameExpr['ClassHash']
                                                         $index: #List[
                                                            $expression: #Array[
                                                               $index: #List[
                                                                  $expression: #NameExpr['TypeValue']
                                                                  $expression: #NameExpr['ClassValue']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $right: #Self['self']
                                                   ]
                                                   $statement: #FuncDecl[
                                                      $name: #NameExpr['initialize']
                                                      $param: #List[
                                                         $param: #Param[
                                                            $param: #NameExpr['address']
                                                         ]
                                                         $param: #Param[
                                                            $param: #NameExpr['protocol']
                                                         ]
                                                         $param: #Param[
                                                            $param: #NameExpr['bitmap']
                                                         ]
                                                      ]
                                                      $body: #BlockExpr[
                                                         $main: #List[
                                                            $statement: #AssignExpr[
                                                               $left: #NameExpr['@address']
                                                               $right: #ApplyExpr[
                                                                  $recv: #NameExpr['IPv4']
                                                                  $recv: #NameExpr['create']
                                                                  $param: #List[
                                                                     $expression: #NameExpr['address']
                                                                  ]
                                                               ]
                                                            ]
                                                            $statement: #AssignExpr[
                                                               $left: #NameExpr['@protocol']
                                                               $right: #NameExpr['protocol']
                                                            ]
                                                            $statement: #AssignExpr[
                                                               $left: #NameExpr['@bitmap']
                                                               $right: #NameExpr['bitmap']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['attr_reader']
                                                      $param: #List[
                                                         $expression: #NameExpr['address']
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['attr_reader']
                                                      $param: #List[
                                                         $expression: #NameExpr['protocol']
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['attr_reader']
                                                      $param: #List[
                                                         $expression: #NameExpr['bitmap']
                                                      ]
                                                   ]
                                                   $statement: #FuncDecl[
                                                      $name: #NameExpr['encode_rdata']
                                                      $param: #List[
                                                         $param: #Param[
                                                            $param: #NameExpr['msg']
                                                         ]
                                                      ]
                                                      $body: #BlockExpr[
                                                         $main: #List[
                                                            $statement: #ApplyExpr[
                                                               $recv: #NameExpr['msg']
                                                               $recv: #NameExpr['put_bytes']
                                                               $param: #List[
                                                                  $expression: #ApplyExpr[
                                                                     $recv: #NameExpr['@address']
                                                                     $recv: #NameExpr['address']
                                                                  ]
                                                               ]
                                                            ]
                                                            $statement: #ApplyExpr[
                                                               $recv: #NameExpr['msg']
                                                               $recv: #NameExpr['put_pack']
                                                               $param: #List[
                                                                  $expression: #StringExpr['n']
                                                                  $expression: #NameExpr['@protocol']
                                                               ]
                                                            ]
                                                            $statement: #ApplyExpr[
                                                               $recv: #NameExpr['msg']
                                                               $recv: #NameExpr['put_bytes']
                                                               $param: #List[
                                                                  $expression: #NameExpr['@bitmap']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #SFuncDecl[
                                                      $path: #Self['self']
                                                      $name: #NameExpr['decode_rdata']
                                                      $param: #List[
                                                         $param: #Param[
                                                            $param: #NameExpr['msg']
                                                         ]
                                                      ]
                                                      $body: #BlockExpr[
                                                         $main: #List[
                                                            $statement: #AssignExpr[
                                                               $left: #NameExpr['address']
                                                               $right: #ApplyExpr[
                                                                  $recv: #NameExpr['IPv4']
                                                                  $recv: #NameExpr['new']
                                                                  $param: #List[
                                                                     $expression: #ApplyExpr[
                                                                        $recv: #NameExpr['msg']
                                                                        $recv: #NameExpr['get_bytes']
                                                                        $param: #List[
                                                                           $expression: #IntExpr['4']
                                                                        ]
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                            $statement: #MultipleAssign[
                                                               $left: #MultipleLeftHandSideExpression[
                                                                  $item: #NameExpr['protocol']
                                                               ]
                                                               $right: #ApplyExpr[
                                                                  $recv: #NameExpr['msg']
                                                                  $recv: #NameExpr['get_unpack']
                                                                  $param: #List[
                                                                     $expression: #StringExpr['n']
                                                                  ]
                                                               ]
                                                            ]
                                                            $statement: #AssignExpr[
                                                               $left: #NameExpr['bitmap']
                                                               $right: #ApplyExpr[
                                                                  $recv: #NameExpr['msg']
                                                                  $recv: #NameExpr['get_bytes']
                                                               ]
                                                            ]
                                                            $statement: #RReturnStmt[
                                                               $expr: #List[
                                                                  $expression: #ApplyExpr[
                                                                     $recv: #Self['self']
                                                                     $recv: #NameExpr['new']
                                                                     $param: #List[
                                                                        $expression: #NameExpr['address']
                                                                        $expression: #NameExpr['protocol']
                                                                        $expression: #NameExpr['bitmap']
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #Class[
                                             $name: #NameExpr['AAAA']
                                             $super: #NameExpr['Resource']
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['TypeValue']
                                                      $right: #IntExpr['28']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['ClassValue']
                                                      $right: #Field[
                                                         $recv: #NameExpr['IN']
                                                         $name: #NameExpr['ClassValue']
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #Indexer[
                                                         $base: #NameExpr['ClassHash']
                                                         $index: #List[
                                                            $expression: #Array[
                                                               $index: #List[
                                                                  $expression: #NameExpr['TypeValue']
                                                                  $expression: #NameExpr['ClassValue']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $right: #Self['self']
                                                   ]
                                                   $statement: #FuncDecl[
                                                      $name: #NameExpr['initialize']
                                                      $param: #List[
                                                         $param: #Param[
                                                            $param: #NameExpr['address']
                                                         ]
                                                      ]
                                                      $body: #BlockExpr[
                                                         $main: #AssignExpr[
                                                            $left: #NameExpr['@address']
                                                            $right: #ApplyExpr[
                                                               $recv: #NameExpr['IPv6']
                                                               $recv: #NameExpr['create']
                                                               $param: #List[
                                                                  $expression: #NameExpr['address']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['attr_reader']
                                                      $param: #List[
                                                         $expression: #NameExpr['address']
                                                      ]
                                                   ]
                                                   $statement: #FuncDecl[
                                                      $name: #NameExpr['encode_rdata']
                                                      $param: #List[
                                                         $param: #Param[
                                                            $param: #NameExpr['msg']
                                                         ]
                                                      ]
                                                      $body: #BlockExpr[
                                                         $main: #ApplyExpr[
                                                            $recv: #NameExpr['msg']
                                                            $recv: #NameExpr['put_bytes']
                                                            $param: #List[
                                                               $expression: #ApplyExpr[
                                                                  $recv: #NameExpr['@address']
                                                                  $recv: #NameExpr['address']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #SFuncDecl[
                                                      $path: #Self['self']
                                                      $name: #NameExpr['decode_rdata']
                                                      $param: #List[
                                                         $param: #Param[
                                                            $param: #NameExpr['msg']
                                                         ]
                                                      ]
                                                      $body: #BlockExpr[
                                                         $main: #RReturnStmt[
                                                            $expr: #List[
                                                               $expression: #ApplyExpr[
                                                                  $recv: #Self['self']
                                                                  $recv: #NameExpr['new']
                                                                  $param: #List[
                                                                     $expression: #ApplyExpr[
                                                                        $recv: #NameExpr['IPv6']
                                                                        $recv: #NameExpr['new']
                                                                        $param: #List[
                                                                           $expression: #ApplyExpr[
                                                                              $recv: #NameExpr['msg']
                                                                              $recv: #NameExpr['get_bytes']
                                                                              $param: #List[
                                                                                 $expression: #IntExpr['16']
                                                                              ]
                                                                           ]
                                                                        ]
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #Class[
                                             $name: #NameExpr['SRV']
                                             $super: #NameExpr['Resource']
                                             $body: #BlockExpr[
                                                $main: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['TypeValue']
                                                      $right: #IntExpr['33']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['ClassValue']
                                                      $right: #Field[
                                                         $recv: #NameExpr['IN']
                                                         $name: #NameExpr['ClassValue']
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #Indexer[
                                                         $base: #NameExpr['ClassHash']
                                                         $index: #List[
                                                            $expression: #Array[
                                                               $index: #List[
                                                                  $expression: #NameExpr['TypeValue']
                                                                  $expression: #NameExpr['ClassValue']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $right: #Self['self']
                                                   ]
                                                   $statement: #FuncDecl[
                                                      $name: #NameExpr['initialize']
                                                      $param: #List[
                                                         $param: #Param[
                                                            $param: #NameExpr['priority']
                                                         ]
                                                         $param: #Param[
                                                            $param: #NameExpr['weight']
                                                         ]
                                                         $param: #Param[
                                                            $param: #NameExpr['port']
                                                         ]
                                                         $param: #Param[
                                                            $param: #NameExpr['target']
                                                         ]
                                                      ]
                                                      $body: #BlockExpr[
                                                         $main: #List[
                                                            $statement: #AssignExpr[
                                                               $left: #NameExpr['@priority']
                                                               $right: #ApplyExpr[
                                                                  $recv: #NameExpr['priority']
                                                                  $recv: #NameExpr['to_int']
                                                               ]
                                                            ]
                                                            $statement: #AssignExpr[
                                                               $left: #NameExpr['@weight']
                                                               $right: #ApplyExpr[
                                                                  $recv: #NameExpr['weight']
                                                                  $recv: #NameExpr['to_int']
                                                               ]
                                                            ]
                                                            $statement: #AssignExpr[
                                                               $left: #NameExpr['@port']
                                                               $right: #ApplyExpr[
                                                                  $recv: #NameExpr['port']
                                                                  $recv: #NameExpr['to_int']
                                                               ]
                                                            ]
                                                            $statement: #AssignExpr[
                                                               $left: #NameExpr['@target']
                                                               $right: #ApplyExpr[
                                                                  $recv: #NameExpr['Name']
                                                                  $recv: #NameExpr['create']
                                                                  $param: #List[
                                                                     $expression: #NameExpr['target']
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['attr_reader']
                                                      $param: #List[
                                                         $expression: #NameExpr['priority']
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['attr_reader']
                                                      $param: #List[
                                                         $expression: #NameExpr['weight']
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['attr_reader']
                                                      $param: #List[
                                                         $expression: #NameExpr['port']
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['attr_reader']
                                                      $param: #List[
                                                         $expression: #NameExpr['target']
                                                      ]
                                                   ]
                                                   $statement: #FuncDecl[
                                                      $name: #NameExpr['encode_rdata']
                                                      $param: #List[
                                                         $param: #Param[
                                                            $param: #NameExpr['msg']
                                                         ]
                                                      ]
                                                      $body: #BlockExpr[
                                                         $main: #List[
                                                            $statement: #ApplyExpr[
                                                               $recv: #NameExpr['msg']
                                                               $recv: #NameExpr['put_pack']
                                                               $param: #List[
                                                                  $expression: #StringExpr['n']
                                                                  $expression: #NameExpr['@priority']
                                                               ]
                                                            ]
                                                            $statement: #ApplyExpr[
                                                               $recv: #NameExpr['msg']
                                                               $recv: #NameExpr['put_pack']
                                                               $param: #List[
                                                                  $expression: #StringExpr['n']
                                                                  $expression: #NameExpr['@weight']
                                                               ]
                                                            ]
                                                            $statement: #ApplyExpr[
                                                               $recv: #NameExpr['msg']
                                                               $recv: #NameExpr['put_pack']
                                                               $param: #List[
                                                                  $expression: #StringExpr['n']
                                                                  $expression: #NameExpr['@port']
                                                               ]
                                                            ]
                                                            $statement: #ApplyExpr[
                                                               $recv: #NameExpr['msg']
                                                               $recv: #NameExpr['put_name']
                                                               $param: #List[
                                                                  $expression: #NameExpr['@target']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #SFuncDecl[
                                                      $path: #Self['self']
                                                      $name: #NameExpr['decode_rdata']
                                                      $param: #List[
                                                         $param: #Param[
                                                            $param: #NameExpr['msg']
                                                         ]
                                                      ]
                                                      $body: #BlockExpr[
                                                         $main: #List[
                                                            $statement: #MultipleAssign[
                                                               $left: #MultipleLeftHandSideExpression[
                                                                  $item: #NameExpr['priority']
                                                               ]
                                                               $right: #ApplyExpr[
                                                                  $recv: #NameExpr['msg']
                                                                  $recv: #NameExpr['get_unpack']
                                                                  $param: #List[
                                                                     $expression: #StringExpr['n']
                                                                  ]
                                                               ]
                                                            ]
                                                            $statement: #MultipleAssign[
                                                               $left: #MultipleLeftHandSideExpression[
                                                                  $item: #NameExpr['weight']
                                                               ]
                                                               $right: #ApplyExpr[
                                                                  $recv: #NameExpr['msg']
                                                                  $recv: #NameExpr['get_unpack']
                                                                  $param: #List[
                                                                     $expression: #StringExpr['n']
                                                                  ]
                                                               ]
                                                            ]
                                                            $statement: #MultipleAssign[
                                                               $left: #MultipleLeftHandSideExpression[
                                                                  $item: #NameExpr['port']
                                                               ]
                                                               $right: #ApplyExpr[
                                                                  $recv: #NameExpr['msg']
                                                                  $recv: #NameExpr['get_unpack']
                                                                  $param: #List[
                                                                     $expression: #StringExpr['n']
                                                                  ]
                                                               ]
                                                            ]
                                                            $statement: #AssignExpr[
                                                               $left: #NameExpr['target']
                                                               $right: #ApplyExpr[
                                                                  $recv: #NameExpr['msg']
                                                                  $recv: #NameExpr['get_name']
                                                               ]
                                                            ]
                                                            $statement: #RReturnStmt[
                                                               $expr: #List[
                                                                  $expression: #ApplyExpr[
                                                                     $recv: #Self['self']
                                                                     $recv: #NameExpr['new']
                                                                     $param: #List[
                                                                        $expression: #NameExpr['priority']
                                                                        $expression: #NameExpr['weight']
                                                                        $expression: #NameExpr['port']
                                                                        $expression: #NameExpr['target']
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #Class[
                  $name: #NameExpr['IPv4']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['Regex256']
                           $right: #Regex['/0\n               |1(?:[0-9][0-9]?)?\n               |2(?:[0-4][0-9]?|5[0-5]?|[6-9])?\n               |[3-9][0-9]?/x']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['Regex']
                           $right: #Regex['/\\A(#{Regex256})\\.(#{Regex256})\\.(#{Regex256})\\.(#{Regex256})\\z/']
                        ]
                        $statement: #SFuncDecl[
                           $path: #Self['self']
                           $name: #NameExpr['create']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['arg']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #Case[
                                 $cond: #NameExpr['arg']
                                 $body: #List[
                                    $when: #When[
                                       $cond: #List[
                                          $expression: #NameExpr['IPv4']
                                       ]
                                       $then: #RReturnStmt[
                                          $expr: #List[
                                             $expression: #NameExpr['arg']
                                          ]
                                       ]
                                    ]
                                    $when: #When[
                                       $cond: #List[
                                          $expression: #NameExpr['Regex']
                                       ]
                                       $then: #IfExpr[
                                          $cond: #LAnd[
                                             $left: #LAnd[
                                                $left: #LAnd[
                                                   $left: #StrictEquals[
                                                      $left: #ClosedRange[
                                                         #IntExpr['0']
                                                         #IntExpr['255']
                                                      ]
                                                      $right: #AssignExpr[
                                                         $left: #NameExpr['a']
                                                         $right: #ApplyExpr[
                                                            $recv: #MatchedRegex['$1']
                                                            $recv: #NameExpr['to_i']
                                                         ]
                                                      ]
                                                   ]
                                                   $right: #StrictEquals[
                                                      $left: #ClosedRange[
                                                         #IntExpr['0']
                                                         #IntExpr['255']
                                                      ]
                                                      $right: #AssignExpr[
                                                         $left: #NameExpr['b']
                                                         $right: #ApplyExpr[
                                                            $recv: #MatchedRegex['$2']
                                                            $recv: #NameExpr['to_i']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                                $right: #StrictEquals[
                                                   $left: #ClosedRange[
                                                      #IntExpr['0']
                                                      #IntExpr['255']
                                                   ]
                                                   $right: #AssignExpr[
                                                      $left: #NameExpr['c']
                                                      $right: #ApplyExpr[
                                                         $recv: #MatchedRegex['$3']
                                                         $recv: #NameExpr['to_i']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                             $right: #StrictEquals[
                                                $left: #ClosedRange[
                                                   #IntExpr['0']
                                                   #IntExpr['255']
                                                ]
                                                $right: #AssignExpr[
                                                   $left: #NameExpr['d']
                                                   $right: #ApplyExpr[
                                                      $recv: #MatchedRegex['$4']
                                                      $recv: #NameExpr['to_i']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $then: #RReturnStmt[
                                             $expr: #List[
                                                $expression: #ApplyExpr[
                                                   $recv: #Self['self']
                                                   $recv: #NameExpr['new']
                                                   $param: #List[
                                                      $expression: #ApplyExpr[
                                                         $recv: #Array[
                                                            $index: #List[
                                                               $expression: #NameExpr['a']
                                                               $expression: #NameExpr['b']
                                                               $expression: #NameExpr['c']
                                                               $expression: #NameExpr['d']
                                                            ]
                                                         ]
                                                         $recv: #NameExpr['pack']
                                                         $param: #List[
                                                            $expression: #StringExpr['CCCC']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $else: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['raise']
                                             $param: #List[
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['ArgumentError']
                                                   $recv: #NameExpr['new']
                                                   $param: #List[
                                                      $expression: #AddExpr[
                                                         $left: #StringExpr['IPv4 address with invalid value: ']
                                                         $right: #NameExpr['arg']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $else: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['raise']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          $recv: #NameExpr['ArgumentError']
                                          $recv: #NameExpr['new']
                                          $param: #List[
                                             $expression: #StringExpr[
                                                $inner: #ApplyExpr[
                                                   $recv: #NameExpr['arg']
                                                   $recv: #NameExpr['inspect']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['initialize']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['address']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #Unless[
                                    $cond: #ApplyExpr[
                                       $recv: #NameExpr['address']
                                       $recv: #NameExpr['kind_of?']
                                       $param: #List[
                                          $expression: #NameExpr['String']
                                       ]
                                    ]
                                    $then: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['raise']
                                       $param: #List[
                                          $expression: #NameExpr['ArgumentError']
                                          $expression: #StringExpr['IPv4 address must be a string']
                                       ]
                                    ]
                                 ]
                                 $statement: #Unless[
                                    $cond: #EqExpr[
                                       $left: #ApplyExpr[
                                          $recv: #NameExpr['address']
                                          $recv: #NameExpr['length']
                                       ]
                                       $right: #IntExpr['4']
                                    ]
                                    $then: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['raise']
                                       $param: #List[
                                          $expression: #NameExpr['ArgumentError']
                                          $expression: #StringExpr[
                                             $inner: #ApplyExpr[
                                                $recv: #NameExpr['address']
                                                $recv: #NameExpr['length']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@address']
                                    $right: #NameExpr['address']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['attr_reader']
                           $param: #List[
                              $expression: #NameExpr['address']
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['to_s']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #RReturnStmt[
                                 $expr: #List[
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['sprintf']
                                       $param: #List[
                                          $expression: #StringExpr['%d.%d.%d.%d']
                                          $variadic: #Variadic[
                                             $base: #ApplyExpr[
                                                $recv: #NameExpr['@address']
                                                $recv: #NameExpr['unpack']
                                                $param: #List[
                                                   $expression: #StringExpr['CCCC']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['inspect']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #RReturnStmt[
                                 $expr: #List[
                                    $expression: #StringExpr[
                                       $inner: #ApplyExpr[
                                          $recv: #Self['self']
                                          $recv: #NameExpr['class']
                                       ]
                                       $inner: #Self['self']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['to_name']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #RReturnStmt[
                                 $expr: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #Field[
                                          $recv: #NameExpr['DNS']
                                          $name: #NameExpr['Name']
                                       ]
                                       $recv: #NameExpr['create']
                                       $param: #List[
                                          $expression: #ModExpr[
                                             $left: #StringExpr['%d.%d.%d.%d.in-addr.arpa.']
                                             $right: #ApplyExpr[
                                                $recv: #ApplyExpr[
                                                   $recv: #NameExpr['@address']
                                                   $recv: #NameExpr['unpack']
                                                   $param: #List[
                                                      $expression: #StringExpr['CCCC']
                                                   ]
                                                ]
                                                $recv: #NameExpr['reverse']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['==']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['other']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #RReturnStmt[
                                 $expr: #List[
                                    $expression: #EqExpr[
                                       $left: #NameExpr['@address']
                                       $right: #ApplyExpr[
                                          $recv: #NameExpr['other']
                                          $recv: #NameExpr['address']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['eql?']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['other']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #RReturnStmt[
                                 $expr: #List[
                                    $expression: #EqExpr[
                                       $left: #Self['self']
                                       $right: #NameExpr['other']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['hash']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #RReturnStmt[
                                 $expr: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['@address']
                                       $recv: #NameExpr['hash']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #Class[
                  $name: #NameExpr['IPv6']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['Regex_8Hex']
                           $right: #Regex['/\\A\n      (?:[0-9A-Fa-f]{1,4}:){7}\n         [0-9A-Fa-f]{1,4}\n      \\z/x']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['Regex_CompressedHex']
                           $right: #Regex['/\\A\n      ((?:[0-9A-Fa-f]{1,4}(?::[0-9A-Fa-f]{1,4})*)?) ::\n      ((?:[0-9A-Fa-f]{1,4}(?::[0-9A-Fa-f]{1,4})*)?)\n      \\z/x']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['Regex_6Hex4Dec']
                           $right: #Regex['/\\A\n      ((?:[0-9A-Fa-f]{1,4}:){6,6})\n      (\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)\n      \\z/x']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['Regex_CompressedHex4Dec']
                           $right: #Regex['/\\A\n      ((?:[0-9A-Fa-f]{1,4}(?::[0-9A-Fa-f]{1,4})*)?) ::\n      ((?:[0-9A-Fa-f]{1,4}:)*)\n      (\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)\n      \\z/x']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['Regex']
                           $right: #Regex['/\n      (?:#{Regex_8Hex}) |\n      (?:#{Regex_CompressedHex}) |\n      (?:#{Regex_6Hex4Dec}) |\n      (?:#{Regex_CompressedHex4Dec})/x']
                        ]
                        $statement: #SFuncDecl[
                           $path: #Self['self']
                           $name: #NameExpr['create']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['arg']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #Case[
                                 $cond: #NameExpr['arg']
                                 $body: #List[
                                    $when: #When[
                                       $cond: #List[
                                          $expression: #NameExpr['IPv6']
                                       ]
                                       $then: #RReturnStmt[
                                          $expr: #List[
                                             $expression: #NameExpr['arg']
                                          ]
                                       ]
                                    ]
                                    $when: #When[
                                       $cond: #List[
                                          $expression: #NameExpr['String']
                                       ]
                                       $then: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['address']
                                             $right: #ApplyExpr[
                                                $recv: #StringExpr['']
                                                $recv: #NameExpr['b']
                                             ]
                                          ]
                                          $statement: #IfExpr[
                                             $cond: #AssignExpr[
                                                $left: #NameExpr['Regex_8Hex']
                                                $right: #ComplExpr[
                                                   $expr: #NameExpr['arg']
                                                ]
                                             ]
                                             $then: #ApplyExpr[
                                                $recv: #NameExpr['arg']
                                                $recv: #NameExpr['scan']
                                                $param: #List[
                                                   $expression: #Regex['/[0-9A-Fa-f]+/']
                                                ]
                                                $body: #Block[
                                                   $param: #NameExpr['hex']
                                                   $body: #LShiftExpr[
                                                      $left: #NameExpr['address']
                                                      $right: #ApplyExpr[
                                                         $recv: #Array[
                                                            $index: #List[
                                                               $expression: #ApplyExpr[
                                                                  $recv: #NameExpr['hex']
                                                                  $recv: #NameExpr['hex']
                                                               ]
                                                            ]
                                                         ]
                                                         $recv: #NameExpr['pack']
                                                         $param: #List[
                                                            $expression: #StringExpr['n']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                             $else: #IfExpr[
                                                $cond: #AssignExpr[
                                                   $left: #NameExpr['Regex_CompressedHex']
                                                   $right: #ComplExpr[
                                                      $expr: #NameExpr['arg']
                                                   ]
                                                ]
                                                $then: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['prefix']
                                                      $right: #MatchedRegex['$1']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['suffix']
                                                      $right: #MatchedRegex['$2']
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['a1']
                                                      $right: #ApplyExpr[
                                                         $recv: #StringExpr['']
                                                         $recv: #NameExpr['b']
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['a2']
                                                      $right: #ApplyExpr[
                                                         $recv: #StringExpr['']
                                                         $recv: #NameExpr['b']
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['prefix']
                                                      $recv: #NameExpr['scan']
                                                      $param: #List[
                                                         $expression: #Regex['/[0-9A-Fa-f]+/']
                                                      ]
                                                      $body: #Block[
                                                         $param: #NameExpr['hex']
                                                         $body: #LShiftExpr[
                                                            $left: #NameExpr['a1']
                                                            $right: #ApplyExpr[
                                                               $recv: #Array[
                                                                  $index: #List[
                                                                     $expression: #ApplyExpr[
                                                                        $recv: #NameExpr['hex']
                                                                        $recv: #NameExpr['hex']
                                                                     ]
                                                                  ]
                                                               ]
                                                               $recv: #NameExpr['pack']
                                                               $param: #List[
                                                                  $expression: #StringExpr['n']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #ApplyExpr[
                                                      $recv: #NameExpr['suffix']
                                                      $recv: #NameExpr['scan']
                                                      $param: #List[
                                                         $expression: #Regex['/[0-9A-Fa-f]+/']
                                                      ]
                                                      $body: #Block[
                                                         $param: #NameExpr['hex']
                                                         $body: #LShiftExpr[
                                                            $left: #NameExpr['a2']
                                                            $right: #ApplyExpr[
                                                               $recv: #Array[
                                                                  $index: #List[
                                                                     $expression: #ApplyExpr[
                                                                        $recv: #NameExpr['hex']
                                                                        $recv: #NameExpr['hex']
                                                                     ]
                                                                  ]
                                                               ]
                                                               $recv: #NameExpr['pack']
                                                               $param: #List[
                                                                  $expression: #StringExpr['n']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['omitlen']
                                                      $right: #SubExpr[
                                                         $left: #SubExpr[
                                                            $left: #IntExpr['16']
                                                            $right: #ApplyExpr[
                                                               $recv: #NameExpr['a1']
                                                               $recv: #NameExpr['length']
                                                            ]
                                                         ]
                                                         $right: #ApplyExpr[
                                                            $recv: #NameExpr['a2']
                                                            $recv: #NameExpr['length']
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #LShiftExpr[
                                                      $left: #LShiftExpr[
                                                         $left: #LShiftExpr[
                                                            $left: #NameExpr['address']
                                                            $right: #NameExpr['a1']
                                                         ]
                                                         $right: #MulExpr[
                                                            $left: #StringExpr['\\0']
                                                            $right: #NameExpr['omitlen']
                                                         ]
                                                      ]
                                                      $right: #NameExpr['a2']
                                                   ]
                                                ]
                                                $else: #IfExpr[
                                                   $cond: #AssignExpr[
                                                      $left: #NameExpr['Regex_6Hex4Dec']
                                                      $right: #ComplExpr[
                                                         $expr: #NameExpr['arg']
                                                      ]
                                                   ]
                                                   $then: #List[
                                                      $statement: #MultipleAssign[
                                                         $left: #MultipleLeftHandSideExpression[
                                                            $item: #NameExpr['prefix']
                                                            $item: #NameExpr['a']
                                                            $item: #NameExpr['b']
                                                            $item: #NameExpr['c']
                                                            $item: #NameExpr['d']
                                                         ]
                                                         $right: #MultipleRightHandSideExpression[
                                                            $expression: #MatchedRegex['$1']
                                                            $expression: #ApplyExpr[
                                                               $recv: #MatchedRegex['$2']
                                                               $recv: #NameExpr['to_i']
                                                            ]
                                                            $expression: #ApplyExpr[
                                                               $recv: #MatchedRegex['$3']
                                                               $recv: #NameExpr['to_i']
                                                            ]
                                                            $expression: #ApplyExpr[
                                                               $recv: #MatchedRegex['$4']
                                                               $recv: #NameExpr['to_i']
                                                            ]
                                                            $expression: #ApplyExpr[
                                                               $recv: #MatchedRegex['$5']
                                                               $recv: #NameExpr['to_i']
                                                            ]
                                                         ]
                                                      ]
                                                      $statement: #IfExpr[
                                                         $cond: #LAnd[
                                                            $left: #LAnd[
                                                               $left: #LAnd[
                                                                  $left: #StrictEquals[
                                                                     $left: #ClosedRange[
                                                                        #IntExpr['0']
                                                                        #IntExpr['255']
                                                                     ]
                                                                     $right: #NameExpr['a']
                                                                  ]
                                                                  $right: #StrictEquals[
                                                                     $left: #ClosedRange[
                                                                        #IntExpr['0']
                                                                        #IntExpr['255']
                                                                     ]
                                                                     $right: #NameExpr['b']
                                                                  ]
                                                               ]
                                                               $right: #StrictEquals[
                                                                  $left: #ClosedRange[
                                                                     #IntExpr['0']
                                                                     #IntExpr['255']
                                                                  ]
                                                                  $right: #NameExpr['c']
                                                               ]
                                                            ]
                                                            $right: #StrictEquals[
                                                               $left: #ClosedRange[
                                                                  #IntExpr['0']
                                                                  #IntExpr['255']
                                                               ]
                                                               $right: #NameExpr['d']
                                                            ]
                                                         ]
                                                         $then: #List[
                                                            $statement: #ApplyExpr[
                                                               $recv: #NameExpr['prefix']
                                                               $recv: #NameExpr['scan']
                                                               $param: #List[
                                                                  $expression: #Regex['/[0-9A-Fa-f]+/']
                                                               ]
                                                               $body: #Block[
                                                                  $param: #NameExpr['hex']
                                                                  $body: #LShiftExpr[
                                                                     $left: #NameExpr['address']
                                                                     $right: #ApplyExpr[
                                                                        $recv: #Array[
                                                                           $index: #List[
                                                                              $expression: #ApplyExpr[
                                                                                 $recv: #NameExpr['hex']
                                                                                 $recv: #NameExpr['hex']
                                                                              ]
                                                                           ]
                                                                        ]
                                                                        $recv: #NameExpr['pack']
                                                                        $param: #List[
                                                                           $expression: #StringExpr['n']
                                                                        ]
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                            $statement: #LShiftExpr[
                                                               $left: #NameExpr['address']
                                                               $right: #ApplyExpr[
                                                                  $recv: #Array[
                                                                     $index: #List[
                                                                        $expression: #NameExpr['a']
                                                                        $expression: #NameExpr['b']
                                                                        $expression: #NameExpr['c']
                                                                        $expression: #NameExpr['d']
                                                                     ]
                                                                  ]
                                                                  $recv: #NameExpr['pack']
                                                                  $param: #List[
                                                                     $expression: #StringExpr['CCCC']
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                         $else: #ApplyExpr[
                                                            #Self['self']
                                                            $recv: #NameExpr['raise']
                                                            $param: #List[
                                                               $expression: #ApplyExpr[
                                                                  $recv: #NameExpr['ArgumentError']
                                                                  $recv: #NameExpr['new']
                                                                  $param: #List[
                                                                     $expression: #AddExpr[
                                                                        $left: #StringExpr['not numeric IPv6 address: ']
                                                                        $right: #NameExpr['arg']
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $else: #IfExpr[
                                                      $cond: #AssignExpr[
                                                         $left: #NameExpr['Regex_CompressedHex4Dec']
                                                         $right: #ComplExpr[
                                                            $expr: #NameExpr['arg']
                                                         ]
                                                      ]
                                                      $then: #List[
                                                         $statement: #MultipleAssign[
                                                            $left: #MultipleLeftHandSideExpression[
                                                               $item: #NameExpr['prefix']
                                                               $item: #NameExpr['suffix']
                                                               $item: #NameExpr['a']
                                                               $item: #NameExpr['b']
                                                               $item: #NameExpr['c']
                                                               $item: #NameExpr['d']
                                                            ]
                                                            $right: #MultipleRightHandSideExpression[
                                                               $expression: #MatchedRegex['$1']
                                                               $expression: #MatchedRegex['$2']
                                                               $expression: #ApplyExpr[
                                                                  $recv: #MatchedRegex['$3']
                                                                  $recv: #NameExpr['to_i']
                                                               ]
                                                               $expression: #ApplyExpr[
                                                                  $recv: #MatchedRegex['$4']
                                                                  $recv: #NameExpr['to_i']
                                                               ]
                                                               $expression: #ApplyExpr[
                                                                  $recv: #MatchedRegex['$5']
                                                                  $recv: #NameExpr['to_i']
                                                               ]
                                                               $expression: #ApplyExpr[
                                                                  $recv: #MatchedRegex['$6']
                                                                  $recv: #NameExpr['to_i']
                                                               ]
                                                            ]
                                                         ]
                                                         $statement: #IfExpr[
                                                            $cond: #LAnd[
                                                               $left: #LAnd[
                                                                  $left: #LAnd[
                                                                     $left: #StrictEquals[
                                                                        $left: #ClosedRange[
                                                                           #IntExpr['0']
                                                                           #IntExpr['255']
                                                                        ]
                                                                        $right: #NameExpr['a']
                                                                     ]
                                                                     $right: #StrictEquals[
                                                                        $left: #ClosedRange[
                                                                           #IntExpr['0']
                                                                           #IntExpr['255']
                                                                        ]
                                                                        $right: #NameExpr['b']
                                                                     ]
                                                                  ]
                                                                  $right: #StrictEquals[
                                                                     $left: #ClosedRange[
                                                                        #IntExpr['0']
                                                                        #IntExpr['255']
                                                                     ]
                                                                     $right: #NameExpr['c']
                                                                  ]
                                                               ]
                                                               $right: #StrictEquals[
                                                                  $left: #ClosedRange[
                                                                     #IntExpr['0']
                                                                     #IntExpr['255']
                                                                  ]
                                                                  $right: #NameExpr['d']
                                                               ]
                                                            ]
                                                            $then: #List[
                                                               $statement: #AssignExpr[
                                                                  $left: #NameExpr['a1']
                                                                  $right: #ApplyExpr[
                                                                     $recv: #StringExpr['']
                                                                     $recv: #NameExpr['b']
                                                                  ]
                                                               ]
                                                               $statement: #AssignExpr[
                                                                  $left: #NameExpr['a2']
                                                                  $right: #ApplyExpr[
                                                                     $recv: #StringExpr['']
                                                                     $recv: #NameExpr['b']
                                                                  ]
                                                               ]
                                                               $statement: #ApplyExpr[
                                                                  $recv: #NameExpr['prefix']
                                                                  $recv: #NameExpr['scan']
                                                                  $param: #List[
                                                                     $expression: #Regex['/[0-9A-Fa-f]+/']
                                                                  ]
                                                                  $body: #Block[
                                                                     $param: #NameExpr['hex']
                                                                     $body: #LShiftExpr[
                                                                        $left: #NameExpr['a1']
                                                                        $right: #ApplyExpr[
                                                                           $recv: #Array[
                                                                              $index: #List[
                                                                                 $expression: #ApplyExpr[
                                                                                    $recv: #NameExpr['hex']
                                                                                    $recv: #NameExpr['hex']
                                                                                 ]
                                                                              ]
                                                                           ]
                                                                           $recv: #NameExpr['pack']
                                                                           $param: #List[
                                                                              $expression: #StringExpr['n']
                                                                           ]
                                                                        ]
                                                                     ]
                                                                  ]
                                                               ]
                                                               $statement: #ApplyExpr[
                                                                  $recv: #NameExpr['suffix']
                                                                  $recv: #NameExpr['scan']
                                                                  $param: #List[
                                                                     $expression: #Regex['/[0-9A-Fa-f]+/']
                                                                  ]
                                                                  $body: #Block[
                                                                     $param: #NameExpr['hex']
                                                                     $body: #LShiftExpr[
                                                                        $left: #NameExpr['a2']
                                                                        $right: #ApplyExpr[
                                                                           $recv: #Array[
                                                                              $index: #List[
                                                                                 $expression: #ApplyExpr[
                                                                                    $recv: #NameExpr['hex']
                                                                                    $recv: #NameExpr['hex']
                                                                                 ]
                                                                              ]
                                                                           ]
                                                                           $recv: #NameExpr['pack']
                                                                           $param: #List[
                                                                              $expression: #StringExpr['n']
                                                                           ]
                                                                        ]
                                                                     ]
                                                                  ]
                                                               ]
                                                               $statement: #AssignExpr[
                                                                  $left: #NameExpr['omitlen']
                                                                  $right: #SubExpr[
                                                                     $left: #SubExpr[
                                                                        $left: #IntExpr['12']
                                                                        $right: #ApplyExpr[
                                                                           $recv: #NameExpr['a1']
                                                                           $recv: #NameExpr['length']
                                                                        ]
                                                                     ]
                                                                     $right: #ApplyExpr[
                                                                        $recv: #NameExpr['a2']
                                                                        $recv: #NameExpr['length']
                                                                     ]
                                                                  ]
                                                               ]
                                                               $statement: #LShiftExpr[
                                                                  $left: #LShiftExpr[
                                                                     $left: #LShiftExpr[
                                                                        $left: #LShiftExpr[
                                                                           $left: #NameExpr['address']
                                                                           $right: #NameExpr['a1']
                                                                        ]
                                                                        $right: #MulExpr[
                                                                           $left: #StringExpr['\\0']
                                                                           $right: #NameExpr['omitlen']
                                                                        ]
                                                                     ]
                                                                     $right: #NameExpr['a2']
                                                                  ]
                                                                  $right: #ApplyExpr[
                                                                     $recv: #Array[
                                                                        $index: #List[
                                                                           $expression: #NameExpr['a']
                                                                           $expression: #NameExpr['b']
                                                                           $expression: #NameExpr['c']
                                                                           $expression: #NameExpr['d']
                                                                        ]
                                                                     ]
                                                                     $recv: #NameExpr['pack']
                                                                     $param: #List[
                                                                        $expression: #StringExpr['CCCC']
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                            $else: #ApplyExpr[
                                                               #Self['self']
                                                               $recv: #NameExpr['raise']
                                                               $param: #List[
                                                                  $expression: #ApplyExpr[
                                                                     $recv: #NameExpr['ArgumentError']
                                                                     $recv: #NameExpr['new']
                                                                     $param: #List[
                                                                        $expression: #AddExpr[
                                                                           $left: #StringExpr['not numeric IPv6 address: ']
                                                                           $right: #NameExpr['arg']
                                                                        ]
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $else: #ApplyExpr[
                                                         #Self['self']
                                                         $recv: #NameExpr['raise']
                                                         $param: #List[
                                                            $expression: #ApplyExpr[
                                                               $recv: #NameExpr['ArgumentError']
                                                               $recv: #NameExpr['new']
                                                               $param: #List[
                                                                  $expression: #AddExpr[
                                                                     $left: #StringExpr['not numeric IPv6 address: ']
                                                                     $right: #NameExpr['arg']
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #RReturnStmt[
                                             $expr: #List[
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['IPv6']
                                                   $recv: #NameExpr['new']
                                                   $param: #List[
                                                      $expression: #NameExpr['address']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $else: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['raise']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          $recv: #NameExpr['ArgumentError']
                                          $recv: #NameExpr['new']
                                          $param: #List[
                                             $expression: #StringExpr[
                                                $inner: #ApplyExpr[
                                                   $recv: #NameExpr['arg']
                                                   $recv: #NameExpr['inspect']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['initialize']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['address']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #Unless[
                                    $cond: #ApplyExpr[
                                       $base: #ApplyExpr[
                                          $recv: #NameExpr['address']
                                          $recv: #NameExpr['kind_of?']
                                          $param: #List[
                                             $expression: #NameExpr['String']
                                          ]
                                       ]
                                       $recv: #NameExpr['&']
                                       $param: #List[
                                          $expression: #EqExpr[
                                             $left: #ApplyExpr[
                                                $recv: #NameExpr['address']
                                                $recv: #NameExpr['length']
                                             ]
                                             $right: #IntExpr['16']
                                          ]
                                       ]
                                    ]
                                    $then: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['raise']
                                       $param: #List[
                                          $expression: #ApplyExpr[
                                             $recv: #NameExpr['ArgumentError']
                                             $recv: #NameExpr['new']
                                             $param: #List[
                                                $expression: #StringExpr['IPv6 address must be 16 bytes']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['@address']
                                    $right: #NameExpr['address']
                                 ]
                              ]
                           ]
                        ]
                        $statement: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['attr_reader']
                           $param: #List[
                              $expression: #NameExpr['address']
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['to_s']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['address']
                                    $right: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['sprintf']
                                       $param: #List[
                                          $expression: #StringExpr['%X:%X:%X:%X:%X:%X:%X:%X']
                                          $variadic: #Variadic[
                                             $base: #ApplyExpr[
                                                $recv: #NameExpr['@address']
                                                $recv: #NameExpr['unpack']
                                                $param: #List[
                                                   $expression: #StringExpr['nnnnnnnn']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #Unless[
                                    $cond: #ApplyExpr[
                                       $recv: #NameExpr['address']
                                       $recv: #NameExpr['sub!']
                                       $param: #List[
                                          $expression: #Regex['/(^|:)0(:0)+(:|$)/']
                                          $expression: #StringExpr['::']
                                       ]
                                    ]
                                    $then: #ApplyExpr[
                                       $recv: #NameExpr['address']
                                       $recv: #NameExpr['sub!']
                                       $param: #List[
                                          $expression: #Regex['/(^|:)0(:|$)/']
                                          $expression: #StringExpr['::']
                                       ]
                                    ]
                                 ]
                                 $statement: #RReturnStmt[
                                    $expr: #List[
                                       $expression: #NameExpr['address']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['inspect']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #RReturnStmt[
                                 $expr: #List[
                                    $expression: #StringExpr[
                                       $inner: #ApplyExpr[
                                          $recv: #Self['self']
                                          $recv: #NameExpr['class']
                                       ]
                                       $inner: #Self['self']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['to_name']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #RReturnStmt[
                                 $expr: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #Field[
                                          $recv: #NameExpr['DNS']
                                          $name: #NameExpr['Name']
                                       ]
                                       $recv: #NameExpr['new']
                                       $param: #List[
                                          $expression: #AddExpr[
                                             $left: #ApplyExpr[
                                                $recv: #ApplyExpr[
                                                   $recv: #Indexer[
                                                      $recv: #ApplyExpr[
                                                         $recv: #NameExpr['@address']
                                                         $recv: #NameExpr['unpack']
                                                         $param: #List[
                                                            $expression: #StringExpr['H32']
                                                         ]
                                                      ]
                                                      $index: #List[
                                                         $expression: #IntExpr['0']
                                                      ]
                                                   ]
                                                   $recv: #NameExpr['split']
                                                   $param: #List[
                                                      $expression: #Regex['//']
                                                   ]
                                                ]
                                                $recv: #NameExpr['reverse']
                                             ]
                                             $right: #Array[
                                                $index: #List[
                                                   $expression: #StringExpr['ip6']
                                                   $expression: #StringExpr['arpa']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['==']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['other']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #RReturnStmt[
                                 $expr: #List[
                                    $expression: #EqExpr[
                                       $left: #NameExpr['@address']
                                       $right: #ApplyExpr[
                                          $recv: #NameExpr['other']
                                          $recv: #NameExpr['address']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['eql?']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['other']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #RReturnStmt[
                                 $expr: #List[
                                    $expression: #EqExpr[
                                       $left: #Self['self']
                                       $right: #NameExpr['other']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['hash']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #RReturnStmt[
                                 $expr: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['@address']
                                       $recv: #NameExpr['hash']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #Class[
                  $name: #NameExpr['MDNS']
                  $super: #NameExpr['DNS']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #AssignExpr[
                           $left: #NameExpr['Port']
                           $right: #IntExpr['5353']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['AddressV4']
                           $right: #StringExpr['224.0.0.251']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['AddressV6']
                           $right: #StringExpr['ff02::fb']
                        ]
                        $statement: #AssignExpr[
                           $left: #NameExpr['Addresses']
                           $right: #Array[
                              $index: #List[
                                 $expression: #Array[
                                    $index: #List[
                                       $expression: #NameExpr['AddressV4']
                                       $expression: #NameExpr['Port']
                                    ]
                                 ]
                                 $expression: #Array[
                                    $index: #List[
                                       $expression: #NameExpr['AddressV6']
                                       $expression: #NameExpr['Port']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['initialize']
                           $param: #List[
                              $param: #OptionalParam[
                                 $name: #NameExpr['config_info']
                                 $default: #Nil['nil']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #IfExpr[
                                 $cond: #NameExpr['config_info']
                                 $then: #ApplyExpr[
                                    #Self['self']
                                    $recv: #Super['super']
                                    $param: #List[
                                       $expression: #ApplyExpr[
                                          $recv: #List[
                                             $hash: #Hash[
                                                $key: #NameExpr['nameserver_port']
                                                $value: #NameExpr['Addresses']
                                             ]
                                          ]
                                          $recv: #NameExpr['merge']
                                          $param: #List[
                                             $expression: #NameExpr['config_info']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $else: #ApplyExpr[
                                    #Self['self']
                                    $recv: #Super['super']
                                    $param: #List[
                                       $hash: #Hash[
                                          $key: #NameExpr['nameserver_port']
                                          $value: #NameExpr['Addresses']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['each_address']
                           $param: #List[
                              $param: #Param[
                                 $param: #NameExpr['name']
                              ]
                           ]
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['name']
                                    $right: #ApplyExpr[
                                       $recv: #Field[
                                          $recv: #Field[
                                             $recv: #NameExpr['Resolv']
                                             $name: #NameExpr['DNS']
                                          ]
                                          $name: #NameExpr['Name']
                                       ]
                                       $recv: #NameExpr['create']
                                       $param: #List[
                                          $expression: #NameExpr['name']
                                       ]
                                    ]
                                 ]
                                 $statement: #Unless[
                                    $then: #RReturnStmt['return']
                                    $cond: #EqExpr[
                                       $left: #ApplyExpr[
                                          $recv: #ApplyExpr[
                                             $recv: #NameExpr['name']
                                             $recv: #NameExpr['to_a']
                                          ]
                                          $recv: #NameExpr['last']
                                       ]
                                       $right: #StringExpr['local']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #Super['super']
                                    $param: #List[
                                       $expression: #NameExpr['name']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #FuncDecl[
                           $name: #NameExpr['make_udp_requester']
                           $param: #List['']
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['nameserver_port']
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['@config']
                                       $recv: #NameExpr['nameserver_port']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    $recv: #Field[
                                       $recv: #NameExpr['Requester']
                                       $name: #NameExpr['MDNSOneShot']
                                    ]
                                    $recv: #NameExpr['new']
                                    $param: #List[
                                       $variadic: #Variadic[
                                          $base: #NameExpr['nameserver_port']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #Module[
                  $name: #NameExpr['LOC']
                  $body: #BlockExpr[
                     $main: #List[
                        $statement: #Class[
                           $name: #NameExpr['Size']
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['Regex']
                                    $right: #Regex['/^(\\d+\\.*\\d*)[m]$/']
                                 ]
                                 $statement: #SFuncDecl[
                                    $path: #Self['self']
                                    $name: #NameExpr['create']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['arg']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #Case[
                                          $cond: #NameExpr['arg']
                                          $body: #List[
                                             $when: #When[
                                                $cond: #List[
                                                   $expression: #NameExpr['Size']
                                                ]
                                                $then: #RReturnStmt[
                                                   $expr: #List[
                                                      $expression: #NameExpr['arg']
                                                   ]
                                                ]
                                             ]
                                             $when: #When[
                                                $cond: #List[
                                                   $expression: #NameExpr['String']
                                                ]
                                                $then: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['scalar']
                                                      $right: #StringExpr['']
                                                   ]
                                                   $statement: #IfExpr[
                                                      $cond: #AssignExpr[
                                                         $left: #NameExpr['Regex']
                                                         $right: #ComplExpr[
                                                            $expr: #NameExpr['arg']
                                                         ]
                                                      ]
                                                      $then: #AssignExpr[
                                                         $left: #NameExpr['scalar']
                                                         $right: #ApplyExpr[
                                                            $recv: #Array[
                                                               $index: #List[
                                                                  $expression: #AddExpr[
                                                                     $left: #MulExpr[
                                                                        $left: #ApplyExpr[
                                                                           $recv: #Indexer[
                                                                              $recv: #ApplyExpr[
                                                                                 $recv: #ApplyExpr[
                                                                                    $recv: #MulExpr[
                                                                                       $left: #ApplyExpr[
                                                                                          $recv: #MatchedRegex['$1']
                                                                                          $recv: #NameExpr['to_f']
                                                                                       ]
                                                                                       $right: #FloatExpr['1e2']
                                                                                    ]
                                                                                    $recv: #NameExpr['to_i']
                                                                                 ]
                                                                                 $recv: #NameExpr['to_s']
                                                                              ]
                                                                              $index: #List[
                                                                                 $expression: #IntExpr['0']
                                                                              ]
                                                                           ]
                                                                           $recv: #NameExpr['to_i']
                                                                        ]
                                                                        $right: #PowerExpr[
                                                                           $left: #IntExpr['2']
                                                                           $right: #IntExpr['4']
                                                                        ]
                                                                     ]
                                                                     $right: #SubExpr[
                                                                        $left: #ApplyExpr[
                                                                           $recv: #ApplyExpr[
                                                                              $recv: #ApplyExpr[
                                                                                 $recv: #MulExpr[
                                                                                    $left: #ApplyExpr[
                                                                                       $recv: #MatchedRegex['$1']
                                                                                       $recv: #NameExpr['to_f']
                                                                                    ]
                                                                                    $right: #FloatExpr['1e2']
                                                                                 ]
                                                                                 $recv: #NameExpr['to_i']
                                                                              ]
                                                                              $recv: #NameExpr['to_s']
                                                                           ]
                                                                           $recv: #NameExpr['length']
                                                                        ]
                                                                        $right: #IntExpr['1']
                                                                     ]
                                                                  ]
                                                               ]
                                                            ]
                                                            $recv: #NameExpr['pack']
                                                            $param: #List[
                                                               $expression: #StringExpr['C']
                                                            ]
                                                         ]
                                                      ]
                                                      $else: #ApplyExpr[
                                                         #Self['self']
                                                         $recv: #NameExpr['raise']
                                                         $param: #List[
                                                            $expression: #ApplyExpr[
                                                               $recv: #NameExpr['ArgumentError']
                                                               $recv: #NameExpr['new']
                                                               $param: #List[
                                                                  $expression: #AddExpr[
                                                                     $left: #StringExpr['not a properly formed Size string: ']
                                                                     $right: #NameExpr['arg']
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #RReturnStmt[
                                                      $expr: #List[
                                                         $expression: #ApplyExpr[
                                                            $recv: #NameExpr['Size']
                                                            $recv: #NameExpr['new']
                                                            $param: #List[
                                                               $expression: #NameExpr['scalar']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $else: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['raise']
                                             $param: #List[
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['ArgumentError']
                                                   $recv: #NameExpr['new']
                                                   $param: #List[
                                                      $expression: #StringExpr[
                                                         $inner: #ApplyExpr[
                                                            $recv: #NameExpr['arg']
                                                            $recv: #NameExpr['inspect']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['initialize']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['scalar']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #AssignExpr[
                                          $left: #NameExpr['@scalar']
                                          $right: #NameExpr['scalar']
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['attr_reader']
                                    $param: #List[
                                       $expression: #NameExpr['scalar']
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['to_s']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['s']
                                             $right: #ApplyExpr[
                                                $recv: #ApplyExpr[
                                                   $recv: #ApplyExpr[
                                                      $recv: #NameExpr['@scalar']
                                                      $recv: #NameExpr['unpack']
                                                      $param: #List[
                                                         $expression: #StringExpr['H2']
                                                      ]
                                                   ]
                                                   $recv: #NameExpr['join']
                                                ]
                                                $recv: #NameExpr['to_s']
                                             ]
                                          ]
                                          $statement: #RReturnStmt[
                                             $expr: #List[
                                                $expression: #LShiftExpr[
                                                   $left: #ApplyExpr[
                                                      $recv: #MulExpr[
                                                         $left: #ApplyExpr[
                                                            $recv: #Indexer[
                                                               $recv: #NameExpr['s']
                                                               $index: #List[
                                                                  $expression: #IntExpr['0']
                                                               ]
                                                            ]
                                                            $recv: #NameExpr['to_i']
                                                         ]
                                                         $right: #PowerExpr[
                                                            $left: #IntExpr['10']
                                                            $right: #SubExpr[
                                                               $left: #ApplyExpr[
                                                                  $recv: #Indexer[
                                                                     $recv: #NameExpr['s']
                                                                     $index: #List[
                                                                        $expression: #IntExpr['1']
                                                                     ]
                                                                  ]
                                                                  $recv: #NameExpr['to_i']
                                                               ]
                                                               $right: #IntExpr['2']
                                                            ]
                                                         ]
                                                      ]
                                                      $recv: #NameExpr['to_s']
                                                   ]
                                                   $right: #StringExpr['m']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['inspect']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #RReturnStmt[
                                          $expr: #List[
                                             $expression: #StringExpr[
                                                $inner: #ApplyExpr[
                                                   $recv: #Self['self']
                                                   $recv: #NameExpr['class']
                                                ]
                                                $inner: #Self['self']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['==']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['other']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #RReturnStmt[
                                          $expr: #List[
                                             $expression: #EqExpr[
                                                $left: #NameExpr['@scalar']
                                                $right: #ApplyExpr[
                                                   $recv: #NameExpr['other']
                                                   $recv: #NameExpr['scalar']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['eql?']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['other']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #RReturnStmt[
                                          $expr: #List[
                                             $expression: #EqExpr[
                                                $left: #Self['self']
                                                $right: #NameExpr['other']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['hash']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #RReturnStmt[
                                          $expr: #List[
                                             $expression: #ApplyExpr[
                                                $recv: #NameExpr['@scalar']
                                                $recv: #NameExpr['hash']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #Class[
                           $name: #NameExpr['Coord']
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['Regex']
                                    $right: #Regex['/^(\\d+)\\s(\\d+)\\s(\\d+\\.\\d+)\\s([NESW])$/']
                                 ]
                                 $statement: #SFuncDecl[
                                    $path: #Self['self']
                                    $name: #NameExpr['create']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['arg']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #Case[
                                          $cond: #NameExpr['arg']
                                          $body: #List[
                                             $when: #When[
                                                $cond: #List[
                                                   $expression: #NameExpr['Coord']
                                                ]
                                                $then: #RReturnStmt[
                                                   $expr: #List[
                                                      $expression: #NameExpr['arg']
                                                   ]
                                                ]
                                             ]
                                             $when: #When[
                                                $cond: #List[
                                                   $expression: #NameExpr['String']
                                                ]
                                                $then: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['coordinates']
                                                      $right: #StringExpr['']
                                                   ]
                                                   $statement: #IfExpr[
                                                      $cond: #AssignExpr[
                                                         $left: #NameExpr['Regex']
                                                         $right: #LAnd[
                                                            $left: #ComplExpr[
                                                               $expr: #NameExpr['arg']
                                                            ]
                                                            $right: #LtExpr[
                                                               $left: #MatchedRegex['$1']
                                                               $right: #IntExpr['180']
                                                            ]
                                                         ]
                                                      ]
                                                      $then: #List[
                                                         $statement: #AssignExpr[
                                                            $left: #NameExpr['hemi']
                                                            $right: #Conditional[
                                                               $cond: #LOr[
                                                                  $left: #Indexer[
                                                                     $recv: #MatchedRegex['$4']
                                                                     $index: #List[
                                                                        $expression: #Regex['/([NE])/']
                                                                        $expression: #IntExpr['1']
                                                                     ]
                                                                  ]
                                                                  $right: #Indexer[
                                                                     $recv: #MatchedRegex['$4']
                                                                     $index: #List[
                                                                        $expression: #Regex['/([SW])/']
                                                                        $expression: #IntExpr['1']
                                                                     ]
                                                                  ]
                                                               ]
                                                               $then: #IntExpr['1']
                                                               $else: #MinusExpr[
                                                                  $expr: #IntExpr['1']
                                                               ]
                                                            ]
                                                         ]
                                                         $statement: #AssignExpr[
                                                            $left: #NameExpr['coordinates']
                                                            $right: #ApplyExpr[
                                                               $recv: #Array[
                                                                  $index: #List[
                                                                     $expression: #AddExpr[
                                                                        $left: #MulExpr[
                                                                           $left: #AddExpr[
                                                                              $left: #AddExpr[
                                                                                 $left: #MulExpr[
                                                                                    $left: #ApplyExpr[
                                                                                       $recv: #MatchedRegex['$1']
                                                                                       $recv: #NameExpr['to_i']
                                                                                    ]
                                                                                    $right: #FloatExpr['36e5']
                                                                                 ]
                                                                                 $right: #MulExpr[
                                                                                    $left: #ApplyExpr[
                                                                                       $recv: #MatchedRegex['$2']
                                                                                       $recv: #NameExpr['to_i']
                                                                                    ]
                                                                                    $right: #FloatExpr['6e4']
                                                                                 ]
                                                                              ]
                                                                              $right: #MulExpr[
                                                                                 $left: #ApplyExpr[
                                                                                    $recv: #MatchedRegex['$3']
                                                                                    $recv: #NameExpr['to_f']
                                                                                 ]
                                                                                 $right: #FloatExpr['1e3']
                                                                              ]
                                                                           ]
                                                                           $right: #NameExpr['hemi']
                                                                        ]
                                                                        $right: #PowerExpr[
                                                                           $left: #IntExpr['2']
                                                                           $right: #IntExpr['31']
                                                                        ]
                                                                     ]
                                                                  ]
                                                               ]
                                                               $recv: #NameExpr['pack']
                                                               $param: #List[
                                                                  $expression: #StringExpr['N']
                                                               ]
                                                            ]
                                                         ]
                                                         $statement: #Conditional[
                                                            $cond: #LShiftExpr[
                                                               $left: #LOrAssign[
                                                                  $left: #NameExpr['orientation']
                                                                  $right: #StringExpr['']
                                                               ]
                                                               $right: #Indexer[
                                                                  $recv: #MatchedRegex['$4']
                                                                  $index: #List[
                                                                     $expression: #Array[
                                                                        $index: #List[
                                                                           $expression: #Regex['/NS/']
                                                                        ]
                                                                     ]
                                                                     $expression: #IntExpr['1']
                                                                  ]
                                                               ]
                                                            ]
                                                            $then: #StringExpr['lat']
                                                            $else: #StringExpr['lon']
                                                         ]
                                                      ]
                                                      $else: #ApplyExpr[
                                                         #Self['self']
                                                         $recv: #NameExpr['raise']
                                                         $param: #List[
                                                            $expression: #ApplyExpr[
                                                               $recv: #NameExpr['ArgumentError']
                                                               $recv: #NameExpr['new']
                                                               $param: #List[
                                                                  $expression: #AddExpr[
                                                                     $left: #StringExpr['not a properly formed Coord string: ']
                                                                     $right: #NameExpr['arg']
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #RReturnStmt[
                                                      $expr: #List[
                                                         $expression: #ApplyExpr[
                                                            $recv: #NameExpr['Coord']
                                                            $recv: #NameExpr['new']
                                                            $param: #List[
                                                               $expression: #NameExpr['coordinates']
                                                               $expression: #NameExpr['orientation']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $else: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['raise']
                                             $param: #List[
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['ArgumentError']
                                                   $recv: #NameExpr['new']
                                                   $param: #List[
                                                      $expression: #StringExpr[
                                                         $inner: #ApplyExpr[
                                                            $recv: #NameExpr['arg']
                                                            $recv: #NameExpr['inspect']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['initialize']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['coordinates']
                                       ]
                                       $param: #Param[
                                          $param: #NameExpr['orientation']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #Unless[
                                             $cond: #ApplyExpr[
                                                $recv: #NameExpr['coordinates']
                                                $recv: #NameExpr['kind_of?']
                                                $param: #List[
                                                   $expression: #NameExpr['String']
                                                ]
                                             ]
                                             $then: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['raise']
                                                $param: #List[
                                                   $expression: #ApplyExpr[
                                                      $recv: #NameExpr['ArgumentError']
                                                      $recv: #NameExpr['new']
                                                      $param: #List[
                                                         $expression: #StringExpr[
                                                            $inner: #ApplyExpr[
                                                               $recv: #NameExpr['coordinates']
                                                               $recv: #NameExpr['inspect']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #Unless[
                                             $cond: #ApplyExpr[
                                                $base: #ApplyExpr[
                                                   $recv: #NameExpr['orientation']
                                                   $recv: #NameExpr['kind_of?']
                                                   $param: #List[
                                                      $expression: #NameExpr['String']
                                                   ]
                                                ]
                                                $recv: #NameExpr['&']
                                                $param: #List[
                                                   $expression: #Indexer[
                                                      $recv: #NameExpr['orientation']
                                                      $index: #List[
                                                         $expression: #Regex['/^lon$|^lat$/']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                             $then: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['raise']
                                                $param: #List[
                                                   $expression: #ApplyExpr[
                                                      $recv: #NameExpr['ArgumentError']
                                                      $recv: #NameExpr['new']
                                                      $param: #List[
                                                         $expression: #StringExpr['Coord expects orientation to be a String argument of "lat" or "lon"']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['@coordinates']
                                             $right: #NameExpr['coordinates']
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['@orientation']
                                             $right: #NameExpr['orientation']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['attr_reader']
                                    $param: #List[
                                       $expression: #NameExpr['coordinates']
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['attr_reader']
                                    $param: #List[
                                       $expression: #NameExpr['orientation']
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['to_s']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['c']
                                             $right: #ApplyExpr[
                                                $recv: #ApplyExpr[
                                                   $recv: #ApplyExpr[
                                                      $recv: #NameExpr['@coordinates']
                                                      $recv: #NameExpr['unpack']
                                                      $param: #List[
                                                         $expression: #StringExpr['N']
                                                      ]
                                                   ]
                                                   $recv: #NameExpr['join']
                                                ]
                                                $recv: #NameExpr['to_i']
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['val']
                                             $right: #ApplyExpr[
                                                $recv: #SubExpr[
                                                   $left: #NameExpr['c']
                                                   $right: #PowerExpr[
                                                      $left: #IntExpr['2']
                                                      $right: #IntExpr['31']
                                                   ]
                                                ]
                                                $recv: #NameExpr['abs']
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['fracsecs']
                                             $right: #ApplyExpr[
                                                $recv: #ApplyExpr[
                                                   $recv: #ModExpr[
                                                      $left: #NameExpr['val']
                                                      $right: #FloatExpr['1e3']
                                                   ]
                                                   $recv: #NameExpr['to_i']
                                                ]
                                                $recv: #NameExpr['to_s']
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['val']
                                             $right: #DivExpr[
                                                $left: #NameExpr['val']
                                                $right: #FloatExpr['1e3']
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['secs']
                                             $right: #ApplyExpr[
                                                $recv: #ApplyExpr[
                                                   $recv: #ModExpr[
                                                      $left: #NameExpr['val']
                                                      $right: #IntExpr['60']
                                                   ]
                                                   $recv: #NameExpr['to_i']
                                                ]
                                                $recv: #NameExpr['to_s']
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['val']
                                             $right: #DivExpr[
                                                $left: #NameExpr['val']
                                                $right: #IntExpr['60']
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['mins']
                                             $right: #ApplyExpr[
                                                $recv: #ApplyExpr[
                                                   $recv: #ModExpr[
                                                      $left: #NameExpr['val']
                                                      $right: #IntExpr['60']
                                                   ]
                                                   $recv: #NameExpr['to_i']
                                                ]
                                                $recv: #NameExpr['to_s']
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['degs']
                                             $right: #ApplyExpr[
                                                $recv: #ApplyExpr[
                                                   $recv: #DivExpr[
                                                      $left: #NameExpr['val']
                                                      $right: #IntExpr['60']
                                                   ]
                                                   $recv: #NameExpr['to_i']
                                                ]
                                                $recv: #NameExpr['to_s']
                                             ]
                                          ]
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['posi']
                                             $right: #GteExpt[
                                                $left: #NameExpr['c']
                                                $right: #PowerExpr[
                                                   $left: #IntExpr['2']
                                                   $right: #IntExpr['31']
                                                ]
                                             ]
                                          ]
                                          $statement: #Case[
                                             $cond: #NameExpr['posi']
                                             $body: #List[
                                                $when: #When[
                                                   $cond: #List[
                                                      $expression: #TrueExpr['true']
                                                   ]
                                                   $then: #AssignExpr[
                                                      $left: #NameExpr['hemi']
                                                      $right: #Conditional[
                                                         $cond: #Indexer[
                                                            $recv: #NameExpr['@orientation']
                                                            $index: #List[
                                                               $expression: #Regex['/^lat$/']
                                                            ]
                                                         ]
                                                         $then: #StringExpr['N']
                                                         $else: #StringExpr['E']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                             $else: #AssignExpr[
                                                $left: #NameExpr['hemi']
                                                $right: #Conditional[
                                                   $cond: #Indexer[
                                                      $recv: #NameExpr['@orientation']
                                                      $index: #List[
                                                         $expression: #Regex['/^lon$/']
                                                      ]
                                                   ]
                                                   $then: #StringExpr['W']
                                                   $else: #StringExpr['S']
                                                ]
                                             ]
                                          ]
                                          $statement: #RReturnStmt[
                                             $expr: #List[
                                                $expression: #LShiftExpr[
                                                   $left: #LShiftExpr[
                                                      $left: #LShiftExpr[
                                                         $left: #LShiftExpr[
                                                            $left: #LShiftExpr[
                                                               $left: #LShiftExpr[
                                                                  $left: #LShiftExpr[
                                                                     $left: #LShiftExpr[
                                                                        $left: #NameExpr['degs']
                                                                        $right: #StringExpr[' ']
                                                                     ]
                                                                     $right: #NameExpr['mins']
                                                                  ]
                                                                  $right: #StringExpr[' ']
                                                               ]
                                                               $right: #NameExpr['secs']
                                                            ]
                                                            $right: #StringExpr['.']
                                                         ]
                                                         $right: #NameExpr['fracsecs']
                                                      ]
                                                      $right: #StringExpr[' ']
                                                   ]
                                                   $right: #NameExpr['hemi']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['inspect']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #RReturnStmt[
                                          $expr: #List[
                                             $expression: #StringExpr[
                                                $inner: #ApplyExpr[
                                                   $recv: #Self['self']
                                                   $recv: #NameExpr['class']
                                                ]
                                                $inner: #Self['self']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['==']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['other']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #RReturnStmt[
                                          $expr: #List[
                                             $expression: #EqExpr[
                                                $left: #NameExpr['@coordinates']
                                                $right: #ApplyExpr[
                                                   $recv: #NameExpr['other']
                                                   $recv: #NameExpr['coordinates']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['eql?']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['other']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #RReturnStmt[
                                          $expr: #List[
                                             $expression: #EqExpr[
                                                $left: #Self['self']
                                                $right: #NameExpr['other']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['hash']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #RReturnStmt[
                                          $expr: #List[
                                             $expression: #ApplyExpr[
                                                $recv: #NameExpr['@coordinates']
                                                $recv: #NameExpr['hash']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                        $statement: #Class[
                           $name: #NameExpr['Alt']
                           $body: #BlockExpr[
                              $main: #List[
                                 $statement: #AssignExpr[
                                    $left: #NameExpr['Regex']
                                    $right: #Regex['/^([+-]*\\d+\\.*\\d*)[m]$/']
                                 ]
                                 $statement: #SFuncDecl[
                                    $path: #Self['self']
                                    $name: #NameExpr['create']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['arg']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #Case[
                                          $cond: #NameExpr['arg']
                                          $body: #List[
                                             $when: #When[
                                                $cond: #List[
                                                   $expression: #NameExpr['Alt']
                                                ]
                                                $then: #RReturnStmt[
                                                   $expr: #List[
                                                      $expression: #NameExpr['arg']
                                                   ]
                                                ]
                                             ]
                                             $when: #When[
                                                $cond: #List[
                                                   $expression: #NameExpr['String']
                                                ]
                                                $then: #List[
                                                   $statement: #AssignExpr[
                                                      $left: #NameExpr['altitude']
                                                      $right: #StringExpr['']
                                                   ]
                                                   $statement: #IfExpr[
                                                      $cond: #AssignExpr[
                                                         $left: #NameExpr['Regex']
                                                         $right: #ComplExpr[
                                                            $expr: #NameExpr['arg']
                                                         ]
                                                      ]
                                                      $then: #AssignExpr[
                                                         $left: #NameExpr['altitude']
                                                         $right: #ApplyExpr[
                                                            $recv: #Array[
                                                               $index: #List[
                                                                  $expression: #AddExpr[
                                                                     $left: #MulExpr[
                                                                        $left: #ApplyExpr[
                                                                           $recv: #MatchedRegex['$1']
                                                                           $recv: #NameExpr['to_f']
                                                                        ]
                                                                        $right: #FloatExpr['1e2']
                                                                     ]
                                                                     $right: #FloatExpr['1e7']
                                                                  ]
                                                               ]
                                                            ]
                                                            $recv: #NameExpr['pack']
                                                            $param: #List[
                                                               $expression: #StringExpr['N']
                                                            ]
                                                         ]
                                                      ]
                                                      $else: #ApplyExpr[
                                                         #Self['self']
                                                         $recv: #NameExpr['raise']
                                                         $param: #List[
                                                            $expression: #ApplyExpr[
                                                               $recv: #NameExpr['ArgumentError']
                                                               $recv: #NameExpr['new']
                                                               $param: #List[
                                                                  $expression: #AddExpr[
                                                                     $left: #StringExpr['not a properly formed Alt string: ']
                                                                     $right: #NameExpr['arg']
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $statement: #RReturnStmt[
                                                      $expr: #List[
                                                         $expression: #ApplyExpr[
                                                            $recv: #NameExpr['Alt']
                                                            $recv: #NameExpr['new']
                                                            $param: #List[
                                                               $expression: #NameExpr['altitude']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $else: #ApplyExpr[
                                             #Self['self']
                                             $recv: #NameExpr['raise']
                                             $param: #List[
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['ArgumentError']
                                                   $recv: #NameExpr['new']
                                                   $param: #List[
                                                      $expression: #StringExpr[
                                                         $inner: #ApplyExpr[
                                                            $recv: #NameExpr['arg']
                                                            $recv: #NameExpr['inspect']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['initialize']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['altitude']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #AssignExpr[
                                          $left: #NameExpr['@altitude']
                                          $right: #NameExpr['altitude']
                                       ]
                                    ]
                                 ]
                                 $statement: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['attr_reader']
                                    $param: #List[
                                       $expression: #NameExpr['altitude']
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['to_s']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #List[
                                          $statement: #AssignExpr[
                                             $left: #NameExpr['a']
                                             $right: #ApplyExpr[
                                                $recv: #ApplyExpr[
                                                   $recv: #ApplyExpr[
                                                      $recv: #NameExpr['@altitude']
                                                      $recv: #NameExpr['unpack']
                                                      $param: #List[
                                                         $expression: #StringExpr['N']
                                                      ]
                                                   ]
                                                   $recv: #NameExpr['join']
                                                ]
                                                $recv: #NameExpr['to_i']
                                             ]
                                          ]
                                          $statement: #RReturnStmt[
                                             $expr: #List[
                                                $expression: #AddExpr[
                                                   $left: #ApplyExpr[
                                                      $recv: #SubExpr[
                                                         $left: #DivExpr[
                                                            $left: #ApplyExpr[
                                                               $recv: #NameExpr['a']
                                                               $recv: #NameExpr['to_f']
                                                            ]
                                                            $right: #FloatExpr['1e2']
                                                         ]
                                                         $right: #FloatExpr['1e5']
                                                      ]
                                                      $recv: #NameExpr['to_s']
                                                   ]
                                                   $right: #StringExpr['m']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['inspect']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #RReturnStmt[
                                          $expr: #List[
                                             $expression: #StringExpr[
                                                $inner: #ApplyExpr[
                                                   $recv: #Self['self']
                                                   $recv: #NameExpr['class']
                                                ]
                                                $inner: #Self['self']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['==']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['other']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #RReturnStmt[
                                          $expr: #List[
                                             $expression: #EqExpr[
                                                $left: #NameExpr['@altitude']
                                                $right: #ApplyExpr[
                                                   $recv: #NameExpr['other']
                                                   $recv: #NameExpr['altitude']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['eql?']
                                    $param: #List[
                                       $param: #Param[
                                          $param: #NameExpr['other']
                                       ]
                                    ]
                                    $body: #BlockExpr[
                                       $main: #RReturnStmt[
                                          $expr: #List[
                                             $expression: #EqExpr[
                                                $left: #Self['self']
                                                $right: #NameExpr['other']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $statement: #FuncDecl[
                                    $name: #NameExpr['hash']
                                    $param: #List['']
                                    $body: #BlockExpr[
                                       $main: #RReturnStmt[
                                          $expr: #List[
                                             $expression: #ApplyExpr[
                                                $recv: #NameExpr['@altitude']
                                                $recv: #NameExpr['hash']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
               $statement: #AssignExpr[
                  $left: #NameExpr['DefaultResolver']
                  $right: #ApplyExpr[
                     $recv: #Self['self']
                     $recv: #NameExpr['new']
                  ]
               ]
               $statement: #SFuncDecl[
                  $path: #NameExpr['DefaultResolver']
                  $name: #NameExpr['replace_resolvers']
                  $param: #List[
                     $param: #Param[
                        $param: #NameExpr['new_resolvers']
                     ]
                  ]
                  $body: #BlockExpr[
                     $main: #AssignExpr[
                        $left: #NameExpr['@resolvers']
                        $right: #NameExpr['new_resolvers']
                     ]
                  ]
               ]
               $statement: #AssignExpr[
                  $left: #NameExpr['AddressRegex']
                  $right: #Regex['/(?:#{IPv4::Regex})|(?:#{IPv6::Regex})/']
               ]
            ]
         ]
      ]
   ]
   #Comsumed['comsumed']
]
