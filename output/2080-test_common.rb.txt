#Source[
   #List[
      $statement: #ApplyExpr[
         #Self['self']
         $recv: #NameExpr['require']
         $param: #List[
            $expression: #StringExpr['test/unit']
         ]
      ]
      $statement: #ApplyExpr[
         #Self['self']
         $recv: #NameExpr['require']
         $param: #List[
            $expression: #StringExpr['uri']
         ]
      ]
      $statement: #Module[
         $name: #NameExpr['URI']
         $body: #BlockExpr[
            $main: #Class[
               $name: #NameExpr['TestCommon']
               $super: #Field[
                  $recv: #Field[
                     $recv: #NameExpr['Test']
                     $name: #NameExpr['Unit']
                  ]
                  $name: #NameExpr['TestCase']
               ]
               $body: #BlockExpr[
                  $main: #List[
                     $statement: #FuncDecl[
                        $name: #NameExpr['setup']
                        $param: #List['']
                        $body: #BlockExpr[
                           $main: #Empty['']
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['teardown']
                        $param: #List['']
                        $body: #BlockExpr[
                           $main: #Empty['']
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['test_extract']
                        $param: #List['']
                        $body: #BlockExpr[
                           $main: #ApplyExpr[
                              $recv: #NameExpr['EnvUtil']
                              $recv: #NameExpr['suppress_warning']
                              $body: #Block[
                                 $body: #List[
                                    $statement: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['assert_equal']
                                       $param: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #StringExpr['http://example.com']
                                             ]
                                          ]
                                          $expression: #ApplyExpr[
                                             $recv: #NameExpr['URI']
                                             $recv: #NameExpr['extract']
                                             $param: #List[
                                                $expression: #StringExpr['http://example.com']
                                             ]
                                          ]
                                       ]
                                    ]
                                    $statement: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['assert_equal']
                                       $param: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #StringExpr['http://example.com']
                                             ]
                                          ]
                                          $expression: #ApplyExpr[
                                             $recv: #NameExpr['URI']
                                             $recv: #NameExpr['extract']
                                             $param: #List[
                                                $expression: #StringExpr['(http://example.com)']
                                             ]
                                          ]
                                       ]
                                    ]
                                    $statement: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['assert_equal']
                                       $param: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #StringExpr['http://example.com/foo)']
                                             ]
                                          ]
                                          $expression: #ApplyExpr[
                                             $recv: #NameExpr['URI']
                                             $recv: #NameExpr['extract']
                                             $param: #List[
                                                $expression: #StringExpr['(http://example.com/foo)']
                                             ]
                                          ]
                                       ]
                                    ]
                                    $statement: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['assert_equal']
                                       $param: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #StringExpr['http://example.jphttp://example.jp']
                                             ]
                                          ]
                                          $expression: #ApplyExpr[
                                             $recv: #NameExpr['URI']
                                             $recv: #NameExpr['extract']
                                             $param: #List[
                                                $expression: #StringExpr['http://example.jphttp://example.jp']
                                             ]
                                          ]
                                          $expression: #StringExpr['[ruby-list:36086]']
                                       ]
                                    ]
                                    $statement: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['assert_equal']
                                       $param: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #StringExpr['http://example.jphttp://example.jp']
                                             ]
                                          ]
                                          $expression: #ApplyExpr[
                                             $recv: #NameExpr['URI']
                                             $recv: #NameExpr['extract']
                                             $param: #List[
                                                $expression: #StringExpr['http://example.jphttp://example.jp']
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['http']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $expression: #StringExpr['[ruby-list:36086]']
                                       ]
                                    ]
                                    $statement: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['assert_equal']
                                       $param: #List[
                                          $expression: #ApplyExpr[
                                             $recv: #Array[
                                                $index: #List[
                                                   $expression: #StringExpr['http://']
                                                   $expression: #StringExpr['mailto:']
                                                ]
                                             ]
                                             $recv: #NameExpr['sort']
                                          ]
                                          $expression: #ApplyExpr[
                                             $recv: #ApplyExpr[
                                                $recv: #NameExpr['URI']
                                                $recv: #NameExpr['extract']
                                                $param: #List[
                                                   $expression: #StringExpr['ftp:// http:// mailto: https://']
                                                   $expression: #Array[
                                                      $index: #List[
                                                         $expression: #StringExpr['http']
                                                         $expression: #StringExpr['mailto']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                             $recv: #NameExpr['sort']
                                          ]
                                       ]
                                    ]
                                    $statement: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['assert_equal']
                                       $param: #List[
                                          $expression: #ApplyExpr[
                                             $recv: #Array[
                                                $index: #List[
                                                   $expression: #StringExpr['From:']
                                                   $expression: #StringExpr['mailto:xxx@xxx.xxx.xxx]']
                                                ]
                                             ]
                                             $recv: #NameExpr['sort']
                                          ]
                                          $expression: #ApplyExpr[
                                             $recv: #ApplyExpr[
                                                $recv: #NameExpr['URI']
                                                $recv: #NameExpr['extract']
                                                $param: #List[
                                                   $expression: #StringExpr['From: XXX [mailto:xxx@xxx.xxx.xxx]']
                                                ]
                                             ]
                                             $recv: #NameExpr['sort']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['test_regexp']
                        $param: #List['']
                        $body: #BlockExpr[
                           $main: #ApplyExpr[
                              $recv: #NameExpr['EnvUtil']
                              $recv: #NameExpr['suppress_warning']
                              $body: #Block[
                                 $body: #List[
                                    $statement: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['assert_instance_of']
                                       $param: #List[
                                          $expression: #NameExpr['Regexp']
                                          $expression: #ApplyExpr[
                                             $recv: #NameExpr['URI']
                                             $recv: #NameExpr['regexp']
                                          ]
                                       ]
                                    ]
                                    $statement: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['assert_instance_of']
                                       $param: #List[
                                          $expression: #NameExpr['Regexp']
                                          $expression: #ApplyExpr[
                                             $recv: #NameExpr['URI']
                                             $recv: #NameExpr['regexp']
                                             $param: #List[
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['http']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                    $statement: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['assert_equal']
                                       $param: #List[
                                          $expression: #ApplyExpr[
                                             $recv: #NameExpr['URI']
                                             $recv: #NameExpr['regexp']
                                          ]
                                          $expression: #ApplyExpr[
                                             $recv: #NameExpr['URI']
                                             $recv: #NameExpr['regexp']
                                          ]
                                       ]
                                    ]
                                    $statement: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['assert_equal']
                                       $param: #List[
                                          $expression: #StringExpr['http://']
                                          $expression: #ApplyExpr[
                                             $recv: #StringExpr['x http:// x']
                                             $recv: #NameExpr['slice']
                                             $param: #List[
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['URI']
                                                   $recv: #NameExpr['regexp']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                    $statement: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['assert_equal']
                                       $param: #List[
                                          $expression: #StringExpr['http://']
                                          $expression: #ApplyExpr[
                                             $recv: #StringExpr['x http:// x']
                                             $recv: #NameExpr['slice']
                                             $param: #List[
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['URI']
                                                   $recv: #NameExpr['regexp']
                                                   $param: #List[
                                                      $expression: #Array[
                                                         $index: #List[
                                                            $expression: #StringExpr['http']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                    $statement: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['assert_equal']
                                       $param: #List[
                                          $expression: #StringExpr['http://']
                                          $expression: #ApplyExpr[
                                             $recv: #StringExpr['x http:// x ftp://']
                                             $recv: #NameExpr['slice']
                                             $param: #List[
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['URI']
                                                   $recv: #NameExpr['regexp']
                                                   $param: #List[
                                                      $expression: #Array[
                                                         $index: #List[
                                                            $expression: #StringExpr['http']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                    $statement: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['assert_equal']
                                       $param: #List[
                                          $expression: #Nil['nil']
                                          $expression: #ApplyExpr[
                                             $recv: #StringExpr['http://']
                                             $recv: #NameExpr['slice']
                                             $param: #List[
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['URI']
                                                   $recv: #NameExpr['regexp']
                                                   $param: #List[
                                                      $expression: #Array['[]']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                    $statement: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['assert_equal']
                                       $param: #List[
                                          $expression: #Nil['nil']
                                          $expression: #ApplyExpr[
                                             $recv: #StringExpr['']
                                             $recv: #NameExpr['slice']
                                             $param: #List[
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['URI']
                                                   $recv: #NameExpr['regexp']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                    $statement: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['assert_equal']
                                       $param: #List[
                                          $expression: #Nil['nil']
                                          $expression: #ApplyExpr[
                                             $recv: #StringExpr['xxxx']
                                             $recv: #NameExpr['slice']
                                             $param: #List[
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['URI']
                                                   $recv: #NameExpr['regexp']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                    $statement: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['assert_equal']
                                       $param: #List[
                                          $expression: #Nil['nil']
                                          $expression: #ApplyExpr[
                                             $recv: #StringExpr[':']
                                             $recv: #NameExpr['slice']
                                             $param: #List[
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['URI']
                                                   $recv: #NameExpr['regexp']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                    $statement: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['assert_equal']
                                       $param: #List[
                                          $expression: #StringExpr['From:']
                                          $expression: #ApplyExpr[
                                             $recv: #StringExpr['From:']
                                             $recv: #NameExpr['slice']
                                             $param: #List[
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['URI']
                                                   $recv: #NameExpr['regexp']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['test_kernel_uri']
                        $param: #List['']
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #AssignExpr[
                                 $left: #NameExpr['expected']
                                 $right: #ApplyExpr[
                                    $recv: #NameExpr['URI']
                                    $recv: #NameExpr['parse']
                                    $param: #List[
                                       $expression: #StringExpr['http://www.ruby-lang.org/']
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #NameExpr['expected']
                                    $expression: #ApplyExpr[
                                       #Self['self']
                                       $recv: #NameExpr['URI']
                                       $param: #List[
                                          $expression: #StringExpr['http://www.ruby-lang.org/']
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #NameExpr['expected']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['Kernel']
                                       $recv: #NameExpr['URI']
                                       $param: #List[
                                          $expression: #StringExpr['http://www.ruby-lang.org/']
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_raise']
                                 $param: #List[
                                    $expression: #NameExpr['NoMethodError']
                                 ]
                                 $body: #Block[
                                    $body: #ApplyExpr[
                                       $recv: #ApplyExpr[
                                          $recv: #NameExpr['Object']
                                          $recv: #NameExpr['new']
                                       ]
                                       $recv: #NameExpr['URI']
                                       $param: #List[
                                          $expression: #StringExpr['http://www.ruby-lang.org/']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['test_encode_www_form_component']
                        $param: #List['']
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #ConnectString[
                                       $String: #StringExpr['%00+%21%22%23%24%25%26%27%28%29*%2B%2C-.%2F09%3A%3B%3C%3D%3E%3F%40']
                                       $String: #StringExpr['AZ%5B%5C%5D%5E_%60az%7B%7C%7D%7E']
                                    ]
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form_component']
                                       $param: #List[
                                          $expression: #StringExpr['\\x00 !\\"\\#$%&\'()*+,-./09:;<=>?@AZ[\\\\]^_`az{|}~']
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['%95A']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form_component']
                                       $param: #List[
                                          $expression: #ApplyExpr[
                                             $recv: #StringExpr['\\x95\\x41']
                                             $recv: #NameExpr['force_encoding']
                                             $param: #List[
                                                $expression: #Field[
                                                   $recv: #NameExpr['Encoding']
                                                   $name: #NameExpr['Shift_JIS']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['0B']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form_component']
                                       $param: #List[
                                          $expression: #ApplyExpr[
                                             $recv: #StringExpr['\\x30\\x42']
                                             $recv: #NameExpr['force_encoding']
                                             $param: #List[
                                                $expression: #Field[
                                                   $recv: #NameExpr['Encoding']
                                                   $name: #NameExpr['UTF_16BE']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['%1B%24B%24%22%1B%28B']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form_component']
                                       $param: #List[
                                          $expression: #ApplyExpr[
                                             $recv: #StringExpr['\\e$B$\\"\\e(B']
                                             $recv: #NameExpr['force_encoding']
                                             $param: #List[
                                                $expression: #Field[
                                                   $recv: #NameExpr['Encoding']
                                                   $name: #NameExpr['ISO_2022_JP']
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['%E3%81%82']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form_component']
                                       $param: #List[
                                          $expression: #StringExpr['\\u3042']
                                          $expression: #Field[
                                             $recv: #NameExpr['Encoding']
                                             $name: #NameExpr['ASCII_8BIT']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['%82%A0']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form_component']
                                       $param: #List[
                                          $expression: #StringExpr['\\u3042']
                                          $expression: #Field[
                                             $recv: #NameExpr['Encoding']
                                             $name: #NameExpr['Windows_31J']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['%E3%81%82']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form_component']
                                       $param: #List[
                                          $expression: #StringExpr['\\u3042']
                                          $expression: #Field[
                                             $recv: #NameExpr['Encoding']
                                             $name: #NameExpr['UTF_8']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['%82%A0']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form_component']
                                       $param: #List[
                                          $expression: #ApplyExpr[
                                             $recv: #StringExpr['\\u3042']
                                             $recv: #NameExpr['encode']
                                             $param: #List[
                                                $expression: #StringExpr['sjis']
                                             ]
                                          ]
                                          $expression: #Field[
                                             $recv: #NameExpr['Encoding']
                                             $name: #NameExpr['ASCII_8BIT']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['%A4%A2']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form_component']
                                       $param: #List[
                                          $expression: #ApplyExpr[
                                             $recv: #StringExpr['\\u3042']
                                             $recv: #NameExpr['encode']
                                             $param: #List[
                                                $expression: #StringExpr['sjis']
                                             ]
                                          ]
                                          $expression: #Field[
                                             $recv: #NameExpr['Encoding']
                                             $name: #NameExpr['EUC_JP']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['%E3%81%82']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form_component']
                                       $param: #List[
                                          $expression: #ApplyExpr[
                                             $recv: #StringExpr['\\u3042']
                                             $recv: #NameExpr['encode']
                                             $param: #List[
                                                $expression: #StringExpr['sjis']
                                             ]
                                          ]
                                          $expression: #Field[
                                             $recv: #NameExpr['Encoding']
                                             $name: #NameExpr['UTF_8']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['B0']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form_component']
                                       $param: #List[
                                          $expression: #ApplyExpr[
                                             $recv: #StringExpr['\\u3042']
                                             $recv: #NameExpr['encode']
                                             $param: #List[
                                                $expression: #StringExpr['sjis']
                                             ]
                                          ]
                                          $expression: #Field[
                                             $recv: #NameExpr['Encoding']
                                             $name: #NameExpr['UTF_16LE']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['%EF%BF%BD%EF%BF%BD']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form_component']
                                       $param: #List[
                                          $expression: #StringExpr['\\xE3\\x81\\xFF']
                                          $expression: #StringExpr['utf-8']
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['%E6%9F%8A%EF%BF%BD%EF%BF%BD']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form_component']
                                       $param: #List[
                                          $expression: #ApplyExpr[
                                             $recv: #StringExpr['\\x95\\x41\\xff\\xff']
                                             $recv: #NameExpr['force_encoding']
                                             $param: #List[
                                                $expression: #Field[
                                                   $recv: #NameExpr['Encoding']
                                                   $name: #NameExpr['Shift_JIS']
                                                ]
                                             ]
                                          ]
                                          $expression: #StringExpr['utf-8']
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['test_decode_www_form_component']
                        $param: #List['']
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['  !\\"\\#$%&\'()*+,-./09:;<=>?@AZ[\\\\]^_`az{|}~']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['decode_www_form_component']
                                       $param: #List[
                                          $expression: #ConnectString[
                                             $String: #StringExpr['%20+%21%22%23%24%25%26%27%28%29*%2B%2C-.%2F09%3A%3B%3C%3D%3E%3F%40']
                                             $String: #StringExpr['AZ%5B%5C%5D%5E_%60az%7B%7C%7D%7E']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #StringExpr['\\xA1\\xA2']
                                       $recv: #NameExpr['force_encoding']
                                       $param: #List[
                                          $expression: #Field[
                                             $recv: #NameExpr['Encoding']
                                             $name: #NameExpr['EUC_JP']
                                          ]
                                       ]
                                    ]
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['decode_www_form_component']
                                       $param: #List[
                                          $expression: #StringExpr['%A1%A2']
                                          $expression: #StringExpr['EUC-JP']
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #StringExpr['\\xE3\\x81\\x82\\xE3\\x81\\x82']
                                       $recv: #NameExpr['force_encoding']
                                       $param: #List[
                                          $expression: #StringExpr['UTF-8']
                                       ]
                                    ]
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['decode_www_form_component']
                                       $param: #List[
                                          $expression: #ApplyExpr[
                                             $recv: #StringExpr['\\xE3\\x81\\x82%E3%81%82']
                                             $recv: #NameExpr['force_encoding']
                                             $param: #List[
                                                $expression: #StringExpr['UTF-8']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_raise']
                                 $param: #List[
                                    $expression: #NameExpr['ArgumentError']
                                 ]
                                 $body: #Block[
                                    $body: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['decode_www_form_component']
                                       $param: #List[
                                          $expression: #StringExpr['%']
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_raise']
                                 $param: #List[
                                    $expression: #NameExpr['ArgumentError']
                                 ]
                                 $body: #Block[
                                    $body: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['decode_www_form_component']
                                       $param: #List[
                                          $expression: #StringExpr['%a']
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_raise']
                                 $param: #List[
                                    $expression: #NameExpr['ArgumentError']
                                 ]
                                 $body: #Block[
                                    $body: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['decode_www_form_component']
                                       $param: #List[
                                          $expression: #StringExpr['x%a_']
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_nothing_raised']
                                 $param: #List[
                                    $expression: #NameExpr['ArgumentError']
                                 ]
                                 $body: #Block[
                                    $body: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['decode_www_form_component']
                                       $param: #List[
                                          $expression: #MulExpr[
                                             $left: #StringExpr['x']
                                             $right: #MulExpr[
                                                $left: #IntExpr['1024']
                                                $right: #IntExpr['1024']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['test_encode_www_form']
                        $param: #List['']
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['a=1']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form']
                                       $param: #List[
                                          $hash: #Hash[
                                             $key: #StringExpr['a']
                                             $value: #StringExpr['1']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['a=1']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form']
                                       $param: #List[
                                          $hash: #Hash[
                                             $key: #NameExpr['a']
                                             $value: #IntExpr['1']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['a=1']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form']
                                       $param: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['a']
                                                      $expression: #StringExpr['1']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['a=1']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form']
                                       $param: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #NameExpr['a']
                                                      $expression: #IntExpr['1']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #AssignExpr[
                                 $left: #NameExpr['expected']
                                 $right: #StringExpr['a=1&%E3%81%82=%E6%BC%A2']
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #NameExpr['expected']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form']
                                       $param: #List[
                                          $hash: #Hash[
                                             $key: #StringExpr['a']
                                             $value: #StringExpr['1']
                                          ]
                                          $hash: #Hash[
                                             $key: #StringExpr['\\u3042']
                                             $value: #StringExpr['\\u6F22']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #NameExpr['expected']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form']
                                       $param: #List[
                                          $hash: #Hash[
                                             $key: #NameExpr['a']
                                             $value: #IntExpr['1']
                                          ]
                                          $hash: #Hash[
                                             $key: #NameExpr['"\\u3042"']
                                             $value: #StringExpr['\\u6F22']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #NameExpr['expected']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form']
                                       $param: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['a']
                                                      $expression: #StringExpr['1']
                                                   ]
                                                ]
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['\\u3042']
                                                      $expression: #StringExpr['\\u6F22']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #NameExpr['expected']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form']
                                       $param: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #NameExpr['a']
                                                      $expression: #IntExpr['1']
                                                   ]
                                                ]
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #NameExpr['"\\u3042"']
                                                      $expression: #StringExpr['\\u6F22']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['a=1&%82%A0=%8A%BF']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form']
                                       $param: #List[
                                          $expression: #List[
                                             $hash: #Hash[
                                                $key: #StringExpr['a']
                                                $value: #StringExpr['1']
                                             ]
                                             $hash: #Hash[
                                                $key: #StringExpr['\\u3042']
                                                $value: #StringExpr['\\u6F22']
                                             ]
                                          ]
                                          $expression: #StringExpr['sjis']
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['+a+=+1+']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form']
                                       $param: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr[' a ']
                                                      $expression: #StringExpr[' 1 ']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['text=x%0Ay']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form']
                                       $param: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['text']
                                                      $expression: #StringExpr['x\\u000Ay']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['constellation=Bo%C3%B6tes']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form']
                                       $param: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['constellation']
                                                      $expression: #StringExpr['Bo\\u00F6tes']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['name=%00value']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form']
                                       $param: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['name']
                                                      $expression: #StringExpr['\\u0000value']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['Cipher=c%3D%28m%5Ee%29%25n']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form']
                                       $param: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['Cipher']
                                                      $expression: #StringExpr['c=(m^e)%n']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['&']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form']
                                       $param: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['']
                                                      $expression: #Nil['nil']
                                                   ]
                                                ]
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['']
                                                      $expression: #Nil['nil']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['&=']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form']
                                       $param: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['']
                                                      $expression: #Nil['nil']
                                                   ]
                                                ]
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['']
                                                      $expression: #StringExpr['']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['=&']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form']
                                       $param: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['']
                                                      $expression: #StringExpr['']
                                                   ]
                                                ]
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['']
                                                      $expression: #Nil['nil']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['=&=']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form']
                                       $param: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['']
                                                      $expression: #StringExpr['']
                                                   ]
                                                ]
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['']
                                                      $expression: #StringExpr['']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form']
                                       $param: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['']
                                                      $expression: #Nil['nil']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form']
                                       $param: #List[
                                          $expression: #Array['[]']
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['=']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form']
                                       $param: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['']
                                                      $expression: #StringExpr['']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['a%26b=1&c=2%3B3&e=4']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form']
                                       $param: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['a&b']
                                                      $expression: #StringExpr['1']
                                                   ]
                                                ]
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['c']
                                                      $expression: #StringExpr['2;3']
                                                   ]
                                                ]
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['e']
                                                      $expression: #StringExpr['4']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['image&title&price']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form']
                                       $param: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['image']
                                                      $expression: #Nil['nil']
                                                   ]
                                                ]
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['title']
                                                      $expression: #Nil['nil']
                                                   ]
                                                ]
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['price']
                                                      $expression: #Nil['nil']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['q=ruby&lang=en']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form']
                                       $param: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['q']
                                                      $expression: #StringExpr['ruby']
                                                   ]
                                                ]
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['lang']
                                                      $expression: #StringExpr['en']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['q=ruby&lang=en']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form']
                                       $param: #List[
                                          $hash: #Hash[
                                             $key: #StringExpr['q']
                                             $value: #StringExpr['ruby']
                                          ]
                                          $hash: #Hash[
                                             $key: #StringExpr['lang']
                                             $value: #StringExpr['en']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['q=ruby&q=perl&lang=en']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form']
                                       $param: #List[
                                          $hash: #Hash[
                                             $key: #StringExpr['q']
                                             $value: #Array[
                                                $index: #List[
                                                   $expression: #StringExpr['ruby']
                                                   $expression: #StringExpr['perl']
                                                ]
                                             ]
                                          ]
                                          $hash: #Hash[
                                             $key: #StringExpr['lang']
                                             $value: #StringExpr['en']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #StringExpr['q=ruby&q=perl&lang=en']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['encode_www_form']
                                       $param: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['q']
                                                      $expression: #StringExpr['ruby']
                                                   ]
                                                ]
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['q']
                                                      $expression: #StringExpr['perl']
                                                   ]
                                                ]
                                                $expression: #Array[
                                                   $index: #List[
                                                      $expression: #StringExpr['lang']
                                                      $expression: #StringExpr['en']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['test_decode_www_form']
                        $param: #List['']
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #Array[
                                       $index: #List[
                                          $expression: #ParcentNotation['%w[a 1]']
                                          $expression: #ParcentNotation['%w[a 2]']
                                       ]
                                    ]
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['decode_www_form']
                                       $param: #List[
                                          $expression: #StringExpr['a=1&a=2']
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #Array[
                                       $index: #List[
                                          $expression: #ParcentNotation['%w[a 1;a=2]']
                                       ]
                                    ]
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['decode_www_form']
                                       $param: #List[
                                          $expression: #StringExpr['a=1;a=2']
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #Array[
                                       $index: #List[
                                          $expression: #ParcentNotation['%w[a 1]']
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #StringExpr['']
                                                $expression: #StringExpr['']
                                             ]
                                          ]
                                          $expression: #ParcentNotation['%w[a 2]']
                                       ]
                                    ]
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['decode_www_form']
                                       $param: #List[
                                          $expression: #StringExpr['a=1&&a=2']
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_raise']
                                 $param: #List[
                                    $expression: #NameExpr['ArgumentError']
                                 ]
                                 $body: #Block[
                                    $body: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['decode_www_form']
                                       $param: #List[
                                          $expression: #StringExpr['\\u3042']
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #Array[
                                       $index: #List[
                                          $expression: #ParcentNotation['%w[a 1]']
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #StringExpr['\\u3042']
                                                $expression: #StringExpr['\\u6F22']
                                             ]
                                          ]
                                       ]
                                    ]
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['decode_www_form']
                                       $param: #List[
                                          $expression: #StringExpr['a=1&%E3%81%82=%E6%BC%A2']
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #Array[
                                       $index: #List[
                                          $expression: #ParcentNotation['%w[a 1]']
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #StringExpr['\\uFFFD%8']
                                                $expression: #StringExpr['\\uFFFD']
                                             ]
                                          ]
                                       ]
                                    ]
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['decode_www_form']
                                       $param: #List[
                                          $expression: #StringExpr['a=1&%E3%81%8=%E6%BC']
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #Array[
                                       $index: #List[
                                          $expression: #ParcentNotation['%w[?a 1]']
                                          $expression: #ParcentNotation['%w[a 2]']
                                       ]
                                    ]
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['decode_www_form']
                                       $param: #List[
                                          $expression: #StringExpr['?a=1&a=2']
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #Array['[]']
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['decode_www_form']
                                       $param: #List[
                                          $expression: #StringExpr['']
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #Array[
                                       $index: #List[
                                          $expression: #ParcentNotation['%w[% 1]']
                                       ]
                                    ]
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['decode_www_form']
                                       $param: #List[
                                          $expression: #StringExpr['%=1']
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #Array[
                                       $index: #List[
                                          $expression: #ParcentNotation['%w[a %]']
                                       ]
                                    ]
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['decode_www_form']
                                       $param: #List[
                                          $expression: #StringExpr['a=%']
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #Array[
                                       $index: #List[
                                          $expression: #ParcentNotation['%w[a 1]']
                                          $expression: #ParcentNotation['%w[% 2]']
                                       ]
                                    ]
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['decode_www_form']
                                       $param: #List[
                                          $expression: #StringExpr['a=1&%=2']
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #Array[
                                       $index: #List[
                                          $expression: #ParcentNotation['%w[a 1]']
                                          $expression: #ParcentNotation['%w[b %]']
                                       ]
                                    ]
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['decode_www_form']
                                       $param: #List[
                                          $expression: #StringExpr['a=1&b=%']
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #Array[
                                       $index: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #StringExpr['a']
                                                $expression: #StringExpr['']
                                             ]
                                          ]
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #StringExpr['b']
                                                $expression: #StringExpr['']
                                             ]
                                          ]
                                       ]
                                    ]
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['decode_www_form']
                                       $param: #List[
                                          $expression: #StringExpr['a&b']
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #AssignExpr[
                                 $left: #NameExpr['bug4098']
                                 $right: #StringExpr['[ruby-core:33464]']
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #Array[
                                       $index: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #StringExpr['a']
                                                $expression: #StringExpr['AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA']
                                             ]
                                          ]
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #StringExpr['b']
                                                $expression: #StringExpr['']
                                             ]
                                          ]
                                       ]
                                    ]
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['decode_www_form']
                                       $param: #List[
                                          $expression: #StringExpr['a=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&b']
                                       ]
                                    ]
                                    $expression: #NameExpr['bug4098']
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_raise']
                                 $param: #List[
                                    $expression: #NameExpr['ArgumentError']
                                 ]
                                 $body: #Block[
                                    $body: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['decode_www_form']
                                       $param: #List[
                                          $expression: #StringExpr['a=1&%82%A0=%8A%BF']
                                          $expression: #StringExpr['x-sjis']
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #Array[
                                       $index: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #StringExpr['a']
                                                $expression: #StringExpr['1']
                                             ]
                                          ]
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #ApplyExpr[
                                                   #Self['self']
                                                   $recv: #NameExpr['s']
                                                   $param: #List[
                                                      $expression: #StringExpr['\\x82\\xA0']
                                                   ]
                                                ]
                                                $expression: #ApplyExpr[
                                                   #Self['self']
                                                   $recv: #NameExpr['s']
                                                   $param: #List[
                                                      $expression: #StringExpr['\\x8a\\xBF']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['decode_www_form']
                                       $param: #List[
                                          $expression: #StringExpr['a=1&%82%A0=%8A%BF']
                                          $expression: #StringExpr['sjis']
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #Array[
                                       $index: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #StringExpr['a']
                                                $expression: #StringExpr['1']
                                             ]
                                          ]
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #ApplyExpr[
                                                   #Self['self']
                                                   $recv: #NameExpr['s']
                                                   $param: #List[
                                                      $expression: #StringExpr['\\x82\\xA0']
                                                   ]
                                                ]
                                                $expression: #ApplyExpr[
                                                   #Self['self']
                                                   $recv: #NameExpr['s']
                                                   $param: #List[
                                                      $expression: #StringExpr['\\x8a\\xBF']
                                                   ]
                                                ]
                                             ]
                                          ]
                                          $expression: #ParcentNotation['%w[_charset_ sjis]']
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #ApplyExpr[
                                                   #Self['self']
                                                   $recv: #NameExpr['s']
                                                   $param: #List[
                                                      $expression: #StringExpr['\\x82\\xA1']
                                                   ]
                                                ]
                                                $expression: #ApplyExpr[
                                                   #Self['self']
                                                   $recv: #NameExpr['s']
                                                   $param: #List[
                                                      $expression: #StringExpr['\\x8a\\xC0']
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['decode_www_form']
                                       $param: #List[
                                          $expression: #StringExpr['a=1&%82%A0=%8A%BF&_charset_=sjis&%82%A1=%8A%C0']
                                          $hash: #Hash[
                                             $key: #NameExpr['use__charset_']
                                             $value: #TrueExpr['true']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['assert_equal']
                                 $param: #List[
                                    $expression: #Array[
                                       $index: #List[
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #StringExpr['']
                                                $expression: #StringExpr['isindex']
                                             ]
                                          ]
                                          $expression: #Array[
                                             $index: #List[
                                                $expression: #StringExpr['a']
                                                $expression: #StringExpr['1']
                                             ]
                                          ]
                                       ]
                                    ]
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['URI']
                                       $recv: #NameExpr['decode_www_form']
                                       $param: #List[
                                          $expression: #StringExpr['isindex&a=1']
                                          $hash: #Hash[
                                             $key: #NameExpr['isindex']
                                             $value: #TrueExpr['true']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #NameExpr['private']
                     $statement: #FuncDecl[
                        $name: #NameExpr['s']
                        $param: #List[
                           $param: #Param[
                              $param: #NameExpr['str']
                           ]
                        ]
                        $body: #BlockExpr[
                           $main: #ApplyExpr[
                              $recv: #NameExpr['str']
                              $recv: #NameExpr['force_encoding']
                              $param: #List[
                                 $expression: #Field[
                                    $recv: #NameExpr['Encoding']
                                    $name: #NameExpr['Windows_31J']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
            ]
         ]
      ]
   ]
   #Comsumed['comsumed']
]
