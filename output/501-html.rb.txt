#Source[
   #Class[
      $name: #NameExpr['CGI']
      $body: #BlockExpr[
         $main: #List[
            $statement: #Module[
               $name: #NameExpr['TagMaker']
               $body: #BlockExpr[
                  $main: #List[
                     $statement: #FuncDecl[
                        $name: #NameExpr['nn_element']
                        $param: #List[
                           $param: #Param[
                              $param: #NameExpr['element']
                           ]
                           $param: #OptionalParam[
                              $name: #NameExpr['attributes']
                              $default: #List['{}']
                           ]
                        ]
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #AssignExpr[
                                 $left: #NameExpr['s']
                                 $right: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['nOE_element']
                                    $param: #List[
                                       $expression: #NameExpr['element']
                                       $expression: #NameExpr['attributes']
                                    ]
                                 ]
                              ]
                              $statement: #IfExpr[
                                 $cond: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['block_given?']
                                 ]
                                 $then: #LShiftExpr[
                                    $left: #NameExpr['s']
                                    $right: #ApplyExpr[
                                       $recv: #Yield['yield']
                                       $recv: #NameExpr['to_s']
                                    ]
                                 ]
                              ]
                              $statement: #LShiftExpr[
                                 $left: #NameExpr['s']
                                 $right: #StringExpr[
                                    $inner: #ApplyExpr[
                                       $recv: #NameExpr['element']
                                       $recv: #NameExpr['upcase']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['nn_element_def']
                        $param: #List[
                           $param: #OptionalParam[
                              $name: #NameExpr['attributes']
                              $default: #List['{}']
                           ]
                           $param: #ProcedureParam[
                              $name: #NameExpr['block']
                           ]
                        ]
                        $body: #BlockExpr[
                           $main: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['nn_element']
                              $param: #List[
                                 $expression: #NameExpr['__callee__']
                                 $expression: #NameExpr['attributes']
                                 $procedure: #Procedure[
                                    $base: #NameExpr['block']
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['nOE_element']
                        $param: #List[
                           $param: #Param[
                              $param: #NameExpr['element']
                           ]
                           $param: #OptionalParam[
                              $name: #NameExpr['attributes']
                              $default: #List['{}']
                           ]
                        ]
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #IfExpr[
                                 $then: #AssignExpr[
                                    $left: #NameExpr['attributes']
                                    $right: #List[
                                       $hash: #Hash[
                                          $key: #NameExpr['attributes']
                                          $value: #Nil['nil']
                                       ]
                                    ]
                                 ]
                                 $cond: #ApplyExpr[
                                    $recv: #NameExpr['attributes']
                                    $recv: #NameExpr['kind_of?']
                                    $param: #List[
                                       $expression: #NameExpr['String']
                                    ]
                                 ]
                              ]
                              $statement: #AssignExpr[
                                 $left: #NameExpr['s']
                                 $right: #StringExpr[
                                    $inner: #ApplyExpr[
                                       $recv: #NameExpr['element']
                                       $recv: #NameExpr['upcase']
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 $recv: #NameExpr['attributes']
                                 $recv: #NameExpr['each']
                                 $body: #Block[
                                    $param: #MultipleLeftHandSideExpression[
                                       $item: #NameExpr['name']
                                       $item: #NameExpr['value']
                                    ]
                                    $body: #List[
                                       $statement: #Unless[
                                          $then: #Next['next']
                                          $cond: #NameExpr['value']
                                       ]
                                       $statement: #LShiftExpr[
                                          $left: #NameExpr['s']
                                          $right: #StringExpr[' ']
                                       ]
                                       $statement: #LShiftExpr[
                                          $left: #NameExpr['s']
                                          $right: #ApplyExpr[
                                             $recv: #NameExpr['CGI']
                                             $recv: #NameExpr['escapeHTML']
                                             $param: #List[
                                                $expression: #ApplyExpr[
                                                   $recv: #NameExpr['name']
                                                   $recv: #NameExpr['to_s']
                                                ]
                                             ]
                                          ]
                                       ]
                                       $statement: #IfExpr[
                                          $cond: #NeExpr[
                                             $left: #NameExpr['value']
                                             $right: #TrueExpr['true']
                                          ]
                                          $then: #List[
                                             $statement: #LShiftExpr[
                                                $left: #NameExpr['s']
                                                $right: #StringExpr['="']
                                             ]
                                             $statement: #LShiftExpr[
                                                $left: #NameExpr['s']
                                                $right: #ApplyExpr[
                                                   $recv: #NameExpr['CGI']
                                                   $recv: #NameExpr['escapeHTML']
                                                   $param: #List[
                                                      $expression: #ApplyExpr[
                                                         $recv: #NameExpr['value']
                                                         $recv: #NameExpr['to_s']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                             $statement: #LShiftExpr[
                                                $left: #NameExpr['s']
                                                $right: #StringExpr['"']
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #LShiftExpr[
                                 $left: #NameExpr['s']
                                 $right: #StringExpr['>']
                              ]
                           ]
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['nOE_element_def']
                        $param: #List[
                           $param: #OptionalParam[
                              $name: #NameExpr['attributes']
                              $default: #List['{}']
                           ]
                           $param: #ProcedureParam[
                              $name: #NameExpr['block']
                           ]
                        ]
                        $body: #BlockExpr[
                           $main: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['nOE_element']
                              $param: #List[
                                 $expression: #NameExpr['__callee__']
                                 $expression: #NameExpr['attributes']
                                 $procedure: #Procedure[
                                    $base: #NameExpr['block']
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['nO_element']
                        $param: #List[
                           $param: #Param[
                              $param: #NameExpr['element']
                           ]
                           $param: #OptionalParam[
                              $name: #NameExpr['attributes']
                              $default: #List['{}']
                           ]
                        ]
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #AssignExpr[
                                 $left: #NameExpr['s']
                                 $right: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['nOE_element']
                                    $param: #List[
                                       $expression: #NameExpr['element']
                                       $expression: #NameExpr['attributes']
                                    ]
                                 ]
                              ]
                              $statement: #IfExpr[
                                 $cond: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['block_given?']
                                 ]
                                 $then: #List[
                                    $statement: #LShiftExpr[
                                       $left: #NameExpr['s']
                                       $right: #ApplyExpr[
                                          $recv: #Yield['yield']
                                          $recv: #NameExpr['to_s']
                                       ]
                                    ]
                                    $statement: #LShiftExpr[
                                       $left: #NameExpr['s']
                                       $right: #StringExpr[
                                          $inner: #ApplyExpr[
                                             $recv: #NameExpr['element']
                                             $recv: #NameExpr['upcase']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #NameExpr['s']
                           ]
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['nO_element_def']
                        $param: #List[
                           $param: #OptionalParam[
                              $name: #NameExpr['attributes']
                              $default: #List['{}']
                           ]
                           $param: #ProcedureParam[
                              $name: #NameExpr['block']
                           ]
                        ]
                        $body: #BlockExpr[
                           $main: #ApplyExpr[
                              #Self['self']
                              $recv: #NameExpr['nO_element']
                              $param: #List[
                                 $expression: #NameExpr['__callee__']
                                 $expression: #NameExpr['attributes']
                                 $procedure: #Procedure[
                                    $base: #NameExpr['block']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
            ]
            $statement: #Module[
               $name: #NameExpr['HtmlExtension']
               $body: #BlockExpr[
                  $main: #List[
                     $statement: #FuncDecl[
                        $name: #NameExpr['a']
                        $param: #List[
                           $param: #OptionalParam[
                              $name: #NameExpr['href']
                              $default: #StringExpr['']
                           ]
                        ]
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #AssignExpr[
                                 $left: #NameExpr['attributes']
                                 $right: #IfExpr[
                                    $cond: #ApplyExpr[
                                       $recv: #NameExpr['href']
                                       $recv: #NameExpr['kind_of?']
                                       $param: #List[
                                          $expression: #NameExpr['String']
                                       ]
                                    ]
                                    $then: #List[
                                       $hash: #Hash[
                                          $key: #StringExpr['HREF']
                                          $value: #NameExpr['href']
                                       ]
                                    ]
                                    $else: #NameExpr['href']
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #Super['super']
                                 $param: #List[
                                    $expression: #NameExpr['attributes']
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['base']
                        $param: #List[
                           $param: #OptionalParam[
                              $name: #NameExpr['href']
                              $default: #StringExpr['']
                           ]
                        ]
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #AssignExpr[
                                 $left: #NameExpr['attributes']
                                 $right: #IfExpr[
                                    $cond: #ApplyExpr[
                                       $recv: #NameExpr['href']
                                       $recv: #NameExpr['kind_of?']
                                       $param: #List[
                                          $expression: #NameExpr['String']
                                       ]
                                    ]
                                    $then: #List[
                                       $hash: #Hash[
                                          $key: #StringExpr['HREF']
                                          $value: #NameExpr['href']
                                       ]
                                    ]
                                    $else: #NameExpr['href']
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #Super['super']
                                 $param: #List[
                                    $expression: #NameExpr['attributes']
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['blockquote']
                        $param: #List[
                           $param: #OptionalParam[
                              $name: #NameExpr['cite']
                              $default: #List['{}']
                           ]
                        ]
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #AssignExpr[
                                 $left: #NameExpr['attributes']
                                 $right: #IfExpr[
                                    $cond: #ApplyExpr[
                                       $recv: #NameExpr['cite']
                                       $recv: #NameExpr['kind_of?']
                                       $param: #List[
                                          $expression: #NameExpr['String']
                                       ]
                                    ]
                                    $then: #List[
                                       $hash: #Hash[
                                          $key: #StringExpr['CITE']
                                          $value: #NameExpr['cite']
                                       ]
                                    ]
                                    $else: #NameExpr['cite']
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #Super['super']
                                 $param: #List[
                                    $expression: #NameExpr['attributes']
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['caption']
                        $param: #List[
                           $param: #OptionalParam[
                              $name: #NameExpr['align']
                              $default: #List['{}']
                           ]
                        ]
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #AssignExpr[
                                 $left: #NameExpr['attributes']
                                 $right: #IfExpr[
                                    $cond: #ApplyExpr[
                                       $recv: #NameExpr['align']
                                       $recv: #NameExpr['kind_of?']
                                       $param: #List[
                                          $expression: #NameExpr['String']
                                       ]
                                    ]
                                    $then: #List[
                                       $hash: #Hash[
                                          $key: #StringExpr['ALIGN']
                                          $value: #NameExpr['align']
                                       ]
                                    ]
                                    $else: #NameExpr['align']
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #Super['super']
                                 $param: #List[
                                    $expression: #NameExpr['attributes']
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['checkbox']
                        $param: #List[
                           $param: #OptionalParam[
                              $name: #NameExpr['name']
                              $default: #StringExpr['']
                           ]
                           $param: #OptionalParam[
                              $name: #NameExpr['value']
                              $default: #Nil['nil']
                           ]
                           $param: #OptionalParam[
                              $name: #NameExpr['checked']
                              $default: #Nil['nil']
                           ]
                        ]
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #AssignExpr[
                                 $left: #NameExpr['attributes']
                                 $right: #IfExpr[
                                    $cond: #ApplyExpr[
                                       $recv: #NameExpr['name']
                                       $recv: #NameExpr['kind_of?']
                                       $param: #List[
                                          $expression: #NameExpr['String']
                                       ]
                                    ]
                                    $then: #List[
                                       $hash: #Hash[
                                          $key: #StringExpr['TYPE']
                                          $value: #StringExpr['checkbox']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['NAME']
                                          $value: #NameExpr['name']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['VALUE']
                                          $value: #NameExpr['value']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['CHECKED']
                                          $value: #NameExpr['checked']
                                       ]
                                    ]
                                    $else: #List[
                                       $statement: #AssignExpr[
                                          $left: #Indexer[
                                             $base: #NameExpr['name']
                                             $index: #List[
                                                $expression: #StringExpr['TYPE']
                                             ]
                                          ]
                                          $right: #StringExpr['checkbox']
                                       ]
                                       $statement: #NameExpr['name']
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['input']
                                 $param: #List[
                                    $expression: #NameExpr['attributes']
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['checkbox_group']
                        $param: #List[
                           $param: #OptionalParam[
                              $name: #NameExpr['name']
                              $default: #StringExpr['']
                           ]
                           $param: #VariadicParam[
                              $name: #NameExpr['values']
                           ]
                        ]
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #IfExpr[
                                 $cond: #ApplyExpr[
                                    $recv: #NameExpr['name']
                                    $recv: #NameExpr['kind_of?']
                                    $param: #List[
                                       $expression: #NameExpr['Hash']
                                    ]
                                 ]
                                 $then: #List[
                                    $statement: #AssignExpr[
                                       $left: #NameExpr['values']
                                       $right: #Indexer[
                                          $recv: #NameExpr['name']
                                          $index: #List[
                                             $expression: #StringExpr['VALUES']
                                          ]
                                       ]
                                    ]
                                    $statement: #AssignExpr[
                                       $left: #NameExpr['name']
                                       $right: #Indexer[
                                          $recv: #NameExpr['name']
                                          $index: #List[
                                             $expression: #StringExpr['NAME']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['values']
                                    $recv: #NameExpr['collect']
                                    $body: #Block[
                                       $param: #NameExpr['value']
                                       $body: #IfExpr[
                                          $cond: #ApplyExpr[
                                             $recv: #NameExpr['value']
                                             $recv: #NameExpr['kind_of?']
                                             $param: #List[
                                                $expression: #NameExpr['String']
                                             ]
                                          ]
                                          $then: #AddExpr[
                                             $left: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['checkbox']
                                                $param: #List[
                                                   $expression: #NameExpr['name']
                                                   $expression: #NameExpr['value']
                                                ]
                                             ]
                                             $right: #NameExpr['value']
                                          ]
                                          $else: #IfExpr[
                                             $cond: #LOr[
                                                $left: #EqExpr[
                                                   $left: #Indexer[
                                                      $recv: #NameExpr['value']
                                                      $index: #List[
                                                         $expression: #MinusExpr[
                                                            $expr: #IntExpr['1']
                                                         ]
                                                      ]
                                                   ]
                                                   $right: #TrueExpr['true']
                                                ]
                                                $right: #EqExpr[
                                                   $left: #Indexer[
                                                      $recv: #NameExpr['value']
                                                      $index: #List[
                                                         $expression: #MinusExpr[
                                                            $expr: #IntExpr['1']
                                                         ]
                                                      ]
                                                   ]
                                                   $right: #FalseExpr['false']
                                                ]
                                             ]
                                             $then: #AddExpr[
                                                $left: #ApplyExpr[
                                                   #Self['self']
                                                   $recv: #NameExpr['checkbox']
                                                   $param: #List[
                                                      $expression: #NameExpr['name']
                                                      $expression: #Indexer[
                                                         $recv: #NameExpr['value']
                                                         $index: #List[
                                                            $expression: #IntExpr['0']
                                                         ]
                                                      ]
                                                      $expression: #Indexer[
                                                         $recv: #NameExpr['value']
                                                         $index: #List[
                                                            $expression: #MinusExpr[
                                                               $expr: #IntExpr['1']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                                $right: #Indexer[
                                                   $recv: #NameExpr['value']
                                                   $index: #List[
                                                      $expression: #MinusExpr[
                                                         $expr: #IntExpr['2']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                             $else: #AddExpr[
                                                $left: #ApplyExpr[
                                                   #Self['self']
                                                   $recv: #NameExpr['checkbox']
                                                   $param: #List[
                                                      $expression: #NameExpr['name']
                                                      $expression: #Indexer[
                                                         $recv: #NameExpr['value']
                                                         $index: #List[
                                                            $expression: #IntExpr['0']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                                $right: #Indexer[
                                                   $recv: #NameExpr['value']
                                                   $index: #List[
                                                      $expression: #MinusExpr[
                                                         $expr: #IntExpr['1']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['join']
                              ]
                           ]
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['file_field']
                        $param: #List[
                           $param: #OptionalParam[
                              $name: #NameExpr['name']
                              $default: #StringExpr['']
                           ]
                           $param: #OptionalParam[
                              $name: #NameExpr['size']
                              $default: #IntExpr['20']
                           ]
                           $param: #OptionalParam[
                              $name: #NameExpr['maxlength']
                              $default: #Nil['nil']
                           ]
                        ]
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #AssignExpr[
                                 $left: #NameExpr['attributes']
                                 $right: #IfExpr[
                                    $cond: #ApplyExpr[
                                       $recv: #NameExpr['name']
                                       $recv: #NameExpr['kind_of?']
                                       $param: #List[
                                          $expression: #NameExpr['String']
                                       ]
                                    ]
                                    $then: #List[
                                       $hash: #Hash[
                                          $key: #StringExpr['TYPE']
                                          $value: #StringExpr['file']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['NAME']
                                          $value: #NameExpr['name']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['SIZE']
                                          $value: #ApplyExpr[
                                             $recv: #NameExpr['size']
                                             $recv: #NameExpr['to_s']
                                          ]
                                       ]
                                    ]
                                    $else: #List[
                                       $statement: #AssignExpr[
                                          $left: #Indexer[
                                             $base: #NameExpr['name']
                                             $index: #List[
                                                $expression: #StringExpr['TYPE']
                                             ]
                                          ]
                                          $right: #StringExpr['file']
                                       ]
                                       $statement: #NameExpr['name']
                                    ]
                                 ]
                              ]
                              $statement: #IfExpr[
                                 $then: #AssignExpr[
                                    $left: #Indexer[
                                       $base: #NameExpr['attributes']
                                       $index: #List[
                                          $expression: #StringExpr['MAXLENGTH']
                                       ]
                                    ]
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['maxlength']
                                       $recv: #NameExpr['to_s']
                                    ]
                                 ]
                                 $cond: #NameExpr['maxlength']
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['input']
                                 $param: #List[
                                    $expression: #NameExpr['attributes']
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['form']
                        $param: #List[
                           $param: #OptionalParam[
                              $name: #NameExpr['method']
                              $default: #StringExpr['post']
                           ]
                           $param: #OptionalParam[
                              $name: #NameExpr['action']
                              $default: #NameExpr['script_name']
                           ]
                           $param: #OptionalParam[
                              $name: #NameExpr['enctype']
                              $default: #StringExpr['application/x-www-form-urlencoded']
                           ]
                        ]
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #AssignExpr[
                                 $left: #NameExpr['attributes']
                                 $right: #IfExpr[
                                    $cond: #ApplyExpr[
                                       $recv: #NameExpr['method']
                                       $recv: #NameExpr['kind_of?']
                                       $param: #List[
                                          $expression: #NameExpr['String']
                                       ]
                                    ]
                                    $then: #List[
                                       $hash: #Hash[
                                          $key: #StringExpr['METHOD']
                                          $value: #NameExpr['method']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['ACTION']
                                          $value: #NameExpr['action']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['ENCTYPE']
                                          $value: #NameExpr['enctype']
                                       ]
                                    ]
                                    $else: #List[
                                       $statement: #Unless[
                                          $cond: #ApplyExpr[
                                             $recv: #NameExpr['method']
                                             $recv: #NameExpr['has_key?']
                                             $param: #List[
                                                $expression: #StringExpr['METHOD']
                                             ]
                                          ]
                                          $then: #AssignExpr[
                                             $left: #Indexer[
                                                $base: #NameExpr['method']
                                                $index: #List[
                                                   $expression: #StringExpr['METHOD']
                                                ]
                                             ]
                                             $right: #StringExpr['post']
                                          ]
                                       ]
                                       $statement: #Unless[
                                          $cond: #ApplyExpr[
                                             $recv: #NameExpr['method']
                                             $recv: #NameExpr['has_key?']
                                             $param: #List[
                                                $expression: #StringExpr['ENCTYPE']
                                             ]
                                          ]
                                          $then: #AssignExpr[
                                             $left: #Indexer[
                                                $base: #NameExpr['method']
                                                $index: #List[
                                                   $expression: #StringExpr['ENCTYPE']
                                                ]
                                             ]
                                             $right: #NameExpr['enctype']
                                          ]
                                       ]
                                       $statement: #NameExpr['method']
                                    ]
                                 ]
                              ]
                              $statement: #IfExpr[
                                 $cond: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['block_given?']
                                 ]
                                 $then: #AssignExpr[
                                    $left: #NameExpr['body']
                                    $right: #Yield['yield']
                                 ]
                                 $else: #AssignExpr[
                                    $left: #NameExpr['body']
                                    $right: #StringExpr['']
                                 ]
                              ]
                              $statement: #IfExpr[
                                 $cond: #NameExpr['@output_hidden']
                                 $then: #LShiftExpr[
                                    $left: #NameExpr['body']
                                    $right: #ApplyExpr[
                                       $recv: #ApplyExpr[
                                          $recv: #NameExpr['@output_hidden']
                                          $recv: #NameExpr['collect']
                                          $body: #Block[
                                             $param: #MultipleLeftHandSideExpression[
                                                $item: #NameExpr['k']
                                                $item: #NameExpr['v']
                                             ]
                                             $body: #StringExpr[
                                                $inner: #NameExpr['k']
                                                $inner: #NameExpr['v']
                                             ]
                                          ]
                                       ]
                                       $recv: #NameExpr['join']
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #Super['super']
                                 $param: #List[
                                    $expression: #NameExpr['attributes']
                                 ]
                                 $body: #Block[
                                    $body: #NameExpr['body']
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['hidden']
                        $param: #List[
                           $param: #OptionalParam[
                              $name: #NameExpr['name']
                              $default: #StringExpr['']
                           ]
                           $param: #OptionalParam[
                              $name: #NameExpr['value']
                              $default: #Nil['nil']
                           ]
                        ]
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #AssignExpr[
                                 $left: #NameExpr['attributes']
                                 $right: #IfExpr[
                                    $cond: #ApplyExpr[
                                       $recv: #NameExpr['name']
                                       $recv: #NameExpr['kind_of?']
                                       $param: #List[
                                          $expression: #NameExpr['String']
                                       ]
                                    ]
                                    $then: #List[
                                       $hash: #Hash[
                                          $key: #StringExpr['TYPE']
                                          $value: #StringExpr['hidden']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['NAME']
                                          $value: #NameExpr['name']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['VALUE']
                                          $value: #NameExpr['value']
                                       ]
                                    ]
                                    $else: #List[
                                       $statement: #AssignExpr[
                                          $left: #Indexer[
                                             $base: #NameExpr['name']
                                             $index: #List[
                                                $expression: #StringExpr['TYPE']
                                             ]
                                          ]
                                          $right: #StringExpr['hidden']
                                       ]
                                       $statement: #NameExpr['name']
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['input']
                                 $param: #List[
                                    $expression: #NameExpr['attributes']
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['html']
                        $param: #List[
                           $param: #OptionalParam[
                              $name: #NameExpr['attributes']
                              $default: #List['{}']
                           ]
                        ]
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #IfExpr[
                                 $cond: #EqExpr[
                                    $left: #Nil['nil']
                                    $right: #NameExpr['attributes']
                                 ]
                                 $then: #AssignExpr[
                                    $left: #NameExpr['attributes']
                                    $right: #List['{}']
                                 ]
                                 $else: #IfExpr[
                                    $cond: #EqExpr[
                                       $left: #StringExpr['PRETTY']
                                       $right: #NameExpr['attributes']
                                    ]
                                    $then: #AssignExpr[
                                       $left: #NameExpr['attributes']
                                       $right: #List[
                                          $hash: #Hash[
                                             $key: #StringExpr['PRETTY']
                                             $value: #TrueExpr['true']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #AssignExpr[
                                 $left: #NameExpr['pretty']
                                 $right: #ApplyExpr[
                                    $recv: #NameExpr['attributes']
                                    $recv: #NameExpr['delete']
                                    $param: #List[
                                       $expression: #StringExpr['PRETTY']
                                    ]
                                 ]
                              ]
                              $statement: #IfExpr[
                                 $then: #AssignExpr[
                                    $left: #NameExpr['pretty']
                                    $right: #StringExpr['  ']
                                 ]
                                 $cond: #EqExpr[
                                    $left: #TrueExpr['true']
                                    $right: #NameExpr['pretty']
                                 ]
                              ]
                              $statement: #AssignExpr[
                                 $left: #NameExpr['buf']
                                 $right: #StringExpr['']
                              ]
                              $statement: #IfExpr[
                                 $cond: #ApplyExpr[
                                    $recv: #NameExpr['attributes']
                                    $recv: #NameExpr['has_key?']
                                    $param: #List[
                                       $expression: #StringExpr['DOCTYPE']
                                    ]
                                 ]
                                 $then: #IfExpr[
                                    $cond: #Indexer[
                                       $recv: #NameExpr['attributes']
                                       $index: #List[
                                          $expression: #StringExpr['DOCTYPE']
                                       ]
                                    ]
                                    $then: #LShiftExpr[
                                       $left: #NameExpr['buf']
                                       $right: #ApplyExpr[
                                          $recv: #NameExpr['attributes']
                                          $recv: #NameExpr['delete']
                                          $param: #List[
                                             $expression: #StringExpr['DOCTYPE']
                                          ]
                                       ]
                                    ]
                                    $else: #ApplyExpr[
                                       $recv: #NameExpr['attributes']
                                       $recv: #NameExpr['delete']
                                       $param: #List[
                                          $expression: #StringExpr['DOCTYPE']
                                       ]
                                    ]
                                 ]
                                 $else: #LShiftExpr[
                                    $left: #NameExpr['buf']
                                    $right: #NameExpr['doctype']
                                 ]
                              ]
                              $statement: #LShiftExpr[
                                 $left: #NameExpr['buf']
                                 $right: #ApplyExpr[
                                    #Self['self']
                                    $recv: #Super['super']
                                    $param: #List[
                                       $expression: #NameExpr['attributes']
                                    ]
                                 ]
                              ]
                              $statement: #IfExpr[
                                 $cond: #NameExpr['pretty']
                                 $then: #ApplyExpr[
                                    $recv: #NameExpr['CGI']
                                    $recv: #NameExpr['pretty']
                                    $param: #List[
                                       $expression: #NameExpr['buf']
                                       $expression: #NameExpr['pretty']
                                    ]
                                 ]
                                 $else: #NameExpr['buf']
                              ]
                           ]
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['image_button']
                        $param: #List[
                           $param: #OptionalParam[
                              $name: #NameExpr['src']
                              $default: #StringExpr['']
                           ]
                           $param: #OptionalParam[
                              $name: #NameExpr['name']
                              $default: #Nil['nil']
                           ]
                           $param: #OptionalParam[
                              $name: #NameExpr['alt']
                              $default: #Nil['nil']
                           ]
                        ]
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #AssignExpr[
                                 $left: #NameExpr['attributes']
                                 $right: #IfExpr[
                                    $cond: #ApplyExpr[
                                       $recv: #NameExpr['src']
                                       $recv: #NameExpr['kind_of?']
                                       $param: #List[
                                          $expression: #NameExpr['String']
                                       ]
                                    ]
                                    $then: #List[
                                       $hash: #Hash[
                                          $key: #StringExpr['TYPE']
                                          $value: #StringExpr['image']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['SRC']
                                          $value: #NameExpr['src']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['NAME']
                                          $value: #NameExpr['name']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['ALT']
                                          $value: #NameExpr['alt']
                                       ]
                                    ]
                                    $else: #List[
                                       $statement: #AssignExpr[
                                          $left: #Indexer[
                                             $base: #NameExpr['src']
                                             $index: #List[
                                                $expression: #StringExpr['TYPE']
                                             ]
                                          ]
                                          $right: #StringExpr['image']
                                       ]
                                       $statement: #LOrAssign[
                                          $left: #Indexer[
                                             $base: #NameExpr['src']
                                             $index: #List[
                                                $expression: #StringExpr['SRC']
                                             ]
                                          ]
                                          $right: #StringExpr['']
                                       ]
                                       $statement: #NameExpr['src']
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['input']
                                 $param: #List[
                                    $expression: #NameExpr['attributes']
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['img']
                        $param: #List[
                           $param: #OptionalParam[
                              $name: #NameExpr['src']
                              $default: #StringExpr['']
                           ]
                           $param: #OptionalParam[
                              $name: #NameExpr['alt']
                              $default: #StringExpr['']
                           ]
                           $param: #OptionalParam[
                              $name: #NameExpr['width']
                              $default: #Nil['nil']
                           ]
                           $param: #OptionalParam[
                              $name: #NameExpr['height']
                              $default: #Nil['nil']
                           ]
                        ]
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #AssignExpr[
                                 $left: #NameExpr['attributes']
                                 $right: #IfExpr[
                                    $cond: #ApplyExpr[
                                       $recv: #NameExpr['src']
                                       $recv: #NameExpr['kind_of?']
                                       $param: #List[
                                          $expression: #NameExpr['String']
                                       ]
                                    ]
                                    $then: #List[
                                       $hash: #Hash[
                                          $key: #StringExpr['SRC']
                                          $value: #NameExpr['src']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['ALT']
                                          $value: #NameExpr['alt']
                                       ]
                                    ]
                                    $else: #NameExpr['src']
                                 ]
                              ]
                              $statement: #IfExpr[
                                 $then: #AssignExpr[
                                    $left: #Indexer[
                                       $base: #NameExpr['attributes']
                                       $index: #List[
                                          $expression: #StringExpr['WIDTH']
                                       ]
                                    ]
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['width']
                                       $recv: #NameExpr['to_s']
                                    ]
                                 ]
                                 $cond: #NameExpr['width']
                              ]
                              $statement: #IfExpr[
                                 $then: #AssignExpr[
                                    $left: #Indexer[
                                       $base: #NameExpr['attributes']
                                       $index: #List[
                                          $expression: #StringExpr['HEIGHT']
                                       ]
                                    ]
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['height']
                                       $recv: #NameExpr['to_s']
                                    ]
                                 ]
                                 $cond: #NameExpr['height']
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #Super['super']
                                 $param: #List[
                                    $expression: #NameExpr['attributes']
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['multipart_form']
                        $param: #List[
                           $param: #OptionalParam[
                              $name: #NameExpr['action']
                              $default: #Nil['nil']
                           ]
                           $param: #OptionalParam[
                              $name: #NameExpr['enctype']
                              $default: #StringExpr['multipart/form-data']
                           ]
                        ]
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #AssignExpr[
                                 $left: #NameExpr['attributes']
                                 $right: #IfExpr[
                                    $cond: #EqExpr[
                                       $left: #NameExpr['action']
                                       $right: #Nil['nil']
                                    ]
                                    $then: #List[
                                       $hash: #Hash[
                                          $key: #StringExpr['METHOD']
                                          $value: #StringExpr['post']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['ENCTYPE']
                                          $value: #NameExpr['enctype']
                                       ]
                                    ]
                                    $else: #IfExpr[
                                       $cond: #ApplyExpr[
                                          $recv: #NameExpr['action']
                                          $recv: #NameExpr['kind_of?']
                                          $param: #List[
                                             $expression: #NameExpr['String']
                                          ]
                                       ]
                                       $then: #List[
                                          $hash: #Hash[
                                             $key: #StringExpr['METHOD']
                                             $value: #StringExpr['post']
                                          ]
                                          $hash: #Hash[
                                             $key: #StringExpr['ACTION']
                                             $value: #NameExpr['action']
                                          ]
                                          $hash: #Hash[
                                             $key: #StringExpr['ENCTYPE']
                                             $value: #NameExpr['enctype']
                                          ]
                                       ]
                                       $else: #List[
                                          $statement: #Unless[
                                             $cond: #ApplyExpr[
                                                $recv: #NameExpr['action']
                                                $recv: #NameExpr['has_key?']
                                                $param: #List[
                                                   $expression: #StringExpr['METHOD']
                                                ]
                                             ]
                                             $then: #AssignExpr[
                                                $left: #Indexer[
                                                   $base: #NameExpr['action']
                                                   $index: #List[
                                                      $expression: #StringExpr['METHOD']
                                                   ]
                                                ]
                                                $right: #StringExpr['post']
                                             ]
                                          ]
                                          $statement: #Unless[
                                             $cond: #ApplyExpr[
                                                $recv: #NameExpr['action']
                                                $recv: #NameExpr['has_key?']
                                                $param: #List[
                                                   $expression: #StringExpr['ENCTYPE']
                                                ]
                                             ]
                                             $then: #AssignExpr[
                                                $left: #Indexer[
                                                   $base: #NameExpr['action']
                                                   $index: #List[
                                                      $expression: #StringExpr['ENCTYPE']
                                                   ]
                                                ]
                                                $right: #NameExpr['enctype']
                                             ]
                                          ]
                                          $statement: #NameExpr['action']
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #IfExpr[
                                 $cond: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['block_given?']
                                 ]
                                 $then: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['form']
                                    $param: #List[
                                       $expression: #NameExpr['attributes']
                                    ]
                                    $body: #Block[
                                       $body: #Yield['yield']
                                    ]
                                 ]
                                 $else: #ApplyExpr[
                                    #Self['self']
                                    $recv: #NameExpr['form']
                                    $param: #List[
                                       $expression: #NameExpr['attributes']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['password_field']
                        $param: #List[
                           $param: #OptionalParam[
                              $name: #NameExpr['name']
                              $default: #StringExpr['']
                           ]
                           $param: #OptionalParam[
                              $name: #NameExpr['value']
                              $default: #Nil['nil']
                           ]
                           $param: #OptionalParam[
                              $name: #NameExpr['size']
                              $default: #IntExpr['40']
                           ]
                           $param: #OptionalParam[
                              $name: #NameExpr['maxlength']
                              $default: #Nil['nil']
                           ]
                        ]
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #AssignExpr[
                                 $left: #NameExpr['attributes']
                                 $right: #IfExpr[
                                    $cond: #ApplyExpr[
                                       $recv: #NameExpr['name']
                                       $recv: #NameExpr['kind_of?']
                                       $param: #List[
                                          $expression: #NameExpr['String']
                                       ]
                                    ]
                                    $then: #List[
                                       $hash: #Hash[
                                          $key: #StringExpr['TYPE']
                                          $value: #StringExpr['password']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['NAME']
                                          $value: #NameExpr['name']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['VALUE']
                                          $value: #NameExpr['value']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['SIZE']
                                          $value: #ApplyExpr[
                                             $recv: #NameExpr['size']
                                             $recv: #NameExpr['to_s']
                                          ]
                                       ]
                                    ]
                                    $else: #List[
                                       $statement: #AssignExpr[
                                          $left: #Indexer[
                                             $base: #NameExpr['name']
                                             $index: #List[
                                                $expression: #StringExpr['TYPE']
                                             ]
                                          ]
                                          $right: #StringExpr['password']
                                       ]
                                       $statement: #NameExpr['name']
                                    ]
                                 ]
                              ]
                              $statement: #IfExpr[
                                 $then: #AssignExpr[
                                    $left: #Indexer[
                                       $base: #NameExpr['attributes']
                                       $index: #List[
                                          $expression: #StringExpr['MAXLENGTH']
                                       ]
                                    ]
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['maxlength']
                                       $recv: #NameExpr['to_s']
                                    ]
                                 ]
                                 $cond: #NameExpr['maxlength']
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['input']
                                 $param: #List[
                                    $expression: #NameExpr['attributes']
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['popup_menu']
                        $param: #List[
                           $param: #OptionalParam[
                              $name: #NameExpr['name']
                              $default: #StringExpr['']
                           ]
                           $param: #VariadicParam[
                              $name: #NameExpr['values']
                           ]
                        ]
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #IfExpr[
                                 $cond: #ApplyExpr[
                                    $recv: #NameExpr['name']
                                    $recv: #NameExpr['kind_of?']
                                    $param: #List[
                                       $expression: #NameExpr['Hash']
                                    ]
                                 ]
                                 $then: #List[
                                    $statement: #AssignExpr[
                                       $left: #NameExpr['values']
                                       $right: #Indexer[
                                          $recv: #NameExpr['name']
                                          $index: #List[
                                             $expression: #StringExpr['VALUES']
                                          ]
                                       ]
                                    ]
                                    $statement: #IfExpr[
                                       $then: #AssignExpr[
                                          $left: #NameExpr['size']
                                          $right: #ApplyExpr[
                                             $recv: #Indexer[
                                                $recv: #NameExpr['name']
                                                $index: #List[
                                                   $expression: #StringExpr['SIZE']
                                                ]
                                             ]
                                             $recv: #NameExpr['to_s']
                                          ]
                                       ]
                                       $cond: #Indexer[
                                          $recv: #NameExpr['name']
                                          $index: #List[
                                             $expression: #StringExpr['SIZE']
                                          ]
                                       ]
                                    ]
                                    $statement: #AssignExpr[
                                       $left: #NameExpr['multiple']
                                       $right: #Indexer[
                                          $recv: #NameExpr['name']
                                          $index: #List[
                                             $expression: #StringExpr['MULTIPLE']
                                          ]
                                       ]
                                    ]
                                    $statement: #AssignExpr[
                                       $left: #NameExpr['name']
                                       $right: #Indexer[
                                          $recv: #NameExpr['name']
                                          $index: #List[
                                             $expression: #StringExpr['NAME']
                                          ]
                                       ]
                                    ]
                                 ]
                                 $else: #List[
                                    $statement: #AssignExpr[
                                       $left: #NameExpr['size']
                                       $right: #Nil['nil']
                                    ]
                                    $statement: #AssignExpr[
                                       $left: #NameExpr['multiple']
                                       $right: #Nil['nil']
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['select']
                                 $param: #List[
                                    $expression: #List[
                                       $hash: #Hash[
                                          $key: #StringExpr['NAME']
                                          $value: #NameExpr['name']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['SIZE']
                                          $value: #NameExpr['size']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['MULTIPLE']
                                          $value: #NameExpr['multiple']
                                       ]
                                    ]
                                 ]
                                 $body: #Block[
                                    $body: #ApplyExpr[
                                       $recv: #ApplyExpr[
                                          $recv: #NameExpr['values']
                                          $recv: #NameExpr['collect']
                                          $body: #Block[
                                             $param: #NameExpr['value']
                                             $body: #IfExpr[
                                                $cond: #ApplyExpr[
                                                   $recv: #NameExpr['value']
                                                   $recv: #NameExpr['kind_of?']
                                                   $param: #List[
                                                      $expression: #NameExpr['String']
                                                   ]
                                                ]
                                                $then: #ApplyExpr[
                                                   #Self['self']
                                                   $recv: #NameExpr['option']
                                                   $param: #List[
                                                      $expression: #List[
                                                         $hash: #Hash[
                                                            $key: #StringExpr['VALUE']
                                                            $value: #NameExpr['value']
                                                         ]
                                                      ]
                                                   ]
                                                   $body: #Block[
                                                      $body: #NameExpr['value']
                                                   ]
                                                ]
                                                $else: #IfExpr[
                                                   $cond: #EqExpr[
                                                      $left: #Indexer[
                                                         $recv: #NameExpr['value']
                                                         $index: #List[
                                                            $expression: #SubExpr[
                                                               $left: #ApplyExpr[
                                                                  $recv: #NameExpr['value']
                                                                  $recv: #NameExpr['size']
                                                               ]
                                                               $right: #IntExpr['1']
                                                            ]
                                                         ]
                                                      ]
                                                      $right: #TrueExpr['true']
                                                   ]
                                                   $then: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['option']
                                                      $param: #List[
                                                         $expression: #List[
                                                            $hash: #Hash[
                                                               $key: #StringExpr['VALUE']
                                                               $value: #Indexer[
                                                                  $recv: #NameExpr['value']
                                                                  $index: #List[
                                                                     $expression: #IntExpr['0']
                                                                  ]
                                                               ]
                                                            ]
                                                            $hash: #Hash[
                                                               $key: #StringExpr['SELECTED']
                                                               $value: #TrueExpr['true']
                                                            ]
                                                         ]
                                                      ]
                                                      $body: #Block[
                                                         $body: #Indexer[
                                                            $recv: #NameExpr['value']
                                                            $index: #List[
                                                               $expression: #SubExpr[
                                                                  $left: #ApplyExpr[
                                                                     $recv: #NameExpr['value']
                                                                     $recv: #NameExpr['size']
                                                                  ]
                                                                  $right: #IntExpr['2']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                   $else: #ApplyExpr[
                                                      #Self['self']
                                                      $recv: #NameExpr['option']
                                                      $param: #List[
                                                         $expression: #List[
                                                            $hash: #Hash[
                                                               $key: #StringExpr['VALUE']
                                                               $value: #Indexer[
                                                                  $recv: #NameExpr['value']
                                                                  $index: #List[
                                                                     $expression: #IntExpr['0']
                                                                  ]
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                      $body: #Block[
                                                         $body: #Indexer[
                                                            $recv: #NameExpr['value']
                                                            $index: #List[
                                                               $expression: #SubExpr[
                                                                  $left: #ApplyExpr[
                                                                     $recv: #NameExpr['value']
                                                                     $recv: #NameExpr['size']
                                                                  ]
                                                                  $right: #IntExpr['1']
                                                               ]
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                       $recv: #NameExpr['join']
                                    ]
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['radio_button']
                        $param: #List[
                           $param: #OptionalParam[
                              $name: #NameExpr['name']
                              $default: #StringExpr['']
                           ]
                           $param: #OptionalParam[
                              $name: #NameExpr['value']
                              $default: #Nil['nil']
                           ]
                           $param: #OptionalParam[
                              $name: #NameExpr['checked']
                              $default: #Nil['nil']
                           ]
                        ]
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #AssignExpr[
                                 $left: #NameExpr['attributes']
                                 $right: #IfExpr[
                                    $cond: #ApplyExpr[
                                       $recv: #NameExpr['name']
                                       $recv: #NameExpr['kind_of?']
                                       $param: #List[
                                          $expression: #NameExpr['String']
                                       ]
                                    ]
                                    $then: #List[
                                       $hash: #Hash[
                                          $key: #StringExpr['TYPE']
                                          $value: #StringExpr['radio']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['NAME']
                                          $value: #NameExpr['name']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['VALUE']
                                          $value: #NameExpr['value']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['CHECKED']
                                          $value: #NameExpr['checked']
                                       ]
                                    ]
                                    $else: #List[
                                       $statement: #AssignExpr[
                                          $left: #Indexer[
                                             $base: #NameExpr['name']
                                             $index: #List[
                                                $expression: #StringExpr['TYPE']
                                             ]
                                          ]
                                          $right: #StringExpr['radio']
                                       ]
                                       $statement: #NameExpr['name']
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['input']
                                 $param: #List[
                                    $expression: #NameExpr['attributes']
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['radio_group']
                        $param: #List[
                           $param: #OptionalParam[
                              $name: #NameExpr['name']
                              $default: #StringExpr['']
                           ]
                           $param: #VariadicParam[
                              $name: #NameExpr['values']
                           ]
                        ]
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #IfExpr[
                                 $cond: #ApplyExpr[
                                    $recv: #NameExpr['name']
                                    $recv: #NameExpr['kind_of?']
                                    $param: #List[
                                       $expression: #NameExpr['Hash']
                                    ]
                                 ]
                                 $then: #List[
                                    $statement: #AssignExpr[
                                       $left: #NameExpr['values']
                                       $right: #Indexer[
                                          $recv: #NameExpr['name']
                                          $index: #List[
                                             $expression: #StringExpr['VALUES']
                                          ]
                                       ]
                                    ]
                                    $statement: #AssignExpr[
                                       $left: #NameExpr['name']
                                       $right: #Indexer[
                                          $recv: #NameExpr['name']
                                          $index: #List[
                                             $expression: #StringExpr['NAME']
                                          ]
                                       ]
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 $recv: #ApplyExpr[
                                    $recv: #NameExpr['values']
                                    $recv: #NameExpr['collect']
                                    $body: #Block[
                                       $param: #NameExpr['value']
                                       $body: #IfExpr[
                                          $cond: #ApplyExpr[
                                             $recv: #NameExpr['value']
                                             $recv: #NameExpr['kind_of?']
                                             $param: #List[
                                                $expression: #NameExpr['String']
                                             ]
                                          ]
                                          $then: #AddExpr[
                                             $left: #ApplyExpr[
                                                #Self['self']
                                                $recv: #NameExpr['radio_button']
                                                $param: #List[
                                                   $expression: #NameExpr['name']
                                                   $expression: #NameExpr['value']
                                                ]
                                             ]
                                             $right: #NameExpr['value']
                                          ]
                                          $else: #IfExpr[
                                             $cond: #LOr[
                                                $left: #EqExpr[
                                                   $left: #Indexer[
                                                      $recv: #NameExpr['value']
                                                      $index: #List[
                                                         $expression: #MinusExpr[
                                                            $expr: #IntExpr['1']
                                                         ]
                                                      ]
                                                   ]
                                                   $right: #TrueExpr['true']
                                                ]
                                                $right: #EqExpr[
                                                   $left: #Indexer[
                                                      $recv: #NameExpr['value']
                                                      $index: #List[
                                                         $expression: #MinusExpr[
                                                            $expr: #IntExpr['1']
                                                         ]
                                                      ]
                                                   ]
                                                   $right: #FalseExpr['false']
                                                ]
                                             ]
                                             $then: #AddExpr[
                                                $left: #ApplyExpr[
                                                   #Self['self']
                                                   $recv: #NameExpr['radio_button']
                                                   $param: #List[
                                                      $expression: #NameExpr['name']
                                                      $expression: #Indexer[
                                                         $recv: #NameExpr['value']
                                                         $index: #List[
                                                            $expression: #IntExpr['0']
                                                         ]
                                                      ]
                                                      $expression: #Indexer[
                                                         $recv: #NameExpr['value']
                                                         $index: #List[
                                                            $expression: #MinusExpr[
                                                               $expr: #IntExpr['1']
                                                            ]
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                                $right: #Indexer[
                                                   $recv: #NameExpr['value']
                                                   $index: #List[
                                                      $expression: #MinusExpr[
                                                         $expr: #IntExpr['2']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                             $else: #AddExpr[
                                                $left: #ApplyExpr[
                                                   #Self['self']
                                                   $recv: #NameExpr['radio_button']
                                                   $param: #List[
                                                      $expression: #NameExpr['name']
                                                      $expression: #Indexer[
                                                         $recv: #NameExpr['value']
                                                         $index: #List[
                                                            $expression: #IntExpr['0']
                                                         ]
                                                      ]
                                                   ]
                                                ]
                                                $right: #Indexer[
                                                   $recv: #NameExpr['value']
                                                   $index: #List[
                                                      $expression: #MinusExpr[
                                                         $expr: #IntExpr['1']
                                                      ]
                                                   ]
                                                ]
                                             ]
                                          ]
                                       ]
                                    ]
                                 ]
                                 $recv: #NameExpr['join']
                              ]
                           ]
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['reset']
                        $param: #List[
                           $param: #OptionalParam[
                              $name: #NameExpr['value']
                              $default: #Nil['nil']
                           ]
                           $param: #OptionalParam[
                              $name: #NameExpr['name']
                              $default: #Nil['nil']
                           ]
                        ]
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #AssignExpr[
                                 $left: #NameExpr['attributes']
                                 $right: #IfExpr[
                                    $cond: #OrExpr[
                                       $left: #[
                                          $base: #NameExpr['value']
                                       ]
                                       $right: #ApplyExpr[
                                          $recv: #NameExpr['value']
                                          $recv: #NameExpr['kind_of?']
                                          $param: #List[
                                             $expression: #NameExpr['String']
                                          ]
                                       ]
                                    ]
                                    $then: #List[
                                       $hash: #Hash[
                                          $key: #StringExpr['TYPE']
                                          $value: #StringExpr['reset']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['VALUE']
                                          $value: #NameExpr['value']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['NAME']
                                          $value: #NameExpr['name']
                                       ]
                                    ]
                                    $else: #List[
                                       $statement: #AssignExpr[
                                          $left: #Indexer[
                                             $base: #NameExpr['value']
                                             $index: #List[
                                                $expression: #StringExpr['TYPE']
                                             ]
                                          ]
                                          $right: #StringExpr['reset']
                                       ]
                                       $statement: #NameExpr['value']
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['input']
                                 $param: #List[
                                    $expression: #NameExpr['attributes']
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #Alias[
                        $newname: #NameExpr['scrolling_list']
                        $target: #NameExpr['popup_menu']
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['submit']
                        $param: #List[
                           $param: #OptionalParam[
                              $name: #NameExpr['value']
                              $default: #Nil['nil']
                           ]
                           $param: #OptionalParam[
                              $name: #NameExpr['name']
                              $default: #Nil['nil']
                           ]
                        ]
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #AssignExpr[
                                 $left: #NameExpr['attributes']
                                 $right: #IfExpr[
                                    $cond: #OrExpr[
                                       $left: #[
                                          $base: #NameExpr['value']
                                       ]
                                       $right: #ApplyExpr[
                                          $recv: #NameExpr['value']
                                          $recv: #NameExpr['kind_of?']
                                          $param: #List[
                                             $expression: #NameExpr['String']
                                          ]
                                       ]
                                    ]
                                    $then: #List[
                                       $hash: #Hash[
                                          $key: #StringExpr['TYPE']
                                          $value: #StringExpr['submit']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['VALUE']
                                          $value: #NameExpr['value']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['NAME']
                                          $value: #NameExpr['name']
                                       ]
                                    ]
                                    $else: #List[
                                       $statement: #AssignExpr[
                                          $left: #Indexer[
                                             $base: #NameExpr['value']
                                             $index: #List[
                                                $expression: #StringExpr['TYPE']
                                             ]
                                          ]
                                          $right: #StringExpr['submit']
                                       ]
                                       $statement: #NameExpr['value']
                                    ]
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['input']
                                 $param: #List[
                                    $expression: #NameExpr['attributes']
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['text_field']
                        $param: #List[
                           $param: #OptionalParam[
                              $name: #NameExpr['name']
                              $default: #StringExpr['']
                           ]
                           $param: #OptionalParam[
                              $name: #NameExpr['value']
                              $default: #Nil['nil']
                           ]
                           $param: #OptionalParam[
                              $name: #NameExpr['size']
                              $default: #IntExpr['40']
                           ]
                           $param: #OptionalParam[
                              $name: #NameExpr['maxlength']
                              $default: #Nil['nil']
                           ]
                        ]
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #AssignExpr[
                                 $left: #NameExpr['attributes']
                                 $right: #IfExpr[
                                    $cond: #ApplyExpr[
                                       $recv: #NameExpr['name']
                                       $recv: #NameExpr['kind_of?']
                                       $param: #List[
                                          $expression: #NameExpr['String']
                                       ]
                                    ]
                                    $then: #List[
                                       $hash: #Hash[
                                          $key: #StringExpr['TYPE']
                                          $value: #StringExpr['text']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['NAME']
                                          $value: #NameExpr['name']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['VALUE']
                                          $value: #NameExpr['value']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['SIZE']
                                          $value: #ApplyExpr[
                                             $recv: #NameExpr['size']
                                             $recv: #NameExpr['to_s']
                                          ]
                                       ]
                                    ]
                                    $else: #List[
                                       $statement: #AssignExpr[
                                          $left: #Indexer[
                                             $base: #NameExpr['name']
                                             $index: #List[
                                                $expression: #StringExpr['TYPE']
                                             ]
                                          ]
                                          $right: #StringExpr['text']
                                       ]
                                       $statement: #NameExpr['name']
                                    ]
                                 ]
                              ]
                              $statement: #IfExpr[
                                 $then: #AssignExpr[
                                    $left: #Indexer[
                                       $base: #NameExpr['attributes']
                                       $index: #List[
                                          $expression: #StringExpr['MAXLENGTH']
                                       ]
                                    ]
                                    $right: #ApplyExpr[
                                       $recv: #NameExpr['maxlength']
                                       $recv: #NameExpr['to_s']
                                    ]
                                 ]
                                 $cond: #NameExpr['maxlength']
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['input']
                                 $param: #List[
                                    $expression: #NameExpr['attributes']
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['textarea']
                        $param: #List[
                           $param: #OptionalParam[
                              $name: #NameExpr['name']
                              $default: #StringExpr['']
                           ]
                           $param: #OptionalParam[
                              $name: #NameExpr['cols']
                              $default: #IntExpr['70']
                           ]
                           $param: #OptionalParam[
                              $name: #NameExpr['rows']
                              $default: #IntExpr['10']
                           ]
                        ]
                        $body: #BlockExpr[
                           $main: #List[
                              $statement: #AssignExpr[
                                 $left: #NameExpr['attributes']
                                 $right: #IfExpr[
                                    $cond: #ApplyExpr[
                                       $recv: #NameExpr['name']
                                       $recv: #NameExpr['kind_of?']
                                       $param: #List[
                                          $expression: #NameExpr['String']
                                       ]
                                    ]
                                    $then: #List[
                                       $hash: #Hash[
                                          $key: #StringExpr['NAME']
                                          $value: #NameExpr['name']
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['COLS']
                                          $value: #ApplyExpr[
                                             $recv: #NameExpr['cols']
                                             $recv: #NameExpr['to_s']
                                          ]
                                       ]
                                       $hash: #Hash[
                                          $key: #StringExpr['ROWS']
                                          $value: #ApplyExpr[
                                             $recv: #NameExpr['rows']
                                             $recv: #NameExpr['to_s']
                                          ]
                                       ]
                                    ]
                                    $else: #NameExpr['name']
                                 ]
                              ]
                              $statement: #ApplyExpr[
                                 #Self['self']
                                 $recv: #Super['super']
                                 $param: #List[
                                    $expression: #NameExpr['attributes']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
            ]
            $statement: #Module[
               $name: #NameExpr['Html3']
               $body: #BlockExpr[
                  $main: #List[
                     $statement: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['include']
                        $param: #List[
                           $expression: #NameExpr['TagMaker']
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['doctype']
                        $param: #List['']
                        $body: #BlockExpr[
                           $main: #ParcentNotation['%|<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">|']
                        ]
                     ]
                     $statement: #ApplyExpr[
                        $recv: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['instance_method']
                           $param: #List[
                              $expression: #NameExpr['nn_element_def']
                           ]
                        ]
                        $recv: #NameExpr['tap']
                        $body: #Block[
                           $param: #NameExpr['m']
                           $body: #For[
                              $iter: #NameExpr['element']
                              $range: #ParcentNotation['%w[ A TT I B U STRIKE BIG SMALL SUB SUP EM STRONG\n          DFN CODE SAMP KBD VAR CITE FONT ADDRESS DIV CENTER MAP\n          APPLET PRE XMP LISTING DL OL UL DIR MENU SELECT TABLE TITLE\n          STYLE SCRIPT H1 H2 H3 H4 H5 H6 TEXTAREA FORM BLOCKQUOTE\n          CAPTION ]']
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['define_method']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['element']
                                       $recv: #NameExpr['downcase']
                                    ]
                                    $expression: #NameExpr['m']
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #ApplyExpr[
                        $recv: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['instance_method']
                           $param: #List[
                              $expression: #NameExpr['nOE_element_def']
                           ]
                        ]
                        $recv: #NameExpr['tap']
                        $body: #Block[
                           $param: #NameExpr['m']
                           $body: #For[
                              $iter: #NameExpr['element']
                              $range: #ParcentNotation['%w[ IMG BASE BASEFONT BR AREA LINK PARAM HR INPUT\n          ISINDEX META ]']
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['define_method']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['element']
                                       $recv: #NameExpr['downcase']
                                    ]
                                    $expression: #NameExpr['m']
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #ApplyExpr[
                        $recv: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['instance_method']
                           $param: #List[
                              $expression: #NameExpr['nO_element_def']
                           ]
                        ]
                        $recv: #NameExpr['tap']
                        $body: #Block[
                           $param: #NameExpr['m']
                           $body: #For[
                              $iter: #NameExpr['element']
                              $range: #ParcentNotation['%w[ HTML HEAD BODY P PLAINTEXT DT DD LI OPTION TR\n          TH TD ]']
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['define_method']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['element']
                                       $recv: #NameExpr['downcase']
                                    ]
                                    $expression: #NameExpr['m']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
            ]
            $statement: #Module[
               $name: #NameExpr['Html4']
               $body: #BlockExpr[
                  $main: #List[
                     $statement: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['include']
                        $param: #List[
                           $expression: #NameExpr['TagMaker']
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['doctype']
                        $param: #List['']
                        $body: #BlockExpr[
                           $main: #ParcentNotation['%|<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">|']
                        ]
                     ]
                     $statement: #ApplyExpr[
                        $recv: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['instance_method']
                           $param: #List[
                              $expression: #NameExpr['nn_element_def']
                           ]
                        ]
                        $recv: #NameExpr['tap']
                        $body: #Block[
                           $param: #NameExpr['m']
                           $body: #For[
                              $iter: #NameExpr['element']
                              $range: #ParcentNotation['%w[ TT I B BIG SMALL EM STRONG DFN CODE SAMP KBD\n        VAR CITE ABBR ACRONYM SUB SUP SPAN BDO ADDRESS DIV MAP OBJECT\n        H1 H2 H3 H4 H5 H6 PRE Q INS DEL DL OL UL LABEL SELECT OPTGROUP\n        FIELDSET LEGEND BUTTON TABLE TITLE STYLE SCRIPT NOSCRIPT\n        TEXTAREA FORM A BLOCKQUOTE CAPTION ]']
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['define_method']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['element']
                                       $recv: #NameExpr['downcase']
                                    ]
                                    $expression: #NameExpr['m']
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #ApplyExpr[
                        $recv: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['instance_method']
                           $param: #List[
                              $expression: #NameExpr['nOE_element_def']
                           ]
                        ]
                        $recv: #NameExpr['tap']
                        $body: #Block[
                           $param: #NameExpr['m']
                           $body: #For[
                              $iter: #NameExpr['element']
                              $range: #ParcentNotation['%w[ IMG BASE BR AREA LINK PARAM HR INPUT COL META ]']
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['define_method']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['element']
                                       $recv: #NameExpr['downcase']
                                    ]
                                    $expression: #NameExpr['m']
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #ApplyExpr[
                        $recv: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['instance_method']
                           $param: #List[
                              $expression: #NameExpr['nO_element_def']
                           ]
                        ]
                        $recv: #NameExpr['tap']
                        $body: #Block[
                           $param: #NameExpr['m']
                           $body: #For[
                              $iter: #NameExpr['element']
                              $range: #ParcentNotation['%w[ HTML BODY P DT DD LI OPTION THEAD TFOOT TBODY\n          COLGROUP TR TH TD HEAD ]']
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['define_method']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['element']
                                       $recv: #NameExpr['downcase']
                                    ]
                                    $expression: #NameExpr['m']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
            ]
            $statement: #Module[
               $name: #NameExpr['Html4Tr']
               $body: #BlockExpr[
                  $main: #List[
                     $statement: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['include']
                        $param: #List[
                           $expression: #NameExpr['TagMaker']
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['doctype']
                        $param: #List['']
                        $body: #BlockExpr[
                           $main: #ParcentNotation['%|<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">|']
                        ]
                     ]
                     $statement: #ApplyExpr[
                        $recv: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['instance_method']
                           $param: #List[
                              $expression: #NameExpr['nn_element_def']
                           ]
                        ]
                        $recv: #NameExpr['tap']
                        $body: #Block[
                           $param: #NameExpr['m']
                           $body: #For[
                              $iter: #NameExpr['element']
                              $range: #ParcentNotation['%w[ TT I B U S STRIKE BIG SMALL EM STRONG DFN\n          CODE SAMP KBD VAR CITE ABBR ACRONYM FONT SUB SUP SPAN BDO\n          ADDRESS DIV CENTER MAP OBJECT APPLET H1 H2 H3 H4 H5 H6 PRE Q\n          INS DEL DL OL UL DIR MENU LABEL SELECT OPTGROUP FIELDSET\n          LEGEND BUTTON TABLE IFRAME NOFRAMES TITLE STYLE SCRIPT\n          NOSCRIPT TEXTAREA FORM A BLOCKQUOTE CAPTION ]']
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['define_method']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['element']
                                       $recv: #NameExpr['downcase']
                                    ]
                                    $expression: #NameExpr['m']
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #ApplyExpr[
                        $recv: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['instance_method']
                           $param: #List[
                              $expression: #NameExpr['nOE_element_def']
                           ]
                        ]
                        $recv: #NameExpr['tap']
                        $body: #Block[
                           $param: #NameExpr['m']
                           $body: #For[
                              $iter: #NameExpr['element']
                              $range: #ParcentNotation['%w[ IMG BASE BASEFONT BR AREA LINK PARAM HR INPUT\n          COL ISINDEX META ]']
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['define_method']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['element']
                                       $recv: #NameExpr['downcase']
                                    ]
                                    $expression: #NameExpr['m']
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #ApplyExpr[
                        $recv: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['instance_method']
                           $param: #List[
                              $expression: #NameExpr['nO_element_def']
                           ]
                        ]
                        $recv: #NameExpr['tap']
                        $body: #Block[
                           $param: #NameExpr['m']
                           $body: #For[
                              $iter: #NameExpr['element']
                              $range: #ParcentNotation['%w[ HTML BODY P DT DD LI OPTION THEAD TFOOT TBODY\n          COLGROUP TR TH TD HEAD ]']
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['define_method']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['element']
                                       $recv: #NameExpr['downcase']
                                    ]
                                    $expression: #NameExpr['m']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
            ]
            $statement: #Module[
               $name: #NameExpr['Html4Fr']
               $body: #BlockExpr[
                  $main: #List[
                     $statement: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['include']
                        $param: #List[
                           $expression: #NameExpr['TagMaker']
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['doctype']
                        $param: #List['']
                        $body: #BlockExpr[
                           $main: #ParcentNotation['%|<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN" "http://www.w3.org/TR/html4/frameset.dtd">|']
                        ]
                     ]
                     $statement: #ApplyExpr[
                        $recv: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['instance_method']
                           $param: #List[
                              $expression: #NameExpr['nn_element_def']
                           ]
                        ]
                        $recv: #NameExpr['tap']
                        $body: #Block[
                           $param: #NameExpr['m']
                           $body: #For[
                              $iter: #NameExpr['element']
                              $range: #ParcentNotation['%w[ FRAMESET ]']
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['define_method']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['element']
                                       $recv: #NameExpr['downcase']
                                    ]
                                    $expression: #NameExpr['m']
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #ApplyExpr[
                        $recv: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['instance_method']
                           $param: #List[
                              $expression: #NameExpr['nOE_element_def']
                           ]
                        ]
                        $recv: #NameExpr['tap']
                        $body: #Block[
                           $param: #NameExpr['m']
                           $body: #For[
                              $iter: #NameExpr['element']
                              $range: #ParcentNotation['%w[ FRAME ]']
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['define_method']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['element']
                                       $recv: #NameExpr['downcase']
                                    ]
                                    $expression: #NameExpr['m']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
            ]
            $statement: #Module[
               $name: #NameExpr['Html5']
               $body: #BlockExpr[
                  $main: #List[
                     $statement: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['include']
                        $param: #List[
                           $expression: #NameExpr['TagMaker']
                        ]
                     ]
                     $statement: #FuncDecl[
                        $name: #NameExpr['doctype']
                        $param: #List['']
                        $body: #BlockExpr[
                           $main: #ParcentNotation['%|<!DOCTYPE HTML>|']
                        ]
                     ]
                     $statement: #ApplyExpr[
                        $recv: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['instance_method']
                           $param: #List[
                              $expression: #NameExpr['nn_element_def']
                           ]
                        ]
                        $recv: #NameExpr['tap']
                        $body: #Block[
                           $param: #NameExpr['m']
                           $body: #For[
                              $iter: #NameExpr['element']
                              $range: #ParcentNotation['%w[ SECTION NAV ARTICLE ASIDE HGROUP HEADER\n        FOOTER FIGURE FIGCAPTION S TIME U MARK RUBY BDI IFRAME\n        VIDEO AUDIO CANVAS DATALIST OUTPUT PROGRESS METER DETAILS\n        SUMMARY MENU DIALOG I B SMALL EM STRONG DFN CODE SAMP KBD\n        VAR CITE ABBR SUB SUP SPAN BDO ADDRESS DIV MAP OBJECT\n        H1 H2 H3 H4 H5 H6 PRE Q INS DEL DL OL UL LABEL SELECT\n        FIELDSET LEGEND BUTTON TABLE TITLE STYLE SCRIPT NOSCRIPT\n        TEXTAREA FORM A BLOCKQUOTE CAPTION ]']
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['define_method']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['element']
                                       $recv: #NameExpr['downcase']
                                    ]
                                    $expression: #NameExpr['m']
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #ApplyExpr[
                        $recv: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['instance_method']
                           $param: #List[
                              $expression: #NameExpr['nOE_element_def']
                           ]
                        ]
                        $recv: #NameExpr['tap']
                        $body: #Block[
                           $param: #NameExpr['m']
                           $body: #For[
                              $iter: #NameExpr['element']
                              $range: #ParcentNotation['%w[ IMG BASE BR AREA LINK PARAM HR INPUT COL META\n        COMMAND EMBED KEYGEN SOURCE TRACK WBR ]']
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['define_method']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['element']
                                       $recv: #NameExpr['downcase']
                                    ]
                                    $expression: #NameExpr['m']
                                 ]
                              ]
                           ]
                        ]
                     ]
                     $statement: #ApplyExpr[
                        $recv: #ApplyExpr[
                           #Self['self']
                           $recv: #NameExpr['instance_method']
                           $param: #List[
                              $expression: #NameExpr['nO_element_def']
                           ]
                        ]
                        $recv: #NameExpr['tap']
                        $body: #Block[
                           $param: #NameExpr['m']
                           $body: #For[
                              $iter: #NameExpr['element']
                              $range: #ParcentNotation['%w[ HTML HEAD BODY P DT DD LI OPTION THEAD TFOOT TBODY\n          OPTGROUP COLGROUP RT RP TR TH TD ]']
                              $body: #ApplyExpr[
                                 #Self['self']
                                 $recv: #NameExpr['define_method']
                                 $param: #List[
                                    $expression: #ApplyExpr[
                                       $recv: #NameExpr['element']
                                       $recv: #NameExpr['downcase']
                                    ]
                                    $expression: #NameExpr['m']
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ]
               ]
            ]
            $statement: #Class[
               $name: #NameExpr['HTML3']
               $body: #BlockExpr[
                  $main: #List[
                     $statement: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['include']
                        $param: #List[
                           $expression: #NameExpr['Html3']
                        ]
                     ]
                     $statement: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['include']
                        $param: #List[
                           $expression: #NameExpr['HtmlExtension']
                        ]
                     ]
                  ]
               ]
            ]
            $statement: #Class[
               $name: #NameExpr['HTML4']
               $body: #BlockExpr[
                  $main: #List[
                     $statement: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['include']
                        $param: #List[
                           $expression: #NameExpr['Html4']
                        ]
                     ]
                     $statement: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['include']
                        $param: #List[
                           $expression: #NameExpr['HtmlExtension']
                        ]
                     ]
                  ]
               ]
            ]
            $statement: #Class[
               $name: #NameExpr['HTML4Tr']
               $body: #BlockExpr[
                  $main: #List[
                     $statement: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['include']
                        $param: #List[
                           $expression: #NameExpr['Html4Tr']
                        ]
                     ]
                     $statement: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['include']
                        $param: #List[
                           $expression: #NameExpr['HtmlExtension']
                        ]
                     ]
                  ]
               ]
            ]
            $statement: #Class[
               $name: #NameExpr['HTML4Fr']
               $body: #BlockExpr[
                  $main: #List[
                     $statement: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['include']
                        $param: #List[
                           $expression: #NameExpr['Html4Tr']
                        ]
                     ]
                     $statement: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['include']
                        $param: #List[
                           $expression: #NameExpr['Html4Fr']
                        ]
                     ]
                     $statement: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['include']
                        $param: #List[
                           $expression: #NameExpr['HtmlExtension']
                        ]
                     ]
                  ]
               ]
            ]
            $statement: #Class[
               $name: #NameExpr['HTML5']
               $body: #BlockExpr[
                  $main: #List[
                     $statement: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['include']
                        $param: #List[
                           $expression: #NameExpr['Html5']
                        ]
                     ]
                     $statement: #ApplyExpr[
                        #Self['self']
                        $recv: #NameExpr['include']
                        $param: #List[
                           $expression: #NameExpr['HtmlExtension']
                        ]
                     ]
                  ]
               ]
            ]
         ]
      ]
   ]
   #Comsumed['comsumed']
]
